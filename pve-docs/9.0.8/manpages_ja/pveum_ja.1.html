
<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="generator" content="AsciiDoc 10.2.1" />
<title>pveum(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>


<style type="text/css">
:root {
    /* pre-defined colors */
    --pdt-grey-950: hsl(0deg, 0%, 95%);
    --pdt-grey-750: hsl(0deg, 0%, 75%);
    --pdt-grey-400: hsl(0deg, 0%, 40%);
    --pdt-grey-250: hsl(0deg, 0%, 25%);
    --pdt-grey-150: hsl(0deg, 0%, 15%);
    --pdt-grey-100: hsl(0deg, 0%, 10%);
    --pdt-primary-850: hsl(205deg, 100%, 85%);
    --pdt-primary-800: hsl(205deg, 100%, 80%);
    --pdt-primary-700: hsl(205deg, 100%, 70%);
    --pdt-primary-250: hsl(205deg, 100%, 25%);
    --pdt-secondary-850: hsl(250deg, 100%, 85%);
}

#header > h1 > .image > img {
    max-width: 100%;
}

/* Avoid serif font and increase font-size from 16px to 18px. Makes it more similar to PBS docs */
body, p {
    font-family: Open Sans, sans-serif;
    font-size: 18px;
}

/* adjust admonition block spacing. this allows for a background on
 * admonition blocks that doesn't make the elements look to tightly
 * spaced.
 */
div.admonitionblock {
    border-radius: 3px;
    margin: 1.5em 0;
    padding: 0.5em 10% 0.5em 0.5em;
}

div.admonitionblock td.icon {
    padding-right: 0.5em;
}

div.admonitionblock td.icon > img {
    box-sizing: border-box;
    padding: 0.15em;
}

th.tableblock, td.tableblock {
    border-color: #527bbd80;
}

/* Fine-tune headings a bit */
h4 {
  font-size: 1.1em;
}
h5 {
  font-size: 1.05em;
}
h6 {
  font-size: 1.0em;
}

/* Support for heading anchor links */
h3 {
    border-bottom: unset;
}

h3 > span {
    display: inline-block;
    border-bottom: 2px solid silver;
}

a, a:visited {
    color: var(--pdt-primary-250);
}

a.headerlink {
    color: var(--pdt-grey-750);
    padding: 0 4px;
    text-decoration: none;
    visibility: hidden;
}

/* add it as an pseudo-element, so that it does not show up in the ToC */
a.headerlink::after {
    content: '\00b6';
    text-decoration: none;
}

h1:hover > a.headerlink,
h2:hover > a.headerlink,
h3:hover > a.headerlink,
h4:hover > a.headerlink,
h5:hover > a.headerlink,
h6:hover > a.headerlink {
  visibility: visible;
}

/* Hide the TOC menu toggler by default */
.menu-toggler, .nav-toggle, .menu-overlay {
    display: none;
}

#toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    overflow-y: auto;
    padding: 0.5em;
    transition: transform 0.2s ease-in-out;
    z-index: 1000;
}

/* Mobile styles */
@media only screen and (max-width: 1000px) {
    /* Avoid overly big header author block */
    #header span {
        font-size: 1rem;
        line-height: 1rem;
    }

    /* Show toggle button on mobile */
    .nav-toggle {
        display: inline-block;
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1001;
        background-color: var(--pdt-grey-100);
        color: var(--pdt-grey-950);
        opacity: 0.6;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 2px;
        transition: left 0.2s ease-in-out;
        font-size: 0;
    }
    .no-toc.nav-toggle {
        display: none !important;
    }

    /* Hide sidebar by default on mobile */
    #toc {
        transform: translateX(-100%);
        line-height: 1.5em;
        overflow-x: auto;
    }
    #content, #header {
        font-size: 1.25em;
        line-height: 1.5em;
    }

    /* Adjust body margin for mobile */
    body {
        margin: 1em !important;
        max-width: 100% !important;
        overflow-wrap: break-word;
    }

    /* Show sidebar when checkbox is checked */
    .menu-toggler:checked ~ #header #toc {
        transform: translateX(0);
    }

    /* Show overlay when menu is open */
    .menu-toggler:checked ~ .menu-overlay {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        cursor: pointer;
        animation: fadeIn 0.2s;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Change icon when open */
    .menu-toggler:checked ~ .nav-toggle::after {
        content: '✕';
    }
    .menu-toggler:not(:checked) ~ .nav-toggle::after {
        content: '☰';
    }

    .nav-toggle::after {
        display: block;
        font-size: 1.5rem;
    }
    .menu-toggler:checked ~ .nav-toggle {
        left: 24rem;
    }

}

/* barely useable at such small sizes but can only win here */
@media only screen and (max-width: 27rem) {
    body {
        margin: 0.5em !important;
    }
    #toc {
        font-size: 0.8em;
    }
    .menu-toggler:checked ~ .nav-toggle {
        left: 19rem;
    }
}


/* Dark mode theme */
@media screen and (prefers-color-scheme: dark) {
    :root {
        color-scheme: dark;
        --pdt-body-background: var(--pdt-grey-150);
        --pdt-text: var(--pdt-grey-950);
        --pdt-headline: var(--pdt-primary-800);
        --pdt-link: var(--pdt-primary-700);
        --pdt-highlighted-text: var(--pdt-primary-850);
        --pdt-background-sidebar: var(--pdt-grey-100);
        --pdt-background-listings: var(--pdt-grey-100);
        --pdt-border: var(--pdt-grey-400);
        --pdt-border-alt: var(--pdt-grey-250);
        --pdt-table-border: var(--pdt-grey-400);
        --pdt-background-admonition: var(--pdt-grey-250);
    }

    body {
        color: var(--pdt-text);
        background-color: var(--pdt-body-background);
    }

    a, a:visited {
        color: var(--pdt-link);
    }

    /* style headlines, titles etc. */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    thead,
    #author,
    #toctitle,
    div.title,
    td.hdlist1,
    caption.title,
    p.tableblock.header {
        color: var(--pdt-headline);
    }

    h1,
    h2,
    h3,
    #footer {
        border-color: var(--pdt-border);
    }

    /* formatted colored text */
    dt,
    em,
    pre,
    code,
    strong,
    .monospaced {
        color: var(--pdt-highlighted-text);
    }

    /* style the table of contents sidebar */
    div #toc {
        color: var(--pdt-text);
        background-color: var(--pdt-background-sidebar);
        border-color: var(--pdt-border-alt);
    }

    div #toc a:link,
    div #toc a:visited {
        color: var(--pdt-text);
    }

    /* reduce the brigthness of images a bit and make it reversable
     * through hovering over them.
     */
    .image > img {
        filter: brightness(90%);
    }

    .image > img:hover {
        filter: none;
    }

    /* tables */
    th.tableblock,
    td.tableblock,
    table.tableblock {
        border-color: var(--pdt-table-border);
    }

    div.quoteblock,
    div.verseblock {
        color: var(--pdt-text);
        border-color: var(--pdt-border);
    }

    /* listings (e.g. code snippet blocks) */
    div.listingblock > div.content {
        background-color: var(--pdt-background-listings);
        border-color: var(--pdt-border-alt);
    }

    /* admonition blocks (e.g. notes, warnings etc.) */
    div.admonitionblock {
        color: var(--pdt-text);
        background-color: var(--pdt-background-admonition);
    }

    div.admonitionblock td.content {
        border-color: var(--pdt-border);
    }

    /* makes the admonition icons appear a bit more consistent, by
     * adding a white background the shadows in the icons look
     * "correct"
     */
    div.admonitionblock td.icon > img {
        background-color: white;
        border-radius: 100%;
        filter: brightness(95%);
    }

    /* invert the logo */
    #header > h1 > .image > img {
        filter: invert(100%) hue-rotate(180deg) brightness(90%);
    }

    /* fixes the black text on unorderd lists */
    ul > li > * {
        color: var(--pdt-text);
    }

    .nav-toggle {
        background-color: var(--pdt-grey-250);
        color: var(--pdt-grey-950);
    }
}
</style>

<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
<script type="text/javascript">
var asciiDocTocOrig = asciidoc.toc;
asciidoc.toc = function(toclevel) {
    asciiDocTocOrig.call(asciidoc, toclevel);
    document.querySelectorAll('#toc a').forEach(link => {
        link.addEventListener('click', () => {
            document.getElementById('menu-toggler').checked = false;
        });
    });
    document.querySelector('.nav-toggle')?.classList.remove("no-toc");;
}
</script>
</head>
<body class="article" style="max-width:55em">
<input id="menu-toggler" type="checkbox" class="menu-toggler" />
<label for="menu-toggler" class="no-toc nav-toggle">☰</label>
<div id="header">
<h1>pveum(1)</h1>
<span id="author">Proxmox Server Solutions GmbH</span><br />
<span id="email" class="monospaced"><a href="mailto:support@proxmox.com">&lt;support@proxmox.com&gt;</a></span><br />
<span id="revnumber">バージョン 9.0.8</span>
<span id="revdate">最終更新 Tue Aug 5 16:04:45 CEST 2025</span>
</div>
<label for="menu-toggler" class="menu-overlay"></label>
<div id="content">
<div class="sect1">
<h2 id="user_mgmt">
名前<a class="headerlink" href="#user_mgmt" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pveum - Proxmox VEユーザー・マネージャ</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">
SYNOPSIS<a class="headerlink" href="#_synopsis" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>pveum</strong> <span class="monospaced">&lt;COMMAND&gt; [ARGS] [OPTIONS] (コマンド)</span></p></div>
<div class="paragraph">
<p><strong>pveum acl delete</strong> <span class="monospaced">&lt;path&gt; --roles &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span>アクセス制御<strong>リストを更新します。</strong></p></div>
<div class="paragraph">
<p>アクセス制御リストを更新します (権限の追加または削除)。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;path&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
アクセス制御パス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--グループ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
グループのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--propagate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
パーミッションの伝搬（継承）を許可します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--roles</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
ロールのリスト</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--トークン</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
APIトークンのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ユーザー</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ユーザーのリスト。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum acl list</strong> <span class="monospaced">[FORMAT_OPTIONS]</span>アクセス制御<strong>リストを取得します。</strong></p></div>
<div class="paragraph">
<p>アクセス制御リスト (ACL) を取得します。</p></div>
<div class="paragraph">
<p><strong>pveum acl modify</strong> <span class="monospaced">&lt;path&gt; --roles &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span>アクセス制御リストを<strong>更新</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>アクセス制御リストを更新します (権限の追加または削除)。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;path&gt;:</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
アクセス制御パス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--グループ</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
グループのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--propagate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
パーミッションの伝播（継承）を許可します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--roles</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
ロールのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--トークン</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
APIトークンのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ユーザー</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ユーザーのリスト。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum acldel</strong></p></div>
<div class="paragraph">
<p><em>pveum acl delete</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum aclmod</strong></p></div>
<div class="paragraph">
<p><em>pveum acl modify</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum group add</strong> <span class="monospaced">&lt;groupid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>新しいグループを作成します。</strong></p></div>
<div class="paragraph">
<p>新しいグループを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;groupid&gt;:</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum group delete</strong> <span class="monospaced">&lt;groupid&gt;</span><strong>[</strong>オプション]<strong>グループを削除します。</strong></p></div>
<div class="paragraph">
<p>グループを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;groupid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum group list</strong> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>グループを削除</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>グループのインデックスを表示します。</p></div>
<div class="paragraph">
<p><strong>pveum group modify</strong> <span class="monospaced">&lt;groupid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>グループデータを更新します。</strong></p></div>
<div class="paragraph">
<p>グループデータを更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;groupid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum groupadd</strong></p></div>
<div class="paragraph">
<p><em>pveum group add</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum groupdel</strong></p></div>
<div class="paragraph">
<p><em>pveum group delete</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum groupmod</strong></p></div>
<div class="paragraph">
<p><em>pveum group modify</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum help</strong> <span class="monospaced">[オプション]</span>。</p></div>
<div class="paragraph">
<p>指定したコマンドに関するヘルプを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">--extra-args</span> <span class="monospaced">&lt;配列</span></dt>
<dd>
<p>
特定のコマンドのヘルプを表示します</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--verbose</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
詳細出力形式。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum passwd</strong> <span class="monospaced">&lt;userid&gt;</span> <span class="monospaced">[OPTIONS]</span> <span class="monospaced"> ユーザの</span><strong>パスワードを変更します。</strong></p></div>
<div class="paragraph">
<p>ユーザ パスワードを変更します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザ ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-確認パスワード</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
変更を実行するユーザの現在のパスワード。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum pool add</strong> <span class="monospaced">&lt;poolid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>新しいプールを作成します。</strong></p></div>
<div class="paragraph">
<p>新しいプールを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;poolid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum pool delete</strong> <span class="monospaced">&lt;poolid&gt; [</span>OPTIONS]<strong>新しいプールを作成</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>プールを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;poolid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum pool list</strong> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>プールを一覧表示します。</strong></p></div>
<div class="paragraph">
<p>プールを一覧表示するか、プール構成を取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">-プール</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--type</span> <span class="monospaced">&lt;lxc | qemu | storage&gt;</span>.</dt>
<dd>
<p>
説明なし</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション:<span class="monospaced">poolid</span></td>
</tr></table>
</div>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum pool modify</strong> <span class="monospaced">&lt;poolid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>プールを更新します。</strong></p></div>
<div class="paragraph">
<p>プールを更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;poolid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--allow-move</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
すでに別のプールにいる場合でもゲストを追加できるようにします。ゲストは現在のプールから削除され、このプールに追加されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
追加する代わりに、渡された VMID および/またはストレージ ID を削除します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--storage</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
このプールから追加または削除するストレージ ID のリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vms</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
このプールから追加または削除するゲスト VMID のリスト。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum realm add</strong> <span class="monospaced">&lt;realm&gt; --type &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span>認証<strong>サーバを追加します。</strong></p></div>
<div class="paragraph">
<p>認証サーバを追加します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;realm&gt;:</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
認証ドメイン ID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--acr-values</span> <span class="monospaced">^[^x00-x1F-x7F &lt;&gt;#"]*$</span></dt>
<dd>
<p>
認証サーバーが認証要求に使用するよう要求されている認証コンテキスト・クラス参照値を指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--autocreate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ユーザーが存在しない場合は、自動的にユーザーを作成します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--base_dn</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAP ベースドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bind_dn</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAP バインド・ドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--capath</span> <span class="monospaced">&lt;string&gt;</span>(<em>デフォルト =</em> <span class="monospaced">/etc/ssl/certs</span>)</dt>
<dd>
<p>
CA 証明書ストアへのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--大文字小文字を区別</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ユーザ名は大文字と小文字を区別します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-証明書</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クライアント証明書へのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--certkey</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クライアント証明書キーへのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--check-connection</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
サーバへのバインド接続の確認</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--client-id</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
OpenIDクライアントID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--クライアント・キー</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
OpenID クライアント鍵</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--default</span> <span class="monospaced">&lt;boolean</span></dt>
<dd>
<p>
デフォルトのレルムとして使用</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ドメイン</span></dt>
<dd>
<p>
ADドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--フィルタ</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ユーザ同期用のLDAPフィルタ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_classes</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">groupOfNames, group, univentionGroup, ipausergroup</span>)</dt>
<dd>
<p>
グループのオブジェクトクラス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_dn</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
グループ同期用のLDAPベース・ドメイン名。設定されていない場合は、base_dnが使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_filter</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
グループ同期用の LDAP フィルタ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_name_attr</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
グループ名を表すLDAP属性。設定されていない場合、または見つかった場合は、DNの最初の値が名前として使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-autocreate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
グループが存在しない場合、自動的にグループを作成します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-claim</span> <span class="monospaced">(?^:[A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
グループの取得に使用されるOpenIDクレーム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-overwrite</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
すべてのグループはログイン時に上書きされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--issuer-url</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
OpenID Issuer Url</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--モード</span> <span class="monospaced">&lt;ldap | ldap+starttls | ldaps&gt;</span><em>(デフォルト =</em> <span class="monospaced">ldap</span>)</dt>
<dd>
<p>
LDAPプロトコルモード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パスワード</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAPバインドパスワード。<em>etc/pve/priv/realm/&lt;REALM&gt;.pw</em> に保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ポート</span> <span class="monospaced">&lt;整数&gt; (1 - 65535</span>)</dt>
<dd>
<p>
サーバ ポート。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プロンプト</span> <span class="monospaced">(?:none|login|consent|select_account|S+)</span></dt>
<dd>
<p>
認証サーバがエンドユーザに再認証と同意を求めるかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--query-userinfo</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
請求値の userinfo エンドポイントへのクエリを有効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scopes</span> <span class="monospaced">&lt;string&gt;</span><em>(デフォルト =</em> <span class="monospaced">email profile</span>)</dt>
<dd>
<p>
<em>電子メールや</em> <em>プロファイルなど</em>、認証して返すスコープ（ユーザ詳細）を指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--secure</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
セキュアな LDAPS プロトコルを使用します。非推奨: 代わりに<em>mode</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-サーバー1</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
サーバIPアドレス（またはDNS名）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--サーバ2</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
フォールバックサーバIPアドレス（またはDNS名）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sslversion</span> <span class="monospaced">&lt;tlsv1 | tlsv1_1 | tlsv1_2 | tlsv1_3&gt;</span>.</dt>
<dd>
<p>
LDAPS TLS/SSL バージョン。1.2より古いバージョンの使用はお勧めしません！</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sync-defaults-options</span> <span class="monospaced">[enable-new=&lt;1|0&gt;] [,full=&lt;1|0&gt;] [,purge=&lt;1|0&gt;] [,remove-vanished=([acl];[properties];[entry])|none] [,scope=&lt;users|groups|both&gt;]</span><span class="monospaced">--sync_attributes</span></dt>
<dd>
<p>
同期の動作に関するデフォルトのオプション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sync_attributes</span> <span class="monospaced">\w+=[^,]+(,\s*\w+=[^,]+)*</span></dt>
<dd>
<p>
どの LDAP 属性をどの PVE ユーザーフィールドにマッピングするかを指定するための key=value ペアのカンマ区切りリスト。例えば、LDAP 属性の<em>mail</em>を PVE の<em>email</em> にマッピングするには<em>email=mail</em> と記述します。デフォルトでは、各 PVE ユーザーフィールドは同名の LDAP 属性で表されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tfa</span> <span class="monospaced">type=&lt;TFATYPE&gt; [,digits=&lt;COUNT&gt;] [,id=&lt;ID&gt;] [,key=&lt;KEY&gt;] [,step=&lt;SECONDS&gt;] [,url=&lt;URL&gt;] --type</span>&lt;ad | ldap</dt>
<dd>
<p>
二要素認証を使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--type</span> <span class="monospaced">&lt;ad | ldap | openid | pam | pve&gt;</span><span class="monospaced">--user_attr</span> <span class="monospaced"> ￤User_attr</span>を指定します。</dt>
<dd>
<p>
レルムタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--user_attr</span> <span class="monospaced"> ∕S{2,}。</span>
</dt>
<dd>
<p>
LDAP ユーザー属性名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--user_classes</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">inetorgperson, posixaccount, person, user</span>)</dt>
<dd>
<p>
ユーザー用のオブジェクトクラス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--username-claim</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
一意のユーザー名の生成に使用する OpenID クレーム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--verify</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
サーバーのSSL証明書の確認</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum realm delete</strong> <span class="monospaced">&lt;realm&gt;</span><strong>[</strong>OPTIONS<span class="monospaced">]</span>認証<strong>サーバを削除します。</strong></p></div>
<div class="paragraph">
<p>認証サーバを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;realm&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
認証ドメインID</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum realm list</strong> <span class="monospaced">[FORMAT_OPTIONS]</span>認証<strong>ドメインのインデックスを表示</strong>します。</p></div>
<div class="paragraph">
<p>認証ドメイン インデックス。</p></div>
<div class="paragraph">
<p><strong>pveum realm modify</strong> <span class="monospaced">&lt;realm&gt;</span> <span class="monospaced">[OPTIONS]</span>認証<strong>ドメインの</strong>インデックスを<strong>変更します</strong>。</p></div>
<div class="paragraph">
<p>認証サーバの設定を更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;realm&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
認証ドメイン ID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--acr-values</span> <span class="monospaced">^[^x00-xx1Fxxx7F &lt;&gt;#"]*$</span></dt>
<dd>
<p>
認証サーバが認証要求に使用するよう要求される認証コンテキスト・クラス参照値を指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--autocreate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ユーザーが存在しない場合は、自動的にユーザーを作成します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--base_dn</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAP ベース・ドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bind_dn</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAP バインド・ドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--capath</span> <span class="monospaced">&lt;string&gt;</span>(<em>デフォルト =</em> <span class="monospaced">/etc/ssl/certs</span>)</dt>
<dd>
<p>
CA 証明書ストアへのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--大文字小文字を区別</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ユーザー名は大文字と小文字を区別します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-証明書</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クライアント証明書へのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--certkey</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クライアント証明書キーへのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--check-connection</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
サーバへのバインド接続をチェックします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--client-id</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
OpenID クライアント ID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--client-key</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
OpenID クライアント鍵</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--default</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
デフォルトのレルムとして使用</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
削除したい設定のリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ダイジェスト</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
現在の設定ファイルのダイジェストが異なる場合に変更を防止します。これは、同時変更を防止するために使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ドメイン</span></dt>
<dd>
<p>
ADドメイン名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--フィルタ</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ユーザ同期用のLDAPフィルタ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_classes</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">groupOfNames, group, univentionGroup, ipausergroup</span>)</dt>
<dd>
<p>
グループのオブジェクトクラス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_dn</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
グループ同期用のLDAPベース・ドメイン名。設定されていない場合は、base_dnが使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_filter</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
グループ同期用の LDAP フィルタ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--group_name_attr</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
グループ名を表すLDAP属性。設定されていない場合、または見つかった場合は、DNの最初の値が名前として使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-autocreate</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
グループが存在しない場合、自動的にグループを作成します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-claim</span> <span class="monospaced">(?^:[A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
グループの取得に使用されるOpenIDクレーム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--groups-overwrite</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
すべてのグループはログイン時に上書きされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--issuer-url</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
OpenID Issuer Url</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--モード</span> <span class="monospaced">&lt;ldap | ldap+starttls | ldaps&gt;</span><em>(デフォルト =</em> <span class="monospaced">ldap</span>)</dt>
<dd>
<p>
LDAPプロトコルモード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パスワード</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
LDAPバインドパスワード。<em>etc/pve/priv/realm/&lt;REALM&gt;.pw</em> に保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ポート</span> <span class="monospaced">&lt;整数&gt; (1 - 65535</span>)</dt>
<dd>
<p>
サーバ ポート。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プロンプト</span> <span class="monospaced">(?:none|login|consent|select_account|S+)</span></dt>
<dd>
<p>
認証サーバがエンドユーザに再認証と同意を求めるかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--query-userinfo</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
請求値の userinfo エンドポイントへのクエリを有効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scopes</span> <span class="monospaced">&lt;string&gt;</span><em>(デフォルト =</em> <span class="monospaced">email profile</span>)</dt>
<dd>
<p>
<em>電子メールや</em> <em>プロファイルなど</em>、認証して返すスコープ（ユーザ詳細）を指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--secure</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
セキュアな LDAPS プロトコルを使用します。非推奨: 代わりに<em>mode</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-サーバー1</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
サーバIPアドレス（またはDNS名）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--サーバ2</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
フォールバックサーバIPアドレス（またはDNS名）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sslversion</span> <span class="monospaced">&lt;tlsv1 | tlsv1_1 | tlsv1_2 | tlsv1_3&gt;</span>.</dt>
<dd>
<p>
LDAPS TLS/SSL バージョン。1.2より古いバージョンの使用はお勧めしません！</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sync-defaults-options</span> <span class="monospaced">[enable-new=&lt;1|0&gt;] [,full=&lt;1|0&gt;] [,purge=&lt;1|0&gt;] [,remove-vanished=([acl];[properties];[entry])|none] [,scope=&lt;users|groups|both&gt;]</span><span class="monospaced">--sync_attributes</span></dt>
<dd>
<p>
同期の動作に関するデフォルトのオプション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sync_attributes</span> <span class="monospaced">\w+=[^,]+(,\s*\w+=[^,]+)*</span></dt>
<dd>
<p>
どの LDAP 属性をどの PVE ユーザーフィールドにマッピングするかを指定するための key=value ペアのカンマ区切りリスト。例えば、LDAP 属性の<em>mail</em>を PVE の<em>email</em> にマッピングするには<em>email=mail</em> と記述します。デフォルトでは、各 PVE ユーザーフィールドは同名の LDAP 属性で表されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tfa</span> <span class="monospaced">type=&lt;TFATYPE&gt; [,digits=&lt;COUNT&gt;] [,id=&lt;ID&gt;] [,key=&lt;KEY&gt;] [,step=&lt;SECONDS&gt;] [,url=&lt;URL&gt;</span>]<span class="monospaced">--user_attr</span></dt>
<dd>
<p>
二要素認証を使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--user_attr</span> <span class="monospaced"> ￤S{2,}。</span>
</dt>
<dd>
<p>
LDAP ユーザー属性名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--user_classes</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">inetorgperson, posixaccount, person, user</span>)</dt>
<dd>
<p>
ユーザー用のオブジェクトクラス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--verify</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
サーバーの SSL 証明書の確認</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum realm sync</strong> <span class="monospaced">&lt;realm&gt;</span> <span class="monospaced">[OPTIONS]</span>認証<strong>サーバの設定を</strong>更新します<strong>。</strong></p></div>
<div class="paragraph">
<p>構成された LDAP から user.cfg にユーザーおよび/またはグループを同期します。注意: 同期されたグループは<em>name-$realm</em> という名前になるので、上書きを防ぐためにそれらのグループが存在しないことを確認してください。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;realm&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
認証ドメイン ID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--dry-run</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
設定されている場合、何も書き込みません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--enable-new</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
新しく同期されたユーザを直ちに有効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--full</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
廃止: 代わりに<em>remove-vanished</em>を使用します。設定されている場合、真実のソースとしてLDAPディレクトリを使用し、同期から返されないユーザまたはグループを削除し、同期されたユーザのローカルで変更されたすべてのプロパティを削除します。設定されていない場合、同期されたデータに存在する情報のみが同期され、それ以外のものは削除または変更されません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パージ</span> <span class="monospaced">&lt;boolean</span></dt>
<dd>
<p>
廃止: 代わりに<em>remove-vanished</em>を使用してください。同期中に設定から削除されたユーザーまたはグループのACLを削除します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--remove-vanished</span> <span class="monospaced">([acl];[properties];[entry])|none</span><em>(default =</em> <span class="monospaced">none</span>)</dt>
<dd>
<p>
セミコロンで区切られたリストで、同期中にユーザーやグループが消えたときに削除するものを指定します。<em>aclは</em>、ユーザー/グループが同期から返されなかったときにACLを削除します。リストの代わりに<em>none</em>（デフォルト）を指定することもできます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スコープ</span> <span class="monospaced">&lt;両方 | グループ | ユーザー</span></dt>
<dd>
<p>
何を同期するかを選択します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum role add</strong> <span class="monospaced">&lt;roleid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>新しいロールを作成します。</strong></p></div>
<div class="paragraph">
<p>新しいロールを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;roleid&gt;:</span> <span class="monospaced">&lt;文字列&gt;</span>--privs &lt;文字列</dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--privs</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum role delete</strong> <span class="monospaced">&lt;roleid&gt;</span><strong>[</strong>オプション]<strong>ロールを削除します。</strong></p></div>
<div class="paragraph">
<p>ロールを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;roleid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum role list</strong> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>ロールをリストします</strong>。</p></div>
<div class="paragraph">
<p>ロールのインデックスを表示します。</p></div>
<div class="paragraph">
<p><strong>pveum role modify</strong> <span class="monospaced">&lt;roleid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>既存のロールを更新します</strong>。</p></div>
<div class="paragraph">
<p>既存のロールを更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;roleid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--append</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
説明なし</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション:<span class="monospaced">privs</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--privs</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
記述なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum roleadd</strong></p></div>
<div class="paragraph">
<p><em>pveum role addの</em>エイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum role delete</strong></p></div>
<div class="paragraph">
<p><em>pveum role delete</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum rolemod</strong></p></div>
<div class="paragraph">
<p><em>pveum role modify</em> のエイリアスです。</p></div>
<div class="paragraph">
<p><strong>pveum ticket</strong> <span class="monospaced">&lt;ユーザー名&gt;</span> <span class="monospaced">[OPTIONS]</span>認証<strong>チケットを作成</strong>または検証します。</p></div>
<div class="paragraph">
<p>認証チケットを作成または検証します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;ユーザー名&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ユーザー名</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--new-format</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
このパラメータは無視され、1とみなされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--otp</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
二要素認証のためのワンタイムパスワードです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パス</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
チケットを検証し、ユーザが<em>パスに</em>アクセス<em>権限を持って</em>いるかどうかをチェックします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">privs</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--privs</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
チケットを検証し、ユーザが<em>パスに</em>アクセス<em>権限を持って</em>いるかどうかをチェックします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">path</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--realm</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
オプションで、このパラメータを使用して realm を渡すことができます。通常、レルムは単にユーザ名 &lt;username&gt;@&lt;realm&gt; に追加されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-tfa-チャレンジ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ユーザが応答したい TFA チャレンジ文字列。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user add</strong> <span class="monospaced">&lt;userid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>新しいユーザを作成します。</strong></p></div>
<div class="paragraph">
<p>新規ユーザを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--email</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--enable</span> <span class="monospaced">&lt;論理値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
アカウントを有効にします (デフォルト)。アカウントを無効にするには、これを<em>0</em>に設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--expire</span> <span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
アカウントの有効期限 (エポックからの秒数)。<em>0は</em>有効期限なしを意味します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--名</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--グループ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keys</span> <span class="monospaced">[0-9a-zA-Z!=]{0,4096}。</span>
</dt>
<dd>
<p>
二要素認証(yubico)のキー。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ラストネーム</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パスワード</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
初期パスワード。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user delete</strong> <span class="monospaced">&lt;userid&gt;</span><strong>[</strong>OPTIONS]<strong>ユーザを削除します。</strong></p></div>
<div class="paragraph">
<p>ユーザを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザーID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user list</strong> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>ユーザの一覧を表示</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>ユーザ インデックス。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">--有効</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
enableプロパティのオプションフィルタ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--full</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
グループとトークン情報を含みます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user modify</strong> <span class="monospaced">&lt;userid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>ユーザ構成を更新します。</strong></p></div>
<div class="paragraph">
<p>ユーザ構成を更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザーID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--append</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
説明なし</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">groups</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--email</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--enable</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
アカウントを有効にします（デフォルト）。これを<em>0</em>に設定するとアカウントが無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--expire</span> <span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
アカウントの有効期限 (エポックからの秒数)。<em>0は</em>有効期限なしを意味します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--名</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--グループ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keys</span> <span class="monospaced">[0-9a-zA-Z!=]{0,4096}。</span>
</dt>
<dd>
<p>
二要素認証(yubico)のキー。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ラストネーム</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user permissions</strong> <span class="monospaced">[&lt;userid&gt;]</span> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>ユーザ権限を</strong>更新します<strong>。</strong></p></div>
<div class="paragraph">
<p>指定されたユーザ/トークンの有効なパーミッションを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">(?^:^(?^:[^\s:/]+)\@(?^:[A-Za-z][A-Za-z0-9\.\-_]+)(?:!(?^:[A-Za-z][A-Za-z0-9\.\-_]+))?$)</span>
</dt>
<dd>
<p>
ユーザーIDまたは完全なAPIトークンID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パス</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ツリー全体ではなく、この特定のパスのみをダンプします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user tfa delete</strong> <span class="monospaced">&lt;userid&gt;</span> <span class="monospaced">[OPTIONS]</span>指定さ<strong>れたユーザーの TFA エントリを削除します。</strong></p></div>
<div class="paragraph">
<p>ユーザーから TFA エントリを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザーID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--id</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
TFA ID。指定がない場合は、すべての TFA エントリが削除されます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user tfa list</strong> <span class="monospaced">[&lt;userid&gt;]</span><strong>TFA エントリを一覧表示</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>TFA エントリをリストします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user tfa unlock [</strong> <span class="monospaced">&lt;userid&gt;</span>]<strong>ユーザの TFA エントリをロック解除します。</strong></p></div>
<div class="paragraph">
<p>ユーザの TFA 認証を解除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user token add</strong> <span class="monospaced">&lt;userid&gt; &lt;tokenid&gt;</span> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span>TFA<strong>エントリを削除</strong>します。</p></div>
<div class="paragraph">
<p>特定のユーザー用に新しいAPIトークンを生成します。注意: API トークンの値を返します。この値は後で取得できないため、保存しておく必要があります！</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式のフル・ユーザID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;tokenid&gt;:</span> <span class="monospaced">(?^:[A-Za-z][A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
ユーザ固有のトークン識別子。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--expire</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">userと同じ</span>)</dt>
<dd>
<p>
APIトークンの有効期限（エポックからの秒数）。<em>0は</em>有効期限なしを意味します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--privsep</span> <span class="monospaced">&lt;論理値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
個別のACLでAPIトークンの権限を制限するか（デフォルト）、対応するユーザーの全権限を与えます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user token delete</strong> <span class="monospaced">&lt;userid&gt; &lt;tokenid&gt;</span> <span class="monospaced">[FORMAT_OPTIONS] 指定した</span><strong>ユーザの</strong>API<strong>トークンを削除します</strong>。</p></div>
<div class="paragraph">
<p>指定したユーザのAPIトークンを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;tokenid&gt;:</span> <span class="monospaced">(?^:[A-Za-z][A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
ユーザー固有のトークン識別子。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user token list</strong> <span class="monospaced">&lt;userid&gt;</span> <span class="monospaced">[FORMAT_OPTIONS]</span><strong>ユーザの</strong>API<strong>トークンを取得します。</strong></p></div>
<div class="paragraph">
<p>ユーザのAPIトークンを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user token modify</strong> <span class="monospaced">&lt;userid&gt; &lt;tokenid&gt;</span> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span>指定した<strong>ユーザの</strong>API<strong>トークンを更新します</strong>。</p></div>
<div class="paragraph">
<p>特定のユーザのAPIトークンを更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザーID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;tokenid&gt;:</span> <span class="monospaced">(?^:[A-Za-z][A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
ユーザー固有のトークン識別子。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コメント</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--expire</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">userと同じ</span>)</dt>
<dd>
<p>
APIトークンの有効期限（エポックからの秒数）。<em>0は</em>有効期限なしを意味します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--privsep</span> <span class="monospaced">&lt;論理値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
個別のACL（デフォルト）でAPIトークンの権限を制限するか、対応するユーザーの全権限を付与します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum user token permissions</strong> <span class="monospaced">&lt;userid&gt; &lt;tokenid&gt;</span> <span class="monospaced">[OPTIONS]</span> <span class="monospaced">[FORMAT_OPTIONS]</span>指定した<strong>ユーザの</strong>API<strong>トークンを</strong>更新<strong>します。</strong></p></div>
<div class="paragraph">
<p>指定されたトークンの有効なパーミッションを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;userid&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
<span class="monospaced">name@realm</span>形式の完全なユーザーID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;tokenid&gt;:</span> <span class="monospaced">(?^:[A-Za-z][A-Za-z0-9\.\-_]+)</span></dt>
<dd>
<p>
ユーザー固有のトークン識別子。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パス</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ツリー全体ではなく、この特定のパスのみをダンプします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>pveum ユーザー トークン削除</strong></p></div>
<div class="paragraph">
<p><em>pveum user token delete</em> のエイリアスです。</p></div>
<div class="paragraph">
<p><strong>pveum useradd</strong></p></div>
<div class="paragraph">
<p><em>pveum user add</em> のエイリアスです。</p></div>
<div class="paragraph">
<p><strong>pveum userdel</strong></p></div>
<div class="paragraph">
<p><em>pveum user delete</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>pveum usermod</strong></p></div>
<div class="paragraph">
<p><em>pveum user modify</em> のエイリアス。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">
DESCRIPTION<a class="headerlink" href="#_description" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Proxmox VE は、Linux PAM、統合 Proxmox VE 認証サーバー、LDAP、Microsoft Active Directory、OpenID Connect など、複数の認証ソースをサポートしています。</p></div>
<div class="paragraph">
<p>すべてのオブジェクト（VM、ストレージ、ノードなど）に対してロールベースのユーザと権限管理を使用することで、きめ細かいアクセスを定義できます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_users">
ユーザー<a class="headerlink" href="#pveum_users" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Proxmox VEはユーザ属性を<span class="monospaced">/etc/pve/user.cfgに</span>保存します。 パスワードはここに保存されず、ユーザは後述する<a href="pveum.1.html#pveum_authentication_realms">認証レルムに</a>関連付けられます。 そのため、ユーザは内部的にユーザ名とレルムによって<span class="monospaced">&lt;userid&gt;@&lt;realm&gt;の</span>形式で識別されることがよくあります。</p></div>
<div class="paragraph">
<p>このファイルの各ユーザエントリは、以下の情報を含んでいます：</p></div>
<div class="ulist"><ul>
<li>
<p>
姓</p>
</li>
<li>
<p>
姓</p>
</li>
<li>
<p>
メールアドレス</p>
</li>
<li>
<p>
グループメンバーシップ</p>
</li>
<li>
<p>
有効期限（オプション</p>
</li>
<li>
<p>
このユーザーに関するコメントまたはメモ</p>
</li>
<li>
<p>
このユーザが有効か無効か</p>
</li>
<li>
<p>
オプションの二要素認証キー</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAKdUlEQVRoge1Ze1AV1x3+zt279wEi
DWCYGzRVktqa1MEmmtbWR22ncXxUrTDWV/5IqG2wUAUfmUwSkk6V+EAJCEQC6figwZBqZtRxqukf
tebRZBpFG1S0hiRErwiaKK977+6eX//YPXt37+UiIJlMZnpmdnb33PP4vt97z2VEhG9yc3zdAO60
/Z/A192+8QScX8Wifr+fWltbzffU1FT4fD72Vew15ASampqovr4eBw8eNPvGjRuHzMxMmj9//tCT
IKIhu958801yuVwEoNdr48aNNJT7EdHQEdi/fz/JshwTvLiKioqGlMSQLFJfX0+MMRvQsWNSqXLz
H2jez78fRWLTpk1DRuKOF6irqyOn02kDOP8XGdTz+VFSP91Hatu79NRvZ0SR2LJly5CQuKPJtbW1
JEmSDdivHp1AwctHSblYSsqFElLOF5PavIvWZU+LIrF169Y7JjHoibt3744CnzXrIQpeOUbKhVJS
mkpIPV9MyrnNpJwtIuVSNa15/MdRJLZt23ZHJBjRwIu5N954gxYvXgzOudm3aO5E1L5SBNZ1Hoxr
INLAyH6HJxVP/WkXtu9+37ZeSUkJVq9ePagQO+BMXFNTEwV+ybxHsPeVIjg6zwOkgSWNhuOuUUBC
KhxJY0AggDSgpwWbn1mO1csftq1ZUFCA0tLSQZXFA0pkVVVVlJOTA6vWsmY9hF07N0AS4OU48LgR
WLO+FPFxboxMS8G5hlPYmPMI4jwM1P0Jtj67DJyrKHvtNADdjPPz8+FwOCgvL29gmuivrVVUVESF
yqxZD1PoyjFSL+7QHbapmJTml+n9EzVRtl676ZekNKwl5VQ+KSfzKHR2E+UutodYxhiVl5cPyCf6
ZUJlZWWUm5trk/wTi6bgtVdf1M2Gq2DEwUgDNBWhUDBqjfSRwwGoIOEP3c3Y/uxirFw0zibMvLw8
VFZW9tucbkugoqKCVq1aZQO/YslUVJU+D9bVBIDroLgK4hygEDweybYGY8AD6d8yftfASL+j+2O8
9NwiPJk51kYiNzcXO3fu7BeJPgkUFxdTbm6ure/JZdNRub0QrOMcGFcBrgLgAHEAGqD2ID7OZZsz
Ji0RcR6HAV4DkaqPJxXouoSywkz8buF9NhIrV65EVVXVbUnEJHDixAlat26drS9n+U+xo/hZMMNh
yZA+uAbAIKOGMCJlmG3eA/clAYaJEamGBlRdC6QBXZewo3AhVswfbSORk5ODDz/8sE8SvRLw+/1U
XV0dBb5MgOe6LUNIEqpOwgCUlOCESw4HuAfG3KX7B2kAGaTJ0Jro77yI8ucX4DfzRtlIHD58GH6/
PyaJXgk0NjZi79695vuUiffrkr91Vt8cHAwc4FZJGiZEKqDcwsi0ZHP+d749POy8MS7iGtBxARWF
8/CDsQnm3BdeeAHWj6N+EYhspSVbgI5zYYkZGmAwzIEbwA0tUM9NfO+7aeb89HuGRQBWLcSNZxj3
zvOYMzk5NpjBEHi99mXD5lXdjqGDJh42h7CEOXhnK3448X5z/shUb1jSpIEM8yFuzOUcjAsNcnR0
KXdG4MEHH8TEiRPN9z0H3sfRE41m+GNcs9i0LjkGTTcrUoGem5g7/V5z/ohElw4O+jxGYQ3qJqmB
jN/+cbINtcfCJvPYY4+hr3qtVwI+n49lZmaa71fbbuH3hX/FycbPQKSCoIIMQEQcehjVo5Gw8/F3
3cSvH03H2HuHY1icQzcvYWKGIMiITMwQwjtnruPpqk9w/ZZq7p2RkYEJEyaAYrCIWY36/X7KyMhA
W1ub2XfP3Qmo3ZKFaQ+P0gmYIdSoOkU4lWSwxGRAdqHL/xm86k27w0blAw3/PncD6yo/xrsfdZj7
paSkoLGxESNGjAgDZsxWK8X0AZ/Px44fP460tLAzXrnWgUX5r+PYuxf1mG/Gf80sofWy2YuWbg/+
uONtPLHhPRw+0WIHL8hbwG95rcUGPiEhAYcOHUJSUhI456YZRWqiz+8BIqLm5mZMmjQJN27cMPsT
E9zYtWE25k4bYzh3mABIBRwOHPgPx+LH/6yDiXPi6pHZcEpk+I5qmtGpCzdQecCPPUevmevLsowj
R45gypQpcDgc5mVowKaJmBoQTEePHo2GhgaMGxcuum52BLHsqUOoP3oWgLB9Sz7QgpgxJoThw/SS
IutnaXBKZEpcgD998Uvs+3ubDbzT6URNTQ0mTZoEVVWhaRo459A0TeCy4etVA+JH8RvnHK2trZgz
Zw5Onz5tjnPJDrxSOAPLZt1nSVIqwDmIVJw6dx1nLt3A3J/cjZThkhE29cvf3o2KA59ja91lcz3G
GDZv3oylS5fC7XbD6XTC6XRCkiRIktS7Jm5HQLDXNA3Xr19HVlYWPvjgA4vEGLav+RHmTxsJX4rb
8AsO4kbOIG6GzTD4HvzlmB/PVH9q2zc/Px/Z2dnwer1wu92QZRkulwuSJEGWZZMEY8wkEGVCVvCC
AOcciqIgPj4e+/btw9SpU83xqkpYteU9HHm7Bf62rnC2RjikisTFSMPV9m4ceucannvVDn7p0qVY
uHAhgsEggsEgQqFQlAlZnVm0PjOxIKFpGogIqqrC5XKhuroa06dPt4wDcl78F+qPNeNKe6cRoTjs
ZYOKK+3dON7wBQrKm2H5pMbMmTOxZMkSBAIB9PT0oKenB4FAAIqiQFEUU4hRRyq3I2AlIZ4553A6
nSgvL8fs2bNtY9eVNaDub58YmhDZWpe+v70bJ5tu4clt/4WihqU4efJkrFixAkRkAg4Gg1AUBaqq
muDF/pGtX7WQNXeIZ0mSUFRUhAULFtjGPl3ZiJdev4QrbZ16zUQqrrZ342JLN5ZvaEJ3ICz68ePH
IycnB5qmmZIW4EOhUJTZWEKo+Rx1KsEYY9Zk4XA4IEmSKXnOuRkVJElCYWEhvF4v6urqzDVK9n2M
zu4Qnl5+L9q/7MHltgBWbr9kA5+eno7c3FzIsoyI5GrTeCzgosU8VmGMmSGLiEwSsixH2WNBQQEA
2EhUH/wc7330BaaOH479/2zHtS/CFabP58OaNWvg9Xp1EE4nZFmGLMtwu93wer1wuVy2ECpJko2I
iTNWJrZGI+HEwi6FisUVCAQQCASwZ88eVFZW9lk9JicnY/369fD5fPB4PCbo+Ph4k4TH44HL5YLX
64XX6zXH9EKE9aUBRkTEGLNJP1Kd4nI4HMjOzkZ8fDyKi4ttJ3eiJSYmYu3atRg1apQJzuv1wuPx
wOPxwOFwmEBFHnA6nXC5XGYSiywlbns2SnoDANN0hMNZnS0UCpkaOnPmDN566y20tLSY2ktLS8OM
GTOQkpICt9uNuLg4M2EJ8CJZSZJkZmFBwkrAWpH2+3BXEBEkRIhTVdVMOCL5qKqKy5cvQ1EUaJoG
VVWRnKx/Jlpt3eVy2QCKu9C68AFr9o0spwd0Oh1ZYggCIlNaiQktiXdhZgKQABcp3ci7LMtM7B0J
fsAErJoAYItG1mdr+hfvVlACtHDIXkploYXbHvQOikDEe6/ZmjFmAhf9ZvJxOk2Qol88W4kYz32S
GNQfHLG+TyMTkAVEr88xQfVnkBg7GAKixSIykDYQsL21/wFkW/B5QqT9lwAAAABJRU5ErkJggg==" />
</td>
<td class="content">ユーザーを無効または削除した場合、または設定された有効期限が過去の場合、このユーザーは新しいセッションにログインしたり、新しいタスクを開始したりできなくなります。このユーザーによってすでに開始されているすべてのタスク（ターミナル・セッションなど）は、このようなイベントによって自動的に終了する<strong>ことは</strong>ありません。</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_system_administrator">
<span>システム管理者</span> <a class="headerlink" href="#_system_administrator" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>システムのルート・ユーザは常に Linux PAM レルム経由でログインでき、制約のない管理者です。このユーザは削除できませんが、属性は変更できます。システムメールは、このユーザに割り当てられた電子メールアドレスに送信されます。</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_groups">
グループ<a class="headerlink" href="#pveum_groups" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>各ユーザーは複数のグループのメンバーになることができます。グループはアクセス権限を整理するのに適した方法です。個々のユーザーではなく、常にグループにパーミッションを与えるべきです。そうすることで、より保守性の高いアクセス制御リストを得ることができます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_tokens">
APIトークン<a class="headerlink" href="#pveum_tokens" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>APIトークンを使用すると、別のシステム、ソフトウェア、またはAPIクライアントからREST APIのほとんどの部分にステートレスでアクセスできます。トークンは個々のユーザーのために生成することができ、アクセスの範囲と期間を制限するために個別の権限と有効期限を与えることができます。APIトークンが漏洩した場合、ユーザー自身を無効にすることなく、トークンを失効させることができます。</p></div>
<div class="paragraph">
<p>APIトークンには基本的に2つのタイプがあります：</p></div>
<div class="ulist"><ul>
<li>
<p>
権限の分離：トークンに ACL による明示的なアクセス権を与える必要があります。 トークンの有効なアクセス権は、ユーザーとトークンのアクセス権を交差させて計算されます。</p>
</li>
<li>
<p>
完全な権限：トークンの権限は、関連付けられたユーザーの権限と同じです。</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">トークンの値は、トークンが生成されたときに一度だけ表示/返されます。後日、APIを介して再度取得することはできません！</td>
</tr></table>
</div>
<div class="paragraph">
<p>APIトークンを使用するには、APIリクエストを行う際にHTTPヘッダーの<em>Authorizationに</em> <span class="monospaced">PVEAPIToken=USER@REALM!TOKENID=UUIDという</span>形式の表示値を設定するか、APIクライアントのドキュメントを参照してください。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_resource_pools">
リソースプール<a class="headerlink" href="#pveum_resource_pools" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-pool-window.png">
<img src="images/screenshot/gui-datacenter-pool-window.png" alt="screenshot/gui-datacenter-pool-window.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>リソースプールは、仮想マシン、コンテナ、およびストレージデバイスのセットです。リソースごとに管理する必要がなく、単一のパーミッションを一連の要素に適用できるため、特定のユーザーが特定のリソースセットへのアクセスを制御する必要がある場合のパーミッション処理に便利です。リソースプールはグループと同時に使用されることが多く、グループのメンバはマシンとストレージのセットに対する権限を持っています。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_authentication_realms">
認証レルム<a class="headerlink" href="#pveum_authentication_realms" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Proxmox VEのユーザは、外部のレルムに存在するユーザのカウンターパートに過ぎないので、レルムは<span class="monospaced">/etc/pve/domains.cfgで</span>設定する必要があります。 以下のレルム（認証方法）が利用できます：</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Linux PAM 標準認証</dt>
<dd>
<p>
Linux PAMは、システム全体のユーザー認証のためのフレームワークです。これらのユーザーは、ホスト・システムで<span class="monospaced">adduser</span> などのコマンドを使用して作成します。Proxmox VE ホストシステム上に PAM ユーザーが存在する場合、対応するエントリを Proxmox VE に追加して、これらのユーザーがシステムユーザー名とパスワードでログインできるようにすることができます。</p>
</dd>
<dt class="hdlist1">
Proxmox VE 認証サーバ</dt>
<dd>
<p>
これは Unix ライクなパスワードストアで、<span class="monospaced">/etc/pve/priv/shadow.cfg</span> にハッシュ化されたパスワードを保存します。パスワードは SHA-256 ハッシュアルゴリズムを使ってハッシュされます。これは、ユーザがProxmox VEの外部にアクセスする必要がない小規模な（あるいは中規模の）インストールに最も便利な領域です。この場合、ユーザはProxmox VEによって完全に管理され、GUIを介して自分のパスワードを変更することができます。</p>
</dd>
<dt class="hdlist1">
LDAP</dt>
<dd>
<p>
LDAP（Lightweight Directory Access Protocol）は、ディレクトリサービスを使用した認証のためのオープンでクロスプラットフォームのプロトコルです。OpenLDAPは、LDAPプロトコルの一般的なオープンソース実装です。</p>
</dd>
<dt class="hdlist1">
Microsoft Active Directory (AD)</dt>
<dd>
<p>
Microsoft Active Directory (AD)はWindowsドメインネットワーク用のディレクトリサービスで、Proxmox VEの認証レルムとしてサポートされています。認証プロトコルとしてLDAPをサポートしています。</p>
</dd>
<dt class="hdlist1">
OpenID Connect</dt>
<dd>
<p>
OpenID Connectは、OAuth 2.0プロトコルの上にIDレイヤーとして実装されています。OpenID Connectは、OAuth 2.0プロトコルの上にIDレイヤとして実装されており、外部認証サーバによる認証に基づいて、クライアントがユーザのIDを確認することができます。</p>
</dd>
</dl></div>
<div class="sect2">
<h3 id="user-realms-pam">
<span>Linux PAM 標準認証</span> <a class="headerlink" href="#user-realms-pam" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Linux PAMはホストシステムユーザーに対応するため、ユーザーがログインできる各ノードにシステムユーザーが存在する必要があります。ユーザーは、通常のシステムパスワードで認証します。このレルムはデフォルトで追加され、削除することはできません。</p></div>
<div class="paragraph">
<p>GUIまたは同等の<span class="monospaced">/access/password</span>APIエンドポイント経由でのパスワード変更はローカルノードにのみ適用され、クラスタ全体には適用されません。Proxmox VEがマルチマスター設計であっても、ノードごとに異なるパスワードを使用することでセキュリティ上のメリットが得られます。</p></div>
<div class="paragraph">
<p>設定可能性という点では、管理者はレルムからのログインで二要素認証を要求したり、レルムをデフォルトの認証レルムとして設定したりできます。</p></div>
</div>
<div class="sect2">
<h3 id="user-realms-pve">
<span>Proxmox VE 認証サーバー</span> <a class="headerlink" href="#user-realms-pve" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Proxmox VE 認証サーバのレルムは、単純な Unix ライクなパスワードストアです。 レルムはデフォルトで作成され、Linux PAM と同様に、利用可能な設定項目は、レルムのユーザに 2 要素認証を要求する機能と、ログイン用のデフォルトのレルムとして設定する機能のみです。</p></div>
<div class="paragraph">
<p>他の Proxmox VE レルムタイプとは異なり、ユーザは他のシステムに対して認証するのではなく、 Proxmox VE を通して作成および認証されます。したがって、このタイプのユーザーは作成時にパスワードを設定する必要があります。</p></div>
</div>
<div class="sect2">
<h3 id="user-realms-ldap">
<span>LDAP</span> <a class="headerlink" href="#user-realms-ldap" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>ユーザ認証に外部 LDAP サーバを使用することもできます (OpenLDAP など)。このレルム・タイプでは、ユーザは<em>ユーザ属性名</em><span class="monospaced">（user_attr</span>）フィールドで指定されたユーザ名属性を使用して、<em>ベース・ドメイン名</em><span class="monospaced">（base_dn</span>）の下で検索されます。</p></div>
<div class="paragraph">
<p>サーバとオプションのフォールバック・サーバを構成することができ、SSLによって接続を暗号化することができます。さらに、ディレクトリとグループに対してフィルタを構成することもできます。フィルタにより、レルムの範囲をさらに制限することができます。</p></div>
<div class="paragraph">
<p>例えば、あるユーザが以下のようなLDIFデータセットで表されるとします：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># user1 of People at ldap-test.com dn: uid=user1,ou=People,dc=ldap-test,dc=com objectClass: top objectClass: person objectClass: organizationalPerson objectClass: inetOrgPerson uid: user1 cn：テストユーザー1 sn: Testers description：これは最初のテストユーザーです。</pre>
</div></div>
<div class="paragraph">
<p><em>ベースドメイン名は</em> <span class="monospaced">ou=People,dc=ldap-test,dc=com</span>で、ユーザー属性は<span class="monospaced">uid</span> です。</p></div>
<div class="paragraph">
<p>Proxmox VEがユーザを照会および認証する前にLDAPサーバに認証（バインド）する必要がある場合、<span class="monospaced">/etc/pve/domains.cfgの</span> <span class="monospaced">bind_dn</span>プロパティでバインドドメイン名を設定できます。そのパスワードは、<span class="monospaced">/etc/pve/priv/realm/&lt;realmname&gt;.pw</span>(例えば、<span class="monospaced">/etc/pve/priv/realm/my-ldap.pw</span>) に格納する必要があります。このファイルには、生のパスワードを1行で記述します。</p></div>
<div class="paragraph">
<p>証明書を検証するには、<span class="monospaced">capath を</span>設定する必要があります。LDAPサーバのCA証明書を直接設定するか、信頼されたCA証明書を含むシステムパス<span class="monospaced">(/etc/ssl/certs</span>)を設定することができます。 さらに、<span class="monospaced">verify</span>オプションを設定する必要があり、これはウェブインタフェース上でも行うことができます。</p></div>
<div class="paragraph">
<p>LDAP サーバ・レルムの主な構成オプションは以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">レルム</span><span class="monospaced">(realm</span>)：レルム（realm）：Proxmox VEユーザーのレルム識別子</p>
</li>
<li>
<p>
<span class="monospaced">ベースドメイン名</span><span class="monospaced">（base_dn</span>）：ユーザーを検索するディレクトリ</p>
</li>
<li>
<p>
<span class="monospaced">ユーザ属性名</span><span class="monospaced">(user_attr</span>)：ユーザがログインするユーザ名を含むLDAP属性</p>
</li>
<li>
<p>
<span class="monospaced">サーバ</span><span class="monospaced">（server1</span>）：LDAPディレクトリをホストするサーバ</p>
</li>
<li>
<p>
<span class="monospaced">フォールバック・サーバ</span><span class="monospaced">(server2</span>):：プライマリ・サーバーに到達できない場合のフォールバック・サーバー・アドレス（オプション</p>
</li>
<li>
<p>
<span class="monospaced">Port</span><span class="monospaced">（ポート</span>）：LDAPサーバーがリッスンするポート。</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">特定のユーザが LDAP サーバを使用して認証できるようにするには、そのユーザを Proxmox VE サーバからそのレルムのユーザとして追加する必要があります。これは<a href="pveum.1.html#pveum_ldap_sync"> 同期によって</a>自動的に実行できます。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="user-realms-ad">
<span>Microsoft Active Directory (AD)</span> <a class="headerlink" href="#user-realms-ad" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Microsoft ADをレルムとして設定するには、サーバ・アドレスと認証ドメインを指定する 必要があります。Active Directory は、オプションのフォールバックサーバ、ポート、SSL 暗号化など、LDAP と同じプロパティのほとんどをサポートしています。 さらに、設定後、<a href="pveum.1.html#pveum_ldap_sync"> 同期</a>操作によってユーザを自動的に Proxmox VE に追加できます。</p></div>
<div class="paragraph">
<p>LDAPと同様に、Proxmox VEがADサーバにバインドする前に認証する必要がある場合は、<em>バインド・ユーザ</em><span class="monospaced">（bind_dn</span>）プロパティを構成する必要があります。このプロパティは通常、Microsoft ADではデフォルトで必要です。</p></div>
<div class="paragraph">
<p>Microsoft Active Directoryの主な設定項目は以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">レルム</span><span class="monospaced">（realm</span>）：Proxmox VEユーザのレルム識別子。</p>
</li>
<li>
<p>
<span class="monospaced">ドメイン</span><span class="monospaced">（domain</span>）：サーバーの AD ドメイン</p>
</li>
<li>
<p>
<span class="monospaced">サーバー</span><span class="monospaced">（server1</span>）：サーバのFQDNまたはIPアドレス</p>
</li>
<li>
<p>
<span class="monospaced">予備サーバ</span><span class="monospaced">（server2</span>）：プライマリ・サーバーが到達不能な場合のフォールバック・サーバー・アドレス（オプション</p>
</li>
<li>
<p>
<span class="monospaced">ポート（port</span>）：Microsoft ADサーバーがリッスンするポート。</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">Microsoft ADは通常、大文字と小文字を区別せずにユーザー名のような値をチェックします。Proxmox VEを同じようにするには、Web UIでrealmを編集するか、CLIを使用してデフォルトの<span class="monospaced">大文字小文字を区別する</span>オプションを無効にします(realm IDで<span class="monospaced">IDを</span>変更します):<span class="monospaced">pveum realm modify ID --case-sensitive 0</span></td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="pveum_ldap_sync">
<span>LDAP ベースのレルムの同期</span> <a class="headerlink" href="#pveum_ldap_sync" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-realm-add-ldap.png">
<img src="images/screenshot/gui-datacenter-realm-add-ldap.png" alt="screenshot/gui-datacenter-realm-add-ldap.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>LDAPベースのレルム(LDAP &amp; Microsoft Active Directory)のユーザとグループをProxmox VEに手動で追加するのではなく、自動的に同期することが可能です。 同期オプションには、Webインターフェイスの<span class="monospaced">認証</span>パネルの追加/編集ウィンドウから、または<span class="monospaced">pveum realmの追加/変更</span>コマンドからアクセスできます。その後、GUI の<span class="monospaced">Authentication</span>パネルから、または以下のコマンドを使用して同期操作を実行できます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>pveum realm sync &lt;realm</pre>
</div></div>
<div class="paragraph">
<p>ユーザとグループはクラスタ全体の構成ファイル<span class="monospaced">/etc/pve/user.cfg</span> に同期されます。</p></div>
<div class="sect3">
<h4 id="_attributes_to_properties">属性からプロパティへ<a class="headerlink" href="#_attributes_to_properties" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>sync レスポンスにユーザ属性が含まれている場合、それらは<span class="monospaced">user.cfg</span> の該当するユーザプロパティに同期されます。例えば、<span class="monospaced">firstnameや</span><span class="monospaced">lastnameなど</span>です。</p></div>
<div class="paragraph">
<p>属性の名前がProxmox VEのプロパティと一致しない場合は、<span class="monospaced">sync_attributes</span>オプションを使用して、設定にカスタムフィールド間マップを設定することができます。</p></div>
<div class="paragraph">
<p>このようなプロパティが消えた場合にどのように処理されるかは、後述の同期オプションで制御できます。</p></div>
</div>
<div class="sect3">
<h4 id="_sync_configuration">同期構成<a class="headerlink" href="#_sync_configuration" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>LDAPベースのレルムを同期するための設定オプションは、追加/編集ウィンドウの<span class="monospaced">同期オプション・</span>タブにあります。</p></div>
<div class="paragraph">
<p>設定オプションは以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">バインド・ユーザー</span><span class="monospaced">（bind_dn</span>）：ユーザーとグループの問い合わせに使用されるLDAPアカウントを指します。このアカウントはすべてのエントリーにアクセスする必要があります。これが設定されている場合、検索はバインド経由で行われ、そうでない場合、検索は匿名で行われます。ユーザは完全なLDAP形式の識別名(DN)でなければなりません、例えば、<span class="monospaced">cn=admin,dc=example,dc=com</span>です。</p>
</li>
<li>
<p>
グループ名attr（group_name_attr）：ユーザのグループを表します。<span class="monospaced">user.cfgの</span>通常の文字制限に従ったエントリのみが同期されます。グループは、名前の衝突を避けるために、名前に<span class="monospaced">-$realmが</span>付加された状態で同期されます。同期によって手動で作成したグループが上書きされないようにしてください。</p>
</li>
<li>
<p>
<span class="monospaced">ユーザ・クラス</span><span class="monospaced">（user_classes</span>）：ユーザに関連付けられたオブジェクト・クラス。</p>
</li>
<li>
<p>
<span class="monospaced">グループ・クラス</span><span class="monospaced">(group_classes</span>)：グループに関連付けられたオブジェクト・クラス。</p>
</li>
<li>
<p>
<span class="monospaced">Eメール属性</span>：LDAP ベースのサーバでユーザの電子メール・アドレスが指定されている場合、ここで関連属性を設定することで、これらの電子メール・アドレスも同期に含めることができます。コマンドラインからは、<span class="monospaced">-sync_attributes</span>パラメータを指定することでこれを実現できます。</p>
</li>
<li>
<p>
<span class="monospaced">ユーザ・フィルタ</span><span class="monospaced">（filter</span>）：特定のユーザーを対象とするためのフィルタオプションです。</p>
</li>
<li>
<p>
<span class="monospaced">グループ・フィルター</span><span class="monospaced">（group_filter</span>）：特定のグループをターゲットとするフィルタ・オプション。</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">フィルタを使用すると、追加の一致基準を作成して同期の範囲を絞り込むことができます。利用可能なLDAPフィルタの種類とその使い方については、<a href="https://ldap.com/ldap-filters/">ldap.comを</a>参照してください。</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="pveum_ldap_sync_options">同期オプション<a class="headerlink" href="#pveum_ldap_sync_options" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-realm-add-ldap-sync-options.png">
<img src="images/screenshot/gui-datacenter-realm-add-ldap-sync-options.png" alt="screenshot/gui-datacenter-realm-add-ldap-sync-options.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>前のセクションで指定したオプションに加えて、同期操作の動作を記述するさらなるオプションを設定することもできます。</p></div>
<div class="paragraph">
<p>こ れ ら のオプシ ョ ンは、 同期の前にパ ラ メ タ と し て設定す る か、 ま たはレル ムオプシ ョ ン<span class="monospaced">sync-defaults-options</span> でデフ ォ ル ト と し て設定 し ます。</p></div>
<div class="paragraph">
<p>同期の主なオプションは以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">スコープ</span><span class="monospaced">（scope</span>）：同期する範囲を指定します。<span class="monospaced">ユーザー</span>、<span class="monospaced">グループ</span>、または<span class="monospaced">その両方を</span>指定できます。</p>
</li>
<li>
<p>
<span class="monospaced">Enable new</span>（<span class="monospaced">enable-new</span>）：設定すると、新しく同期されたユーザが有効になり、ログインできるようになります。デフォルトは<span class="monospaced">true</span>です。</p>
</li>
<li>
<p>
<span class="monospaced">バニッシュされたユーザを削除</span><span class="monospaced">（remove-vanished</span>）：これはオプションのリストで、有効にすると、同期応答から返されなかったときに削除されるかどうかを決定します。オプションは次のとおりです：</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">ACL</span><span class="monospaced">(acl)：</span>同期応答で返されなかったユーザーとグループの ACL を削除します。<span class="monospaced">Entry (エントリ</span>) と一緒に使うのが最も一般的です。</p>
</li>
<li>
<p>
<span class="monospaced">エントリ</span><span class="monospaced">(entry</span>)：エントリ（entry）：同期応答で返されなかったエントリ（ユーザーやグループなど）を削除します。</p>
</li>
<li>
<p>
<span class="monospaced">Properties</span><span class="monospaced">（プロパティ</span>）：同期応答内のユーザーがそれらの属性を含んでいない場合、エントリーのプロパティを削除します。これにはすべてのプロパティが含まれ、シンクによって設定されなかったプロパティも含まれます。例外は ト ー ク ン と 有効フラグで、 こ れ ら は こ のオプシ ョ ンを有効に し て も保持 さ れます。</p>
</li>
</ul></div>
</li>
<li>
<p>
<span class="monospaced">プレビュー</span><span class="monospaced">（dry-run</span>）：コンフィグにデータは書き込まれません。どのユーザとグループが<span class="monospaced">user.cfgに</span>同期されるかを確認したい場合に便利です。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="pveum_ldap_reserved_characters">予約文字<a class="headerlink" href="#pveum_ldap_reserved_characters" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>一部の文字は予約されており (<a href="https://www.ietf.org/rfc/rfc2253.txt">RFC2253を</a>参照)、適切にエスケープしないと DNの属性値で簡単に使うことができません。</p></div>
<div class="paragraph">
<p>以下の文字はエスケープが必要です：</p></div>
<div class="ulist"><ul>
<li>
<p>
先頭または末尾にスペース( )</p>
</li>
<li>
<p>
先頭に数字記号<span class="monospaced">(#</span>)</p>
</li>
<li>
<p>
カンマ (<span class="monospaced">,</span>)</p>
</li>
<li>
<p>
プラス記号<span class="monospaced">(+</span>)</p>
</li>
<li>
<p>
ダブルクォート（<span class="monospaced">"）</span></p>
</li>
<li>
<p>
スラッシュ<span class="monospaced">(/</span>)</p>
</li>
<li>
<p>
角括弧<span class="monospaced">(&lt;&gt;)</span></p>
</li>
<li>
<p>
セミコロン (<span class="monospaced">;</span>)</p>
</li>
<li>
<p>
等号<span class="monospaced">(=</span>)</p>
</li>
</ul></div>
<div class="paragraph">
<p>こ の よ う な文字を DN で使 う には、 属性値を二重引用符で囲みます。 た と えば、 CN (Common Name) が<span class="monospaced">Example, User</span> のユーザ と バ イ ン ド す る には、<span class="monospaced">bind_dn</span> の値 と し て<span class="monospaced">CN="Example, User",OU=people,DC=example,DC=com</span>を用います。</p></div>
<div class="paragraph">
<p>これは<span class="monospaced">base_dn</span> 属性、<span class="monospaced">bind_dn</span> 属性、<span class="monospaced">group_dn</span>属性にも当てはまります。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">コロンとスラッシュはユーザー名の予約文字であるため、同期できません。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pveum_openid">
<span>OpenID Connect</span> <a class="headerlink" href="#pveum_openid" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>主な OpenID Connect 構成オプションは以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">発行者URL</span><span class="monospaced">(issuer-url</span>)：Proxmox VEはOpenID Connect Discoveryプロトコルを使用して、詳細情報を自動的に設定します。</p>
<div class="paragraph">
<p>暗号化されていない<span class="monospaced">http://</span>URL を使用することも可能ですが、暗号化された<span class="monospaced">https://</span>接続を使用することを強くお勧めします。</p></div>
</li>
<li>
<p>
<span class="monospaced">レルム</span><span class="monospaced">（realm</span>）：Proxmox VEユーザーのレルム識別子です。</p>
</li>
<li>
<p>
<span class="monospaced">クライアントID</span><span class="monospaced">（client-id</span>）：  OpenIDクライアントID。</p>
</li>
<li>
<p>
<span class="monospaced">クライアントキー</span><span class="monospaced">（client-key</span>）：任意のOpenIDクライアントキー。</p>
</li>
<li>
<p>
<span class="monospaced">Autocreate Users</span><span class="monospaced">(autocreate</span>):<span class="monospaced">ユーザーを自動作成</span>します：ユーザが存在しない場合に自動的に作成します。認証はOpenIDサーバで行われますが、すべてのユーザはProxmox VEのユーザ設定にエントリが必要です。手動で追加するか、<span class="monospaced">autocreate</span>オプションを使用して新しいユーザを自動的に追加します。</p>
</li>
<li>
<p>
<span class="monospaced">ユーザ名クレーム</span><span class="monospaced">(username-claim</span>)：一意なユーザ名<span class="monospaced">（件名</span>、<span class="monospaced">ユーザ名</span>または<span class="monospaced">Eメール</span>）を生成するために使用されるOpenIDクレーム。</p>
</li>
<li>
<p>
<span class="monospaced">Groups</span><span class="monospaced">(groups-autocreate</span>):<span class="monospaced">グループを自動作成</span>します：既存の PVE グループを使用する代わりに、クレーム内のすべてのグループを作成します（デフォルトの動作）。</p>
</li>
<li>
<p>
<span class="monospaced">Groups Claim</span><span class="monospaced">（groups-claim</span>）：IDトークンまたはuserinfoエンドポイントからグループを取得するために使用されるOpenIDクレーム。</p>
</li>
<li>
<p>
<span class="monospaced">グループの上書き</span><span class="monospaced">（groups-overwrite</span>）：既存のグループに追加する代わりに、ユーザーに割り当てられたすべてのグループを上書きします (デフォルトの動作)。</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_username_mapping">ユーザー名のマッピング<a class="headerlink" href="#_username_mapping" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>OpenID Connect の仕様では、<span class="monospaced">subject</span> という名前の一意な属性<em>(</em>OpenID 用語では<em>claim</em>) が定義されています。デフォルトでは、この属性の値を使ってProxmox VEのユーザ名を生成します。</p></div>
<div class="paragraph">
<p>残念ながら、ほとんどの OpenID サーバは<span class="monospaced">subject</span> に<span class="monospaced">DGH76OKH34BNG3245SB の</span>ようなランダムな文字列を使うので、典型的なユーザ名は<span class="monospaced">DGH76OKH34BNG3245SB@yourrealm</span> のようになります。ユニークではありますが、人間がこのようなランダムな文字列を覚えておくのは難しいので、実際のユーザーをこの文字列と関連付けるのはかなり不可能です。</p></div>
<div class="paragraph">
<p><span class="monospaced">username-claim</span>設定では、ユーザー名のマッピングに他の属性を使うことができます。OpenID Connectサーバーがその属性を提供し、一意性が保証されている場合は、<span class="monospaced">usernameに</span>設定することをお勧めします。</p></div>
<div class="paragraph">
<p>別のオプションとして<span class="monospaced">email</span> を使うこともできます。この場合も、サーバがこの属性の一意性を保証している場合にのみ、この設定を使用してください。</p></div>
</div>
<div class="sect3">
<h4 id="_groups_mapping">グループのマッピング<a class="headerlink" href="#_groups_mapping" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>OpenIDの設定で<span class="monospaced">groups-claim</span>設定を指定すると、グループマッピング機能が有効になります。<span class="monospaced">groups-claim</span>で指定するデータは、Proxmox VE でユーザが所属すべきグループに対応する文字列のリストでなければなりません。衝突を防ぐため、OpenID claimのグループ名の末尾には<span class="monospaced">-&lt;realm name&gt;を</span>付けます(例えば、realm<span class="monospaced">oidcの</span>OpenIDグループ名<span class="monospaced">my-openid-groupの</span>場合、Proxmox VEのグループ名は<span class="monospaced">my-openid-group-oidcと</span>なります)。</p></div>
<div class="paragraph">
<p>OpenIDプロバイダから報告されたグループでProxmox VEに存在しないものは、デフォルトで無視されます。OpenIDプロバイダから報告されたすべてのグループがProxmox VEに存在する必要がある場合は、<span class="monospaced">groups-autocreate</span>オプションを使用して、ユーザのログイン時にこれらのグループを自動的に作成することができます。</p></div>
<div class="paragraph">
<p>デフォルトでは、グループはユーザの既存のグループに追加されます。ユーザが Proxmox VE で既にメンバになっているグループは、OpenID プロバイダのグループで上書きすることが望ましい場合があります。<span class="monospaced">groups-overwrite</span>設定を有効にすると、OpenID プロバイダから報告されたグループを追加する前に、Proxmox VE でユーザーからすべてのグループが削除されます。</p></div>
<div class="paragraph">
<p>場合によっては、OpenIDサーバーがProxmox VEのグループIDに無効な文字を含むグループクレームを送信することがあります。Proxmox VEのグループ名で許可されていない文字を含むグループは含まれず、警告がログに送信されます。</p></div>
</div>
<div class="sect3">
<h4 id="_advanced_settings">詳細設定<a class="headerlink" href="#_advanced_settings" title="Permalink to this heading"></a></h4>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">クエリ・ユーザインフォ・エンドポイント</span><span class="monospaced">（query-userinfo</span>）：このオプションを有効にすると、OpenID Connect 認証機能が "userinfo" エンドポイントにクレーム値を問い合わせるようになります。このオプションを無効にすると、"userinfo" エンドポイントをサポートしていない ID プロバイダ (ADFS など) がある場合に便利です。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_examples">例<a class="headerlink" href="#_examples" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>以下は Google を使用して OpenID レルムを作成する例です。<span class="monospaced">client-idと</span> <span class="monospaced">--client-keyは</span>Google OpenIDの設定値で置き換える必要があります。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>pveum realm add myrealm1 --type openid --issuer-url https://accounts.google.com --client-id XXXX --client-key YYYY --username-claim email</pre>
</div></div>
<div class="paragraph">
<p>上記のコマンドでは<span class="monospaced">--username-claim email を</span>使用しているので、Proxmox VE 側のユーザ名は<span class="monospaced">example.user@google.com@myrealm1</span> のようになります。</p></div>
<div class="paragraph">
<p>Keycloak<a href="https://www.keycloak.org/">（https://www.keycloak.org/</a>）は、OpenID ConnectをサポートするオープンソースのID・アクセス管理ツールです。以下の例では、<span class="monospaced">--issuer-url</span>と<span class="monospaced">--client-id</span>を自分の情報に置き換える必要があります：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>pveum realm add myrealm2 --type openid --issuer-url https://your.server:8080/realms/your-realm --client-id XXX --username-claim ユーザ名</pre>
</div></div>
<div class="paragraph">
<p><span class="monospaced">username-claimユーザー名を</span>使用すると、Proxmox VE側で<span class="monospaced">example.user@myrealm2の</span>ようなシンプルなユーザー名を使用できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">ユーザーが（Keycloakサーバー上で）ユーザー名設定を自分で編集できないようにする必要があります。</td>
</tr></table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_tfa_auth">
二要素認証<a class="headerlink" href="#pveum_tfa_auth" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>二要素認証を使用するには2つの方法があります：</p></div>
<div class="paragraph">
<p><em>TOTP</em>(Time-based One-Time Password) または<em>YubiKey OTP を使って</em>、認証レルムから要求されます。この場合、新しく作成されたユーザは、すぐに鍵を追加する必要があります。<em>TOTPの</em>場合、最初にログインできれば、後から<em>TOTPを</em>変更することも可能です。</p></div>
<div class="paragraph">
<p>あるいは、レルムが二要素認証を強制していなくても、ユーザは後から二要素認証にオプトインすることもできます。</p></div>
<div class="sect2">
<h3 id="_available_second_factors">
<span>利用可能な第二要素</span> <a class="headerlink" href="#_available_second_factors" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>スマートフォンやセキュリティキーを紛失してアカウントが永久に使えなくなる事態を避けるため、複数の二要素認証を設定することができます。</p></div>
<div class="paragraph">
<p>レルム強制 TOTP、YubiKey OTP に加え、以下の二要素認証が利用可能です：</p></div>
<div class="ulist"><ul>
<li>
<p>
ユーザが設定した TOTP (<a href="https://en.wikipedia.org/wiki/Time-based_One-Time_Password">Time-based One-Time Password</a>)。 共有秘密と現在時刻から生成される短いコードで、30 秒ごとに変更されます。</p>
</li>
<li>
<p>
WebAuthn<a href="https://en.wikipedia.org/wiki/WebAuthn">(Web Authentication</a>):一般的な認証規格。コンピュータやスマートフォンのハードウェアキーやTPM（Trusted Platform Module）など、さまざまなセキュリティデバイスによって実装されます。</p>
</li>
<li>
<p>
シングル・ユース・リカバリ・キー（Single use Recovery Keys）。印刷して安全な場所に保管するか、電子保管庫にデジタル保存する必要がある鍵のリスト。各キーは一度しか使用できません。他の第二の要素がすべて紛失または破損した場合でも、確実にロックアウトされないようにするために最適です。</p>
</li>
</ul></div>
<div class="paragraph">
<p>WebAuthn がサポートされる以前は、U2F をユーザーが設定することができました。WebAuthn がサポートされる前は、U2F をユーザが設定することができました。既存の U2F 要素を使用することもできますが、サーバ上で設定した後は WebAuthn に切り替えることをお勧めします。</p></div>
</div>
<div class="sect2">
<h3 id="_realm_enforced_two_factor_authentication">
<span>レルムが強制する二要素認証</span> <a class="headerlink" href="#_realm_enforced_two_factor_authentication" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>これは認証レルムを追加または編集する際に、<em>TFA</em>ドロップダウンボックスから利用可能な方法のいずれかを選択することで可能です。 レルムが TFA を有効にすると、それが必須条件となり、TFA を設定したユーザのみがログインできるようになります。</p></div>
<div class="paragraph">
<p>現在のところ、2つの方法が利用可能です：</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
時間ベースOATH (TOTP)</dt>
<dd>
<p>
これは標準的な HMAC-SHA1 アルゴリズムを使用し、現在の時刻がユーザーの設定したキーでハッシュ化されます。タイムステップとパスワードの長さのパラメータは設定可能です。</p>
<div class="paragraph">
<p>ユーザーは複数のキーを（スペースで区切って）設定でき、キーはBase32（RFC3548）または16進数表記で指定できます。</p></div>
<div class="paragraph">
<p>Proxmox VEは、<span class="monospaced">oathtool</span>コマンドラインツールやAndroid Google Authenticator、FreeOTP、andOTPなどの様々なOTPツールで直接使用できる、Base32表記のランダムキーを出力するキー生成ツール<span class="monospaced">（oathkeygen</span>）を提供します。</p></div>
</dd>
<dt class="hdlist1">
YubiKey OTP</dt>
<dd>
<p>
YubiKeyを使った認証には、Yubico API ID、API KEY、認証サーバURLが必要です。YubiKeyからキーIDを取得するには、YubiKeyをUSBで接続した後、一度YubiKeyを起動し、入力されたパスワードの最初の12文字をユーザーの<em>キーIDs</em>フィールドにコピーします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><a href="https://www.yubico.com/products/services-software/yubicloud/">YubiCloudを</a>利用する方法と、<a href="https://developers.yubico.com/Software_Projects/Yubico_OTP/YubiCloud_Validation_Servers/">独自に認証サーバをホスト</a>する方法については、<a href="https://developers.yubico.com/OTP/">YubiKey OTPの</a>ドキュメントを参照してください。</p></div>
</div>
<div class="sect2">
<h3 id="pveum_tfa_lockout">
<span>二要素認証の制限とロックアウト</span> <a class="headerlink" href="#pveum_tfa_lockout" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>第二の要因は、パスワードが何らかの形で漏れたり推測されたりした場合にユーザーを保護するためのものです。ただし、一部の要素は総当たりで破られる可能性があります。このため、第2要素によるログインに何度も失敗すると、ユーザーはロックアウトされます。</p></div>
<div class="paragraph">
<p>TOTPの場合、8回失敗するとユーザーのTOTP要素は無効になります。リカバリーキーでログインすると、ロックは解除されます。TOTPが唯一の利用可能な要素であった場合、管理者の介入が必要であり、ユーザーに直ちにパスワードの変更を要求することが強く推奨されます。</p></div>
<div class="paragraph">
<p>FIDO2/Webauthnとリカバリーキーはブルートフォースアタックの影響を受けにくいため、リミットは高くなりますが（100回）、それを超えるとすべてのセカンドファクターが1時間ブロックされます。</p></div>
<div class="paragraph">
<p>管理者は、UIのユーザーリストまたはコマンドラインから、いつでもユーザーの二要素認証を解除できます：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum ユーザー tfa ロック解除 joe@pve</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="pveum_user_configured_totp">
<span>ユーザが設定した TOTP 認証</span> <a class="headerlink" href="#pveum_user_configured_totp" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>ユーザは、ログイン時に<em>TOTP</em>または<em>WebAuthn</em>を第二要素として有効にするかどうかを、ユーザリストの<em>TFA</em>ボタンから選択できます（レルムが<em>YubiKey OTP を</em>強制している場合を除く）。</p></div>
<div class="paragraph">
<p>ユーザはいつでも<em>ワンタイムリカバリーキーを</em>追加して使用することができます。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-two-factor.png">
<img src="images/screenshot/gui-datacenter-two-factor.png" alt="screenshot/gui-datacenter-two-factor.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p><em>TFA</em>ウィンドウを開くと、<em>TOTP</em>認証を設定するためのダイアログが表示されます。<em>Secret」</em>フィールドには、<em>「Randomize」</em>ボタンでランダムに生成されるキーを入力します。ほとんどの<em>TOTP</em>アプリは、対応する<em>OTP</em>値とともに<em>発行</em>者名を表示します。ユーザ名も<em>TOTP</em>アプリの QR コードに含まれます。</p></div>
<div class="paragraph">
<p>キーを生成すると、FreeOTP などのほとんどの OTP アプリで使用できる QR コードが表示されます。その後、ユーザーは、現在のユーザーパスワード（<em>root</em> としてログインしている場合を除く）と、<em>TOTP</em>キーを正しく使用できることを、現在の<em>OTP</em>値を<em>検証コード</em>フィールドに入力し、<em>適用</em>ボタンを押すことで確認する必要があります。</p></div>
</div>
<div class="sect2">
<h3 id="user_tfa_setup_totp">
<span>TOTP</span> <a class="headerlink" href="#user_tfa_setup_totp" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/pve-gui-tfa-add-totp.png">
<img src="images/screenshot/pve-gui-tfa-add-totp.png" alt="screenshot/pve-gui-tfa-add-totp.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>サーバーのセットアップは必要ありません。スマートフォンにTOTPアプリ（<a href="https://freeotp.github.io/">FreeOTPなど</a>）をインストールし、Proxmox VEのウェブインターフェースを使用してTOTPファクターを追加するだけです。</p></div>
</div>
<div class="sect2">
<h3 id="user_tfa_setup_webauthn">
<span>WebAuthn</span> <a class="headerlink" href="#user_tfa_setup_webauthn" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>WebAuthnが機能するためには、2つのものが必要です：</p></div>
<div class="ulist"><ul>
<li>
<p>
信頼できる HTTPS 証明書 (<a href="https://pve.proxmox.com/wiki/Certificate_Management">Let's Encrypt</a> など)。 信頼できない証明書でもおそらく動作しますが、ブラウザによっては信頼できない証明書だと警告が表示されたり、WebAuthn の操作が拒否されたりすることがあります。</p>
</li>
<li>
<p>
WebAuthn 設定を設定します（Proxmox VE ウェブインタフェースの<strong>Datacenter → Options → WebAuthn Settings</strong>を参照）。これはほとんどのセットアップで自動入力できます。</p>
</li>
</ul></div>
<div class="paragraph">
<p>この 2 つの要件を満たすと、<strong>Datacenter → Permissions → Two Factor</strong> <strong>の Two Factor</strong>パネルで WebAuthn 設定を追加できます。</p></div>
</div>
<div class="sect2">
<h3 id="user_tfa_setup_recovery_keys">
<span>回復キー</span> <a class="headerlink" href="#user_tfa_setup_recovery_keys" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/pve-gui-tfa-add-recovery-keys.png">
<img src="images/screenshot/pve-gui-tfa-add-recovery-keys.png" alt="screenshot/pve-gui-tfa-add-recovery-keys.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>リカバリキーコードの準備は不要です。<strong>Datacenter → Permissions → Two Factor</strong> の<strong>Two Factor</strong>パネルでリカバリキーのセットを作成するだけです。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">シングルユースのリカバリキーのセットは、ユーザーごとに常に 1 セットのみです。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="pveum_configure_webauthn">
<span>サーバ側の Webauthn 設定</span> <a class="headerlink" href="#pveum_configure_webauthn" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-webauthn-edit.png">
<img src="images/screenshot/gui-datacenter-webauthn-edit.png" alt="screenshot/gui-datacenter-webauthn-edit.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>ユーザーが<em>WebAuthn</em>認証を使用できるようにするには、有効な SSL 証明書を持つ有効なドメインを使用する必要があります。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content"><em>WebAuthn の</em>設定を変更すると、既存のすべての<em>WebAuthn</em>登録が使用できなくなる可能性があります！</td>
</tr></table>
</div>
<div class="paragraph">
<p>これは、<span class="monospaced">/etc/pve/datacenter.cfg</span> を使用して行います。例えば</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>webauthn: rp=mypve.example.com,origin=https://mypve.example.com:8006,id=mypve.example.com</pre>
</div></div>
</div>
<div class="sect2">
<h3 id="pveum_configure_u2f">
<span>サーバー側 U2F 設定</span> <a class="headerlink" href="#pveum_configure_u2f" title="Permalink to this heading"></a></h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">代わりにWebAuthnを使用することをお勧めします。</td>
</tr></table>
</div>
<div class="paragraph">
<p>ユーザーが<em>U2F</em>認証を使用できるようにするには、有効な SSL 証明書で有効なドメインを使用する必要があります。最初は、<em>AppId</em><span class="footnote"><br>[AppId<a href="https://developers.yubico.com/U2F/App_ID.html">https://developers.yubico.com/U2F/App_ID.html]</a><br></span>を設定する必要があります。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content"><em>AppId</em>を変更すると、既存のすべての<em>U2F</em>登録が使用できなくなります！</td>
</tr></table>
</div>
<div class="paragraph">
<p>これは<span class="monospaced">/etc/pve/datacenter.cfg</span> を介して行われます。例えば</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>u2f: appid=https://mypve.example.com:8006</pre>
</div></div>
<div class="paragraph">
<p>単一のノードの場合、<em>AppId</em>はブラウザで使用される Web インターフェイスのアドレスになります。ブラウザによっては、<em>AppIdの</em>マッチングが他のブラウザよりも厳しい場合があることに注意してください。</p></div>
<div class="paragraph">
<p>複数のノードを使用する場合、<span class="monospaced">appid.json</span><span class="footnote"><br>[Multi-facet apps:<a href="https://developers.yubico.com/U2F/App_ID.html">https://developers.yubico.com/U2F/App_ID.html]</a><br></span>ファイルを提供する別の<span class="monospaced">https</span>サーバーを用意するのが最善です。すべてのノードが同じトップレベルドメインのサブドメインを使用している場合、<em>AppId</em> として TLD を使用すれば十分かもしれません。ただし、ブラウザによってはこれを受け入れない場合もあるので注意が必要です。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content"><em>AppIdが</em>不正な場合、通常はエラーが発生しますが、特にChromiumのサブドメイン経由でアクセスされるノードにトップレベルドメインの<em>AppIdを</em>使用している場合、エラーが発生しないことがあります。このため、後で<em>AppIdを</em>変更すると既存の<em>U2F</em>登録が使用できなくなるため、複数のブラウザで設定をテストすることをお勧めします。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="pveum_user_configured_u2f">
<span>ユーザーとしての U2F の有効化</span> <a class="headerlink" href="#pveum_user_configured_u2f" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p><em>U2F</em>認証を有効にするには、<em>TFA</em>ウィンドウの<em>U2F</em>タブを開き、現在のパスワードを入力し（rootでログインしている場合を除く）、<em>Register</em>ボタンを押します。 サーバが正しく設定され、ブラウザがサーバの提供する<em>AppIdを</em>受け入れると、<em>U2F</em>デバイスのボタンを押すよう促すメッセージが表示されます（<em>YubiKeyの</em>場合、ボタンのランプが1秒間に約2回、安定して点滅するはずです）。</p></div>
<div class="paragraph">
<p>Firefoxユーザーは<em>U2F</em>トークンを使う前に<em>about:configで</em> <em>security.webauth.u2fを</em>有効にする必要があるかもしれません。</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pveum_permission_management">
権限管理<a class="headerlink" href="#pveum_permission_management" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ユーザがアクション（VM の設定部分の一覧表示、変更、削除など）を実行するには、ユーザが適切な権限を持っている必要があります。</p></div>
<div class="paragraph">
<p>Proxmox VEは、ロールおよびパスベースの権限管理システムを使用しています。パーミッションテーブルのエントリは、<em>オブジェクト</em>または<em>パスに</em>アクセスする際に、ユーザ、グループ、またはトークンが特定の役割を担うことを許可します。このようなアクセスルールは、<em>(パス、ユーザー、ロール)</em>、<em>(パス、グループ、ロール)</em>、<em>(パス、トークン、ロール)の</em>トリプルとして表すことができます。</p></div>
<div class="sect2">
<h3 id="pveum_roles">
<span>ロール</span> <a class="headerlink" href="#pveum_roles" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>ロールは単に権限のリストです。Proxmox VEには、ほとんどの要件を満たす定義済みのロールが用意されています。</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">Administrator</span>: 全権限を持ちます。</p>
</li>
<li>
<p>
<span class="monospaced">NoAccess</span>: 権限がありません（アクセスを禁止するために使用します）。</p>
</li>
<li>
<p>
<span class="monospaced">PVEAdmin</span>：ほとんどのタスクを実行できますが、システム設定（<span class="monospaced">Sys.PowerMgmt</span>、<span class="monospaced">Sys.Modify</span>、<span class="monospaced">Realm.Allocate</span>）やパーミッション（<span class="monospaced">Permissions.Modify</span>）を変更する権限はありません。</p>
</li>
<li>
<p>
<span class="monospaced">PVEAuditor</span>: 読み取りのみのアクセス権</p>
</li>
<li>
<p>
<span class="monospaced">PVEDatastoreAdmin</span>: バックアップ領域とテンプレートの作成と割り当て</p>
</li>
<li>
<p>
<span class="monospaced">PVEDatastoreUser</span>: バックアップ領域の割り当てとストレージの表示</p>
</li>
<li>
<p>
<span class="monospaced">PVEMappingAdmin</span>：リソースマッピングの管理</p>
</li>
<li>
<p>
<span class="monospaced">PVEMappingUser</span>：リソースマッピングの表示と使用</p>
</li>
<li>
<p>
<span class="monospaced">PVEPoolAdmin</span>：プールの割り当て</p>
</li>
<li>
<p>
<span class="monospaced">PVEPoolUser</span>：プールの表示</p>
</li>
<li>
<p>
<span class="monospaced">PVESDNAdmin</span>: SDN 設定の管理</p>
</li>
<li>
<p>
<span class="monospaced">PVESDNUser</span>: ブリッジ/ネットへのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">PVESysAdmin</span>: 監査、システムコンソール、システムログ</p>
</li>
<li>
<p>
<span class="monospaced">PVETemplateUser</span>: テンプレートの表示とクローン</p>
</li>
<li>
<p>
<span class="monospaced">PVEUserAdmin</span>：ユーザー管理</p>
</li>
<li>
<p>
<span class="monospaced">PVEVMAdmin</span>：VMの完全管理</p>
</li>
<li>
<p>
<span class="monospaced">PVEVMUser</span>：表示、バックアップ、CD-ROM設定、VMコンソール、VM電源管理</p>
</li>
</ul></div>
<div class="paragraph">
<p>GUIで定義済みのロール一式を確認できます。</p></div>
<div class="paragraph">
<p>GUIまたはコマンドラインから新しいロールを追加できます。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-role-add.png">
<img src="images/screenshot/gui-datacenter-role-add.png" alt="screenshot/gui-datacenter-role-add.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>GUIから<em>Datacenterの</em> <em>Permissions → Roles</em>タブに移動し、<em>Create</em>ボタンをクリックします。そこでロール名を設定し、<em>Privileges</em>ドロップダウンメニューから必要な権限を選択できます。</p></div>
<div class="paragraph">
<p>コマンドラインからロールを追加するには、<em>pveum</em>CLIツールなどを使用します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>pveum role add VM_Power-only --privs<span style="color: #FF0000">"VM.PowerMgmt VM.Console"</span>pveum role add Sys_Power-only --privs<span style="color: #FF0000">"Sys.PowerMgmt Sys.Console"</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content"><span class="monospaced">PVEで</span>始まるロールは常にビルトインされ、カスタムロールはこの予約接頭辞を使用できません。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_privileges">
<span>特権</span> <a class="headerlink" href="#_privileges" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>特権とは、特定のアクションを実行する権利のことです。管理を簡単にするために、権限のリストはロールにグループ化され、権限テーブルで使用することができます。権限はロールの一部でなければ、ユーザやパスに直接割り当てることができないことに注意してください。</p></div>
<div class="paragraph">
<p>現在、以下の権限をサポートしています：</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
ノード/システム関連権限</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">Group.Allocate</span>：グループの作成/変更/削除。</p>
</li>
<li>
<p>
<span class="monospaced">Mapping.Audit</span>：リソースマッピングの表示</p>
</li>
<li>
<p>
<span class="monospaced">Mapping.Modify</span>: リソースマッピングの管理</p>
</li>
<li>
<p>
<span class="monospaced">Mapping.Use</span>: リソースマッピングの使用</p>
</li>
<li>
<p>
<span class="monospaced">Permissions.Modify</span>：アクセス許可の変更</p>
</li>
<li>
<p>
<span class="monospaced">Pool.Allocate</span>：プールの作成/変更/削除</p>
</li>
<li>
<p>
<span class="monospaced">Pool.Audit</span> ： プールの表示</p>
</li>
<li>
<p>
<span class="monospaced">Realm.AllocateUser</span>: ユーザーをレルムに割り当てます。</p>
</li>
<li>
<p>
<span class="monospaced">Realm.Allocate</span>: 認証レルムの作成/変更/削除</p>
</li>
<li>
<p>
<span class="monospaced">SDN.Allocate</span>: SDN コンフィギュレーションの管理</p>
</li>
<li>
<p>
<span class="monospaced">SDN.Audit</span>: SDNコンフィギュレーションの表示</p>
</li>
<li>
<p>
<span class="monospaced">Sys.Audit</span>: ノードステータス/コンフィグ、Corosyncクラスタコンフィグ、HAコンフィグの表示</p>
</li>
<li>
<p>
<span class="monospaced">Sys.Console</span>: ノードへのコンソールアクセス</p>
</li>
<li>
<p>
<span class="monospaced">Sys.Incoming</span>: 他のクラスタからの受信データストリームを許可（実験的）</p>
</li>
<li>
<p>
<span class="monospaced">Sys.Modify</span>: ノードネットワークパラメータの作成/変更/削除</p>
</li>
<li>
<p>
<span class="monospaced">Sys.PowerMgmt</span>: ノードの電源管理（起動、停止、リセット、シャットダウンなど）</p>
</li>
<li>
<p>
<span class="monospaced">Sys.Syslog</span>：シスログの表示</p>
</li>
<li>
<p>
<span class="monospaced">User.Modify</span>：ユーザーアクセスと詳細の作成/変更/削除</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
仮想マシン関連権限</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">SDN.Use</span>：SDNネットとローカルネットワークブリッジへのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">VM.Allocate</span>: サーバ上の VM の作成/削除</p>
</li>
<li>
<p>
<span class="monospaced">VM.Audit</span>: VM のコンフィグを表示</p>
</li>
<li>
<p>
<span class="monospaced">VM.Backup</span>: VM のバックアップ/リストア</p>
</li>
<li>
<p>
<span class="monospaced">VM.Clone</span>: VM のクローン/コピー</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.CDROM</span>: CD-ROM の取り出し/変更</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.CPU</span>: CPU設定の変更</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.Cloudinit</span>: クラウドイットパラメータの変更</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.Disk</span>: ディスクの追加/変更/削除</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.HWType</span>: エミュレートされたハードウェアタイプの変更</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.Memory</span>: メモリ設定の変更</p>
</li>
<li>
<p>
<span class="monospaced">VM.Config.Network</span>: ネットワークデバイスの追加/変更/削除</p>
</li>
<li>
<p>
VM<span class="monospaced">.Config.Options</span>：その他のVM設定を変更します。</p>
</li>
<li>
<p>
<span class="monospaced">VM.Console</span>: VM へのコンソールアクセス</p>
</li>
<li>
<p>
<span class="monospaced">VM.GuestAgent.Audit</span>: 情報の QEMU ゲストエージェントコマンドの発行</p>
</li>
<li>
<p>
<span class="monospaced">VM.GuestAgent.FileRead</span>: QEMU ゲストエージェント経由でゲストからファイルを読み込みます。</p>
</li>
<li>
<p>
<span class="monospaced">VM.GuestAgent.FileSystemMgmt</span>: QEMU ゲストエージェント経由でファイルシステムをフリーズ/解凍/トリムします。</p>
</li>
<li>
<p>
<span class="monospaced">VM.GuestAgent.FileWrite</span>: QEMU ゲストエージェント経由でゲストにファイルを書き込みます。</p>
</li>
<li>
<p>
<span class="monospaced">VM.GuestAgent.Unrestricted</span>: 任意の QEMU ゲストエージェントコマンドの発行</p>
</li>
<li>
<p>
<span class="monospaced">VM.Migrate</span>: クラスタ上の代替サーバに VM を移行</p>
</li>
<li>
<p>
<span class="monospaced">VM.PowerMgmt</span>: 電源管理（起動、停止、リセット、シャットダウンなど）</p>
</li>
<li>
<p>
<span class="monospaced">VM.Replicate</span>: ゲストレプリケーションの設定と実行</p>
</li>
<li>
<p>
VM<span class="monospaced">.Snapshot.Rollback</span>：VMをスナップショットの1つにロールバックします。</p>
</li>
<li>
<p>
<span class="monospaced">VM.Snapshot</span>: VMスナップショットの作成/削除</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
ストレージ関連権限</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">Datastore.Allocate</span>：データストアの作成/変更/削除、ボリュームの削除</p>
</li>
<li>
<p>
<span class="monospaced">Datastore.AllocateSpace</span> ： デー タ ス ト アの領域割 り 当て</p>
</li>
<li>
<p>
<span class="monospaced">Datastore.AllocateTemplate</span> ： テ ン プ レー ト お よ び ISO イ メ ージ の割 り 当て/ア ッ プ ロー ド</p>
</li>
<li>
<p>
<span class="monospaced">Datastore.Audit</span> ： デー タ ス ト アの表示/参照</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content"><span class="monospaced">Permissions.Modifyと</span> <span class="monospaced">Sys.Modifyは</span>、危険な、あるいは機密性の高いシステムおよびその構成の変更を許可するものであるため、取り扱いには注意が必要です。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">割り当てられたロール（およびその権限）がACLツリーに沿ってどのように伝搬されるかを理解するために、以下の継承に関するセクションを注意深く読んでください。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_objects_and_paths">
<span>オブジェクトとパス</span> <a class="headerlink" href="#_objects_and_paths" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>アクセス権限は、仮想マシン、ストレージ、リソースプールなどのオブジェクトに割り当てられます。 これらのオブジェクトに対応するために、ファイルシステムのようなパスを使用します。これらのパスは自然なツリーを形成し、上位レベル（より短いパス）のパーミッションは、オプションでこの階層内に伝搬することができます。</p></div>
<div class="paragraph" id="pveum_templated_paths">
<p>パスはテンプレート化できます。API 呼び出しがテンプレート化されたパスのパーミッションを必要とする場合、パスには API 呼び出しのパラメータへの参照が含まれることがあります。こ れ ら の参照は中かっ こ で指定 し ます。一部のパラメータは、APIコールのURIから暗黙的に取得されます。例えば、<em>/nodes/mynode/status を</em>呼び出す際のパーミッションパス<span class="monospaced">/nodes/{node}</span>は<span class="monospaced">/nodes/mynode</span> のパーミッションを必要とし、<span class="monospaced">/access/acl</span>への PUT リクエストのパス<span class="monospaced">{path}</span>はメソッドの<span class="monospaced">パス</span>パラメータを参照します。</p></div>
<div class="paragraph">
<p>いくつかの例を示します：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">/ノード/{ノード}</span>：Proxmox VEサーバマシンへのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">/vms</span>：すべてのVMをカバー</p>
</li>
<li>
<p>
<span class="monospaced">/vms/{vmid}：</span>特定の VM へのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">/storage/{storeid}：</span>特定のストレージへのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">/pool/{プール名}</span>：特定の<a href="pveum.1.html#pveum_pools">プールに</a>含まれるリソースへのアクセス</p>
</li>
<li>
<p>
<span class="monospaced">/access/groups</span>：グループ管理</p>
</li>
<li>
<p>
<span class="monospaced">/access/realms/{realmid}</span>：レルムへの管理アクセス</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_inheritance">継承<a class="headerlink" href="#_inheritance" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>前述のように、オブジェクト・パスはファイル・システムのようなツリーを形成し、パーミッションはそのツリーの下のオブジェクトに継承されます（デフォルトではpropagateフラグが設定されています）。以下の継承ルールを使用します：</p></div>
<div class="ulist"><ul>
<li>
<p>
個々のユーザーに対する権限は、常にグループに対する権限に取って代わります。</p>
</li>
<li>
<p>
グループのパーミッションは、ユーザーがそのグループのメンバーである場合に適用されます。</p>
</li>
<li>
<p>
より深いレベルのアクセス許可は、上位レベルから継承されたアクセス許可を置き換えます。</p>
</li>
<li>
<p>
<span class="monospaced">NoAccess は</span>、指定されたパス上の他のすべてのロールをキャンセルします。</p>
</li>
</ul></div>
<div class="paragraph">
<p>さらに、権限分離されたトークンは、関連するユーザが持っていないパーミッションを任意のパス上で持つことはできません。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="pveum_pools">
<span>プール</span> <a class="headerlink" href="#pveum_pools" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>プールを使用して、一連の仮想マシンとデータストアをグループ化できます。その後、プール<span class="monospaced">(/pool/{poolid}</span>) にパーミッションを設定するだけで、そのパーミッションはすべてのプール・メンバーに継承されます。これは、アクセス制御を簡素化する素晴らしい方法です。</p></div>
</div>
<div class="sect2">
<h3 id="_which_permissions_do_i_need">
<span>どのパーミッションが必要ですか？</span> <a class="headerlink" href="#_which_permissions_do_i_need" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>必要なAPIパーミッションは、個々のメソッドごとに文書化されており、<a href="https://pve.proxmox.com/pve-docs/api-viewer/">https://pve.proxmox.com/pve-docs/api-viewer/。</a></p></div>
<div class="paragraph">
<p>パーミッションは、ロジックとアクセス・チェック関数のツリーとして解釈できるリストとして指定されます：</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
[<span class="monospaced">and", &lt;subtests&gt;...]</span>と<span class="monospaced">["or", &lt;subtests&gt;...] です。</span></dt>
<dd>
<p>
現在のリスト内の各<span class="monospaced">(and</span>)または任意の<span class="monospaced">(or</span>)要素は真でなければなりません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">["perm", &lt;path&gt;, [ &lt;privileges&gt;... ], &lt;options&gt;...] 。</span></dt>
<dd>
<p>
<span class="monospaced">パスは</span>テンプレート化されたパラメータです (「<a href="pveum.1.html#pveum_templated_paths">オブジェクトとパス</a>」参照)。リ ス ト さ れてい る 権限のすべて （または<span class="monospaced">any</span>オプシ ョ ンが用い られている と きは any） が、 指定 さ れたパス上で許 さ れてい る 必要があ り ます。<span class="monospaced">require-param</span>オプシ ョ ンが指定 さ れてい る と き は、 その API 呼び出 し の ス キーマがそれ以外をオプシ ョ ナル と し て リ ス ト し てい る と き で も 、 その指定 さ れたパ ラ メ タ は必須です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">["userid-group", [ &lt;privileges&gt;... ], &lt;options&gt;...] ["userid-param",</span>&lt;path&gt;,<span class="monospaced">[ &lt;privileges&gt;... ], &lt;options&gt;...].</span></dt>
<dd>
<p>
呼び出し元は、<span class="monospaced">/access/groupsに</span>リストされた特権のいずれかを持っている必要があります。さらに、<span class="monospaced">groups_param</span>オプションが設定されているかどうかによって、2つのチェックが可能です：</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">groups_param</span>が設定されています：API コールに非オプシ ョ ンの<span class="monospaced">groups</span>パ ラ メ ー タ があ り 、 呼び出 し 側が、 リ ス ト さ れてい る グループすべてに対す る いずれかの権限を持ってい る 必要があ り ます。</p>
</li>
<li>
<p>
<span class="monospaced">groups_param</span>が設定されていません：<span class="monospaced">userid</span>パラメータを介して渡されたユーザは、呼び出し元がリストされた特権のいずれかを持つグループに存在し、その一部である必要があります（<span class="monospaced">/access/groups/&lt;group&gt;</span>パスを介して）。</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">["userid-param", "self"]。</span></dt>
<dd>
<p>
APIコールの<span class="monospaced">userid</span>パラメータに提供される値は、アクションを実行するユーザを参照する必要があります（通常は<span class="monospaced">orと組み合わせて</span>、ユーザが昇格権限を持っていなくても自分自身に対してアクションを実行できるようにします）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">["userid-param", "Realm.AllocateUser"]。</span></dt>
<dd>
<p>
ユーザは<span class="monospaced">/access/realm/&lt;realm&gt;への</span> <span class="monospaced">Realm.AllocateUser</span>アクセスが必要で、<span class="monospaced">&lt;realm&gt;は</span> <span class="monospaced">userid</span>パラメータで渡されたユーザのrealmを指します。ユーザ ID は<span class="monospaced">&lt;username&gt;@&lt;realm&gt;</span> という形式で渡されますので、ユーザが存在しなくてもレルムに関連付けることができることに注意してください<span class="monospaced">。</span></p>
</dd>
<dt class="hdlist1">
<span class="monospaced">["perm-modify", &lt;パス］</span></dt>
<dd>
<p>
<span class="monospaced">path</span>はテンプレート化されたパラメータです (<a href="pveum.1.html#pveum_templated_paths">オブジェクトとパス</a> 参照)。ユーザは<span class="monospaced">Permissions.Modify</span>権限を必要とするか、パスによっては以下の権限で代用することができます：</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">/storage/...</span>: 'Datastore.Allocate` が必要です。</p>
</li>
<li>
<p>
<span class="monospaced">/vms/...</span>: 'VM.Allocate` が必要です。</p>
</li>
<li>
<p>
<span class="monospaced">/pool/...</span>: 'Pool.Allocate` が必要です。</p>
<div class="paragraph">
<p>パスが空の場合、<span class="monospaced">/access</span>の<span class="monospaced">Permissions.Modify</span>が必要です。</p></div>
<div class="paragraph">
<p>ユーザーが<span class="monospaced">Permissions.Modify</span>権限を持っていない場合、指定されたパス上の自分の権限のサブセットのみを委譲することができます（たとえば、<span class="monospaced">PVEVMAdminを</span>持つユーザーが<span class="monospaced">PVEVMUserを</span>委譲することはできますが、<span class="monospaced">PVEAdminを</span>委譲することはできません）。</p></div>
</li>
</ul></div>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_tool">
コマンドラインツール<a class="headerlink" href="#_command_line_tool" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ほとんどのユーザーは GUI を使用してユーザーを管理します。しかし、<span class="monospaced">pveum</span>（"<strong>Proxmox</strong><strong>VE</strong> <strong>User</strong> <strong>Manager</strong>"の略）と呼ばれるコマンドラインツールもあります。Proxmox VE のコマンドラインツールはすべて API のラッパーです。</p></div>
<div class="paragraph">
<p>以下に簡単な使用例を示します。ヘルプを表示するには</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum</tt></pre></div></div>
<div class="paragraph">
<p>または (特定のコマンドに関する詳細なヘルプを表示する場合)</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum<span style="font-weight: bold"><span style="color: #0000FF">help</span></span>user add</tt></pre></div></div>
<div class="paragraph">
<p>新しいユーザーを作成します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum user add testuser@pve -comment<span style="color: #FF0000">"ただのテスト"</span></tt></pre></div></div>
<div class="paragraph">
<p>パスワードの設定または変更 (すべてのレルムでサポートされているわけではありません)</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum passwd testuser@pve</tt></pre></div></div>
<div class="paragraph">
<p>ユーザーを無効にします：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum user modify testuser@pve -enable<span style="color: #993399">0</span></tt></pre></div></div>
<div class="paragraph">
<p>新しいグループの作成</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum group add testgroup</tt></pre></div></div>
<div class="paragraph">
<p>新しいグループの作成： 新しいロールの作成：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum role add PVE_Power-only -privs<span style="color: #FF0000">"VM.PowerMgmt VM.Console"</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_real_world_examples">
実例<a class="headerlink" href="#_real_world_examples" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_administrator_group">
<span>管理者グループ</span> <a class="headerlink" href="#_administrator_group" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>管理者が、（root アカウントを使用せずに）完全な管理者権限を持つユーザーグループを作成したい場合があります。</p></div>
<div class="paragraph">
<p>これを行うには、まずグループを定義します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum group add admin -comment<span style="color: #FF0000">"システム管理者"</span></tt></pre></div></div>
<div class="paragraph">
<p>次にロールを割り当てます：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify<span style="color: #990000">/</span>-group admin -role 管理者</tt></pre></div></div>
<div class="paragraph">
<p>最後に、新しい<em>管理者</em>グループにユーザーを追加します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum user modify testuser@pve -group admin</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_auditors">
<span>監査役</span> <a class="headerlink" href="#_auditors" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p><span class="monospaced">PVEAuditor</span>ロールをユーザーまたはグループに割り当てることで、ユーザーに読み取り専用アクセス権を与えることができます。</p></div>
<div class="paragraph">
<p>例1：ユーザー<span class="monospaced">joe@pveに</span>すべての閲覧を許可します。</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify<span style="color: #990000">/</span>-user joe@pve -role PVEAuditor</tt></pre></div></div>
<div class="paragraph">
<p>例 2 : ユーザー<span class="monospaced">joe@pve</span>にすべての仮想マシンの閲覧を許可する場合</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify /vms -user joe@pve -role PVEAuditor</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_delegate_user_management">
<span>ユーザー管理の委任</span> <a class="headerlink" href="#_delegate_user_management" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>ユーザー管理をユーザー<span class="monospaced">joe@pve</span> に委任する場合は、次のようにします：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify /access -user joe@pve -role PVEUserAdmin</tt></pre></div></div>
<div class="paragraph">
<p>ユーザ<span class="monospaced">joe@pveは</span>、ユーザの追加と削除、およびパスワードなどのユーザ属性の変更を行うことができます。これは非常に強力なロールであり、選択したレルムやグループに限定したい場合がほとんどでしょう。以下の例では、<span class="monospaced">joe@pveは</span>レルム<span class="monospaced">pve</span>内のユーザを変更することができます：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify /access/realm/pve -user joe@pve -role PVEUserAdmin pveum acl modify /access/groups/customers -user joe@pve -role PVEUserAdmin</tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">ユーザは他のユーザを追加できますが、そのユーザが<span class="monospaced">customer</span>グループのメンバであり、<span class="monospaced">pve</span> レルム内にいる場合に限ります。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_limited_api_token_for_monitoring">
<span>監視用限定APIトークン</span> <a class="headerlink" href="#_limited_api_token_for_monitoring" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>APIトークンのパーミッションは常に対応するユーザのパーミッションのサブセットです。このセクションでは、トークンの所有者の権限をさらに制限するために、別の権限を持つAPIトークンを使用する方法を示します。</p></div>
<div class="paragraph">
<p>すべてのVMで、ユーザー<span class="monospaced">joe@pveに</span>ロールPVEVMAdminを与えます：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify /vms -user joe@pve -role PVEVMAdmin</tt></pre></div></div>
<div class="paragraph">
<p>別の権限を持つ新しいAPIトークンを追加します。このAPIトークンは、VM情報の表示のみ許可されます（監視目的など）：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum user token add joe@pve monitoring -privsep<span style="color: #993399">1</span>pveum acl modify /vms -token<span style="color: #FF0000">'joe@pve!monitoring'</span>-role PVEAuditor</tt></pre></div></div>
<div class="paragraph">
<p>ユーザーとトークンの権限を確認します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum ユーザー権限 joe@pve pveum ユーザー・トークン権限 joe@pve モニタリング</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_resource_pools">
<span>リソースプール</span> <a class="headerlink" href="#_resource_pools" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>通常、企業はいくつかの小さな部門に分かれており、それぞれの部門にリソースを割り当てたり、管理タスクを委任したりするのが一般的です。ソ フ ト ウ ェ ア開発部門のためのプールを設定 し たい と し ます。まず、グループを作成します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum group add developers -comment<span style="color: #FF0000">"私たちのソフトウェア開発者"</span></tt></pre></div></div>
<div class="paragraph">
<p>次に、そのグループのメンバである新規ユーザを作成します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum user add developer1@pve -group developers -password</tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">password "パラメータはパスワードの入力を要求します。</td>
</tr></table>
</div>
<div class="paragraph">
<p>次に、開発部門が使用するリソース・プールを作成します：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum pool add dev-pool --comment<span style="color: #FF0000">"IT 開発プール"</span></tt></pre></div></div>
<div class="paragraph">
<p>最後に、そのプールに権限を割り当てます：</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> pveum acl modify<span style="color: #990000">/pool/dev-pool/</span>-group developers -role PVEAdmin</tt></pre></div></div>
<div class="paragraph">
<p>ソフトウェア開発者は、そのプールに割り当てられたリソースを管理できるようになります。</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_copyright_and_disclaimer">
著作権と免責事項<a class="headerlink" href="#_copyright_and_disclaimer" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>著作権 © 2007-2022 Proxmox Server Solutions GmbH</p></div>
<div class="paragraph">
<p>このプログラムはフリーソフトウェアです。Free Software Foundationが発行したGNU Affero General Public Licenseのバージョン3またはそれ以降のバージョンのいずれかに従って、再配布および/または改変することができます。</p></div>
<div class="paragraph">
<p>このプログラムは有用であることを期待して配布されていますが、商品性や特定目的への適合性についての暗黙の保証もなく、いかなる保証もありません。詳細はGNU Affero General Public Licenseをご覧ください。</p></div>
<div class="paragraph">
<p>あなたはこのプログラムとともにGNU Affero General Public Licenseのコピーを受け取っているはずです。  そうでない場合は、<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>を参照してください。</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
バージョン 9.0.8<br>
最終更新 Tue Aug 5 16:04:45 CEST 2025</div>
</div>
</body>
</html>

<!-- ***** END FILE ***** -->

