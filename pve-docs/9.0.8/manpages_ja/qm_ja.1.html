
<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="generator" content="AsciiDoc 10.2.1" />
<title>qm(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>


<style type="text/css">
:root {
    /* pre-defined colors */
    --pdt-grey-950: hsl(0deg, 0%, 95%);
    --pdt-grey-750: hsl(0deg, 0%, 75%);
    --pdt-grey-400: hsl(0deg, 0%, 40%);
    --pdt-grey-250: hsl(0deg, 0%, 25%);
    --pdt-grey-150: hsl(0deg, 0%, 15%);
    --pdt-grey-100: hsl(0deg, 0%, 10%);
    --pdt-primary-850: hsl(205deg, 100%, 85%);
    --pdt-primary-800: hsl(205deg, 100%, 80%);
    --pdt-primary-700: hsl(205deg, 100%, 70%);
    --pdt-primary-250: hsl(205deg, 100%, 25%);
    --pdt-secondary-850: hsl(250deg, 100%, 85%);
}

#header > h1 > .image > img {
    max-width: 100%;
}

/* Avoid serif font and increase font-size from 16px to 18px. Makes it more similar to PBS docs */
body, p {
    font-family: Open Sans, sans-serif;
    font-size: 18px;
}

/* adjust admonition block spacing. this allows for a background on
 * admonition blocks that doesn't make the elements look to tightly
 * spaced.
 */
div.admonitionblock {
    border-radius: 3px;
    margin: 1.5em 0;
    padding: 0.5em 10% 0.5em 0.5em;
}

div.admonitionblock td.icon {
    padding-right: 0.5em;
}

div.admonitionblock td.icon > img {
    box-sizing: border-box;
    padding: 0.15em;
}

th.tableblock, td.tableblock {
    border-color: #527bbd80;
}

/* Fine-tune headings a bit */
h4 {
  font-size: 1.1em;
}
h5 {
  font-size: 1.05em;
}
h6 {
  font-size: 1.0em;
}

/* Support for heading anchor links */
h3 {
    border-bottom: unset;
}

h3 > span {
    display: inline-block;
    border-bottom: 2px solid silver;
}

a, a:visited {
    color: var(--pdt-primary-250);
}

a.headerlink {
    color: var(--pdt-grey-750);
    padding: 0 4px;
    text-decoration: none;
    visibility: hidden;
}

/* add it as an pseudo-element, so that it does not show up in the ToC */
a.headerlink::after {
    content: '\00b6';
    text-decoration: none;
}

h1:hover > a.headerlink,
h2:hover > a.headerlink,
h3:hover > a.headerlink,
h4:hover > a.headerlink,
h5:hover > a.headerlink,
h6:hover > a.headerlink {
  visibility: visible;
}

/* Hide the TOC menu toggler by default */
.menu-toggler, .nav-toggle, .menu-overlay {
    display: none;
}

#toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    overflow-y: auto;
    padding: 0.5em;
    transition: transform 0.2s ease-in-out;
    z-index: 1000;
}

/* Mobile styles */
@media only screen and (max-width: 1000px) {
    /* Avoid overly big header author block */
    #header span {
        font-size: 1rem;
        line-height: 1rem;
    }

    /* Show toggle button on mobile */
    .nav-toggle {
        display: inline-block;
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1001;
        background-color: var(--pdt-grey-100);
        color: var(--pdt-grey-950);
        opacity: 0.6;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 2px;
        transition: left 0.2s ease-in-out;
        font-size: 0;
    }
    .no-toc.nav-toggle {
        display: none !important;
    }

    /* Hide sidebar by default on mobile */
    #toc {
        transform: translateX(-100%);
        line-height: 1.5em;
        overflow-x: auto;
    }
    #content, #header {
        font-size: 1.25em;
        line-height: 1.5em;
    }

    /* Adjust body margin for mobile */
    body {
        margin: 1em !important;
        max-width: 100% !important;
        overflow-wrap: break-word;
    }

    /* Show sidebar when checkbox is checked */
    .menu-toggler:checked ~ #header #toc {
        transform: translateX(0);
    }

    /* Show overlay when menu is open */
    .menu-toggler:checked ~ .menu-overlay {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        cursor: pointer;
        animation: fadeIn 0.2s;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Change icon when open */
    .menu-toggler:checked ~ .nav-toggle::after {
        content: '✕';
    }
    .menu-toggler:not(:checked) ~ .nav-toggle::after {
        content: '☰';
    }

    .nav-toggle::after {
        display: block;
        font-size: 1.5rem;
    }
    .menu-toggler:checked ~ .nav-toggle {
        left: 24rem;
    }

}

/* barely useable at such small sizes but can only win here */
@media only screen and (max-width: 27rem) {
    body {
        margin: 0.5em !important;
    }
    #toc {
        font-size: 0.8em;
    }
    .menu-toggler:checked ~ .nav-toggle {
        left: 19rem;
    }
}


/* Dark mode theme */
@media screen and (prefers-color-scheme: dark) {
    :root {
        color-scheme: dark;
        --pdt-body-background: var(--pdt-grey-150);
        --pdt-text: var(--pdt-grey-950);
        --pdt-headline: var(--pdt-primary-800);
        --pdt-link: var(--pdt-primary-700);
        --pdt-highlighted-text: var(--pdt-primary-850);
        --pdt-background-sidebar: var(--pdt-grey-100);
        --pdt-background-listings: var(--pdt-grey-100);
        --pdt-border: var(--pdt-grey-400);
        --pdt-border-alt: var(--pdt-grey-250);
        --pdt-table-border: var(--pdt-grey-400);
        --pdt-background-admonition: var(--pdt-grey-250);
    }

    body {
        color: var(--pdt-text);
        background-color: var(--pdt-body-background);
    }

    a, a:visited {
        color: var(--pdt-link);
    }

    /* style headlines, titles etc. */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    thead,
    #author,
    #toctitle,
    div.title,
    td.hdlist1,
    caption.title,
    p.tableblock.header {
        color: var(--pdt-headline);
    }

    h1,
    h2,
    h3,
    #footer {
        border-color: var(--pdt-border);
    }

    /* formatted colored text */
    dt,
    em,
    pre,
    code,
    strong,
    .monospaced {
        color: var(--pdt-highlighted-text);
    }

    /* style the table of contents sidebar */
    div #toc {
        color: var(--pdt-text);
        background-color: var(--pdt-background-sidebar);
        border-color: var(--pdt-border-alt);
    }

    div #toc a:link,
    div #toc a:visited {
        color: var(--pdt-text);
    }

    /* reduce the brigthness of images a bit and make it reversable
     * through hovering over them.
     */
    .image > img {
        filter: brightness(90%);
    }

    .image > img:hover {
        filter: none;
    }

    /* tables */
    th.tableblock,
    td.tableblock,
    table.tableblock {
        border-color: var(--pdt-table-border);
    }

    div.quoteblock,
    div.verseblock {
        color: var(--pdt-text);
        border-color: var(--pdt-border);
    }

    /* listings (e.g. code snippet blocks) */
    div.listingblock > div.content {
        background-color: var(--pdt-background-listings);
        border-color: var(--pdt-border-alt);
    }

    /* admonition blocks (e.g. notes, warnings etc.) */
    div.admonitionblock {
        color: var(--pdt-text);
        background-color: var(--pdt-background-admonition);
    }

    div.admonitionblock td.content {
        border-color: var(--pdt-border);
    }

    /* makes the admonition icons appear a bit more consistent, by
     * adding a white background the shadows in the icons look
     * "correct"
     */
    div.admonitionblock td.icon > img {
        background-color: white;
        border-radius: 100%;
        filter: brightness(95%);
    }

    /* invert the logo */
    #header > h1 > .image > img {
        filter: invert(100%) hue-rotate(180deg) brightness(90%);
    }

    /* fixes the black text on unorderd lists */
    ul > li > * {
        color: var(--pdt-text);
    }

    .nav-toggle {
        background-color: var(--pdt-grey-250);
        color: var(--pdt-grey-950);
    }
}
</style>

<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
<script type="text/javascript">
var asciiDocTocOrig = asciidoc.toc;
asciidoc.toc = function(toclevel) {
    asciiDocTocOrig.call(asciidoc, toclevel);
    document.querySelectorAll('#toc a').forEach(link => {
        link.addEventListener('click', () => {
            document.getElementById('menu-toggler').checked = false;
        });
    });
    document.querySelector('.nav-toggle')?.classList.remove("no-toc");;
}
</script>
</head>
<body class="article" style="max-width:55em">
<input id="menu-toggler" type="checkbox" class="menu-toggler" />
<label for="menu-toggler" class="no-toc nav-toggle">☰</label>
<div id="header">
<h1>qm(1)</h1>
<span id="author">Proxmox Server Solutions GmbH</span><br />
<span id="email" class="monospaced"><a href="mailto:support@proxmox.com">&lt;support@proxmox.com&gt;</a></span><br />
<span id="revnumber">バージョン 9.0.8</span>
<span id="revdate">最終更新 Tue Aug 5 16:04:45 CEST 2025</span>
</div>
<label for="menu-toggler" class="menu-overlay"></label>
<div id="content">
<div class="sect1">
<h2 id="chapter_virtual_machines">
名前<a class="headerlink" href="#chapter_virtual_machines" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>qm - QEMU/KVM 仮想マシンマネージャ</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">
SYNOPSIS<a class="headerlink" href="#_synopsis" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>qm</strong> <span class="monospaced">&lt;COMMAND&gt; [ARGS] [OPTIONS] (コマンド)</span></p></div>
<div class="paragraph">
<p><strong>qm エージェント</strong></p></div>
<div class="paragraph">
<p><em>qm guest cmd</em> のエイリアスです。</p></div>
<div class="paragraph">
<p><strong>qm cleanup</strong> <span class="monospaced">&lt;vmid&gt; &lt;clean-shutdown&gt; &lt;guest-requested&gt;</span>です。</p></div>
<div class="paragraph">
<p>タップデバイスや vgpus などのリソースをクリーンアップします。vm のシャットダウンやクラッシュなどの後に呼び出されます。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;clean-shutdown&gt;:</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
qemuがクリーンにシャットダウンしたかどうかを示します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;guest-requested&gt;:</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
シャットダウンがゲストによって要求されたか、qmp を介して要求されたかを示します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm clone</strong> <span class="monospaced">&lt;vmid&gt; &lt;newid&gt;</span> <span class="monospaced">[OPTIONS] (オプション)</span></p></div>
<div class="paragraph">
<p>仮想マシン/テンプレートのコピーを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;newid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
クローンの VMID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bwlimit</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">データセンターまたはストレージ設定からのクローン制限</span>)</dt>
<dd>
<p>
オーバーライド I/O バンド幅制限 (KiB/s 単位)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--説明</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
新しい VM の説明。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--format</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt; (</span><span class="monospaced">フォーマット</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt;)</span></dt>
<dd>
<p>
ファイルストレージのターゲットフォーマット。フルクローンのみ有効です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--full</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
すべてのディスクの完全コピーを作成します。これは通常のVMをクローンするときに常に実行されます。VMテンプレートでは、デフォルトでリンクされたクローンを作成しようとします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--名前</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
新しいVMの名前を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プール</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
新しいVMを指定したプールに追加します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スナップ名</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
スナップショットの名前。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ストレージ</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
フルクローンのターゲット・ストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ターゲット</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ターゲット・ノード。元のVMが共有ストレージ上にある場合にのみ許可されます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm cloudinit dump</strong> <span class="monospaced">&lt;vmid&gt; &lt;type&gt;</span><strong>[</strong>オプション<span class="monospaced">]</span><strong>自動</strong>生成された<strong>cloudinit</strong>設定を<strong>取得</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>自動生成されたcloudinitコンフィグを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;type&gt;:</span> <span class="monospaced">&lt;メタ｜ネットワーク｜ユーザー</span></dt>
<dd>
<p>
コンフィグタイプ。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm cloudinit pending</strong> <span class="monospaced">&lt;vmid&gt; &lt;</span>タイプ</p></div>
<div class="paragraph">
<p>現在の値と保留中の値の両方を含む cloudinit 設定を取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm cloudinit アップデート</strong> <span class="monospaced">&lt;vmid</span></p></div>
<div class="paragraph">
<p>cloudinitコンフィグドライブの再生成と変更を行います。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm config</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS] (オプション)</span></p></div>
<div class="paragraph">
<p>保留中の構成変更を適用した仮想マシン構成を取得します。代わりに現在の構成を取得するには<em>current</em>パラメータを設定します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--current</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
現在の値を取得します（保留中の値の代わりに）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スナップショット</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
指定されたスナップショットからコンフィグ値をフェッチします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm create</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンを作成</strong>またはリストア<strong>します</strong>。</p></div>
<div class="paragraph">
<p>仮想マシンを作成またはリストアします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--acpi</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ACPIの有効化/無効化</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--affinity</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ゲストプロセスの実行に使用されるホストコアのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--agent</span> <span class="monospaced">[enabled=]&lt;1|0&gt; [,freeze-fs-on-backup=&lt;1|0&gt;] [,fstrim_cloned_disks=&lt;1|0&gt;] [,type=&lt;virtio|isa&gt;] --amd-sev [type=&lt;virtio|isa</span></dt>
<dd>
<p>
QEMU ゲストエージェントおよびそのプロパティとの通信の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--amd-sev</span> <span class="monospaced">[type=]&lt;sev-type&gt;[,allow-smt=&lt;1|0&gt;][,kernel-hashes=&lt;1|0&gt;][,no-debug=&lt;1|0&gt;][,no-key-sharing=&lt;1|0&gt;</span>]。</dt>
<dd>
<p>
AMD CPUによる安全な暗号化仮想化（SEV）機能</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--arch</span> <span class="monospaced">&lt;aarch64 | x86_64&gt;</span><span class="monospaced">--archive</span> <span class="monospaced">&lt;</span>文字列</dt>
<dd>
<p>
仮想プロセッサーのアーキテクチャ。ホストのデフォルト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--archive</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
バックアップアーカイブ。.tarまたは.vmaファイルへのファイルシステムパス（標準入力からデータをパイプする場合は<em>-を</em>使用）、またはproxmoxストレージのバックアップボリューム識別子。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--args</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
kvm に渡される任意の引数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--audio0</span> <span class="monospaced">device=&lt;ich9-intel-hda|intel-hda|AC97&gt; [,driver=&lt;spice|none&gt;</span>]<span class="monospaced">--autostart</span>&lt;leaner</dt>
<dd>
<p>
オーディオデバイスの設定。QXL/Spice と組み合わせると便利です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--autostart</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
クラッシュ後の自動再起動 (現在は無視されます)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--バルーン</span> <span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
VM のターゲット RAM の量 (MiB 単位)。ゼロを指定すると、Ballon ドライバが無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bios</span> <span class="monospaced">&lt;ovmf | seabios&gt;</span><em>(デフォルト =</em> <span class="monospaced">seabios</span>)</dt>
<dd>
<p>
BIOS の実装を選択します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--boot</span> <span class="monospaced">[[legacy=]&lt;[acdn]{1,4}&gt;][,order=&lt;デバイス[;デバイス...]&gt;]]。</span>
</dt>
<dd>
<p>
ゲストのブート順序を指定します。キーなしまたは<em>legacy= での</em>使用は非推奨であるため、<em>order=</em>サブプロパティを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bootdisk</span> <span class="monospaced">(ide|sata|scsi|virtio)|d+</span></dt>
<dd>
<p>
指定したディスクからの起動を有効にします。非推奨：代わりに<em>boot: order=foo;bar</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bwlimit</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">データセンターまたはストレージ構成から制限を復元</span>)</dt>
<dd>
<p>
Override I/O bandwidth limit (KiB/s単位)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cdrom</span> <span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
これは -ide2 オプションのエイリアスです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cicustom</span> <span class="monospaced">[meta=&lt;volume&gt;] [,network=&lt;volume&gt;] [,user=&lt;volume&gt;] [,vendor=&lt;volume&gt;</span>]<span class="monospaced">--cipassword</span>&lt;password</dt>
<dd>
<p>
cloud-init：起動時に自動生成されるファイルを置き換えるカスタムファイルを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-パスワード</span> <span class="monospaced">&lt;password</span></dt>
<dd>
<p>
cloud-init：ユーザーに割り当てるパスワード。これを使うことは一般的に推奨されません。代わりに ssh キーを使ってください。また、古いバージョンの cloud-init はハッシュ化されたパスワードをサポートしていないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--citype</span> <span class="monospaced">&lt;configdrive2 | nocloud | opennebula&gt;</span>.</dt>
<dd>
<p>
cloud-init 構成フォーマットを指定します。デフォルトは設定されているオペレーティングシステムの種類<span class="monospaced">（ostype</span>.Linuxの場合は<span class="monospaced">nocloud</span>形式、Windowsの場合は<span class="monospaced">configdrive2を</span>使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciupgrade</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
cloud-init: 最初のブート後にパッケージの自動アップグレードを行います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciuser</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：イメージに設定されているデフォルトユーザーの代わりに、sshキーとパスワードを変更するユーザー名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コア</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ソケットあたりのコア数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpu</span> <span class="monospaced">[[cputype=]&lt;string&gt;] [,flags=&lt;+FLG&gt;] [,flags=&lt;+FLG[,flags=&lt;+FLAG[;-FLAG...]&gt;]]を指定します。[,hidden=&lt;1|0&gt;] [,hv-vendor-id=&lt;vendor-id&gt;] [,phys-bits=&lt;8-64|host&gt;] [,reported-model=&lt;enum&gt;</span>]。</dt>
<dd>
<p>
エミュレートされる CPU のタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpulimit</span> <span class="monospaced">&lt;number&gt; (0 - 128)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
CPU使用量の上限。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpuunits</span> <span class="monospaced">&lt;integer&gt; (1 - 262144)</span><em>(デフォルト =</em> <span class="monospaced">cgroup v1: 1024, cgroup v2: 100</span>)</dt>
<dd>
<p>
VM の CPU ウェイト。cgroup v2 では [1, 10000] にクランプされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-説明</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の説明。ウェブインターフェイスの VM のサマリーに表示されます。これは、コンフィギュレーション・ファイル内のコメントとして保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--efidisk0</span> <span class="monospaced">[file=]&lt;volume&gt; [,efitype=&lt;2m|4m&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;ソースボリューム&gt;] [,pre-enrolled-keys=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;</span>] --force &lt;論理値</dt>
<dd>
<p>
EFIバーを格納するディスクを設定します。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。SIZE_IN_GiBはここでは無視され、代わりにデフォルトのEFIバーがボリュームにコピーされることに注意してください。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
既存のVMの上書きを許可します。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">archive</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--freeze</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
起動時にCPUをフリーズ（<em>c</em>monitorコマンドで実行開始）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hookscript</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM のライフタイム中の様々なステップで実行されるスクリプト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hostpci[n]</span> <span class="monospaced">[[host=]&lt;HOSTPCIID[;HOSTPCIID2...]&gt;][</span>,device-id=&lt;he<span class="monospaced">...[,device-id=&lt;hex id&gt;] [,legacy-igd=&lt;1|0&gt;] [,mapping=&lt;mapping-id&gt;] [,mdev=&lt;string&gt;] [,pcie=&lt;1|0&gt;] [,rombar=&lt;1|0] [,romfile=&lt;string&gt;] [,sub-device-id=&lt;hex id&gt;] [,sub-vendor-id=&lt;hex id&gt;] [,vendor-id=&lt;hex id&gt;] [,x-vga=&lt;1|0&gt;</span>] --hotplug &lt;string&gt; (ホットプラグ)</dt>
<dd>
<p>
ホストの PCI デバイスをゲストにマップ</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hotplug</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">network,disk,usb</span>)</dt>
<dd>
<p>
ホットプラグ機能を選択的に有効にします。これは、カンマ区切りのホットプラグ機能のリストです:<em>network</em>、<em>disk</em>、<em>cpu</em>、<em>memory</em>、<em>usb</em>、<em>cloudinit</em>。ホットプラグを完全に無効にするには<em>0 を</em>使用します。値として<em>1 を</em>使用すると、デフォルトの<span class="monospaced">network、disk、usb</span> のエイリアスになります。USB ホットプラグは、マシンのバージョンが &gt;= 7.1 で、ostype l26 または windows &gt; 7 のゲストで可能です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hugepages</span> <span class="monospaced">&lt;1024 | 2 | 任意</span></dt>
<dd>
<p>
hugepages メモリを有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ide[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt; ]。] [,media=&lt;cdrom|disk&gt;] [,model=&lt;model&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームを IDE ハードディスクまたは CD-ROM として使用します (n は 0 から 3)。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--import-working-storage</span> <span class="monospaced">&lt;ストレージID&gt;</span><span class="monospaced">--ipconfig</span>[n</dt>
<dd>
<p>
<em>images</em>コンテンツ・タイプが有効なファイルベースのストレージで、インポート時に中間抽出ストレージとして使用されます。デフォルトはソースストレージです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ipconfig[n]</span> <span class="monospaced">[gw=&lt;GatewayIPv4&gt;] [,gw6=&lt;GatewayIPv6&gt;] [,ip=&lt;IPv4Format/CIDR&gt;] [,ip6=&lt;IPv6Format/CIDR&gt;]</span><span class="monospaced">--ipconfig[n</span></dt>
<dd>
<p>
cloud-init：対応するインターフェースのIPアドレスとゲートウェイを指定します。</p>
<div class="paragraph">
<p>IPアドレスはCIDR表記を使用し、ゲートウェイはオプションですが、同じタイプのIPを指定する必要があります。</p></div>
<div class="paragraph">
<p>特別な文字列<em>dhcpは</em>、DHCPを使用するIPアドレスに使用することができ、その場合、明示的なゲートウェイを提供する必要はありません。 IPv6の場合、特別な文字列<em>autoは</em>、ステートレス自動設定を使用するために使用することができます。これにはcloud-init 19.4以降が必要です。</p></div>
<div class="paragraph">
<p>cloud-initが有効でIPv4アドレスもIPv6アドレスも指定されていない場合、デフォルトではIPv4でdhcpを使用します。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ivshmem</span> <span class="monospaced">size=&lt;整数&gt; [,name=&lt;文字列&gt;</span>] です。</dt>
<dd>
<p>
VM間共有メモリ。VM間、またはホストとの直接通信に便利です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keephugepages</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
hugepages と併用します。有効にすると、VMシャットダウン後もhugepagesは削除されず、その後の起動に使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keyboard</span> <span class="monospaced">&lt;da | de | de-ch | en-gb | en-us | es | fi | fr | fr-be | fr-ca | fr-ch | hu | is | it | ja | lt | mk | nl | no | pl | pt | pt-br | sl | sv | tr&gt; --kvm &lt;boolean&gt;</span>(デフォルト = 0)</dt>
<dd>
<p>
VNCサーバーのキーボードレイアウト。このオプションは通常必要なく、ゲスト OS 内から処理する方が良い場合が多いです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--kvm</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
KVM ハードウェア仮想化の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--live-restore</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
インポート中またはバックグラウンドでのリストア中に、VM を直ちに起動します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--localtime</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
リアルタイムクロック (RTC) をローカル時間に設定します。これは、<span class="monospaced">ostype</span>が Microsoft Windows OS の場合にデフォルトで有効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--lock</span> <span class="monospaced">&lt;バックアップ｜クローン｜作成｜マイグレーション｜ロールバック｜スナップショット｜スナップショット削除｜サスペンド｜一時停止&gt; --lock &lt;バックアップ｜クローン｜作成｜マイグレーション｜ロールバック｜スナップショット｜スナップショット削除｜サスペンド｜一時停止</span></dt>
<dd>
<p>
VM をロック/アンロックします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-マシン</span> <span class="monospaced">[[タイプ=]&lt;マシンタイプ&gt;] [</span>,enable-s3=&lt;1<span class="monospaced">[,enable-s3=&lt;1|0&gt;] [,enable-s4=&lt;1|0&gt;] [,viommu=&lt;intel|virtio&gt;</span>] -メモリ</dt>
<dd>
<p>
QEMUマシンを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--メモリ</span> <span class="monospaced">[current=]&lt;整数</span></dt>
<dd>
<p>
メモリのプロパティ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_downtime</span> <span class="monospaced">&lt;number&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0.1</span>)</dt>
<dd>
<p>
マイグレーションの最大許容ダウンタイム（秒）を設定します。新しく汚れた RAM を転送する必要があるため、マイグレーションが最後まで収束しない場合、マイグレーションが収束するまで、この制限を段階的に自動的に増やします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_speed</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
マイグレーションの最大速度(MB/s)を設定します。値 0 は制限なしです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--name</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の名前を設定します。設定のWebインターフェイスでのみ使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ネームサーバ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNSサーバーIPアドレスを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
--<span class="monospaced">net[n]</span> <span class="monospaced">[model=]&lt;enum&gt; [,bridge=&lt;bridge&gt;] [,firewall=&lt;1|0&gt;] [,link_down=&lt;1|0&gt;] [,macaddr=&lt;XX:XX:XX:XX:XX：XX&gt;] [,mtu=&lt;integer&gt;] [,queues=&lt;integer&gt;] [,rate=&lt;number&gt;] [,tag=&lt;integer&gt;] [,trunks=&lt;vlanid[;vlanid...]&gt;][,&lt;model&gt;=&lt;macaddr&gt;</span>] --numa &lt;論理値</dt>
<dd>
<p>
ネットワークデバイスを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
NUMAの有効化／無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa[n]</span> <span class="monospaced">cpus=&lt;id[-id];...&gt; [,hostnodes=&lt;id[-id];...&gt;]</span>。<span class="monospaced">[,memory=&lt;number&gt;] [,policy=&lt;preferred|bind|interleave&gt;</span>]を指定します。</dt>
<dd>
<p>
NUMAトポロジ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--onboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
システム起動時に VM を起動するかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ostype</span> <span class="monospaced">&lt;l24｜l26｜その他｜solaris｜w2k｜w2k3｜w2k8｜win10｜win11｜win7｜win8｜wvista｜wxp&gt;。</span></dt>
<dd>
<p>
ゲストオペレーティングシステムの指定</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--parallel[n]</span> <span class="monospaced">/dev/parportd+|/dev/usb/lpd+</span></dt>
<dd>
<p>
ホストパラレルデバイスのマップ（nは0～2）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プール</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VMを指定されたプールに追加します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--protection</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VM の保護フラグを設定します。これにより、VM の削除とディスクの削除操作が無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--reboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
リブートを許可します。<em>0</em>に設定すると、VM は再起動時に終了します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--rng0</span> <span class="monospaced">[source=]&lt;/dev/urandom|/dev/random|/dev/hwrng&gt; [,max_bytes=&lt;integer&gt;] [,period=&lt;integer&gt;</span>]<span class="monospaced">--rng0</span> <span class="monospaced">[source=]&lt;/dev/urandom|/dev/random|/dev/hwrng</span></dt>
<dd>
<p>
VirtIO ベースの乱数ジェネレータを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sata[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;秒&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームをSATAハードディスクまたはCD-ROMとして使用します（nは0～5）。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsi[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;seconds&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;ソースボリューム&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,product=&lt;product&gt;] [,queues=&lt;integer&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,scsiblock=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,vendor=&lt;vendor&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSCSIハードディスクまたはCD-ROMとして使用します（nは0～30）。新しいボリュームを割り当てるには、特別な構文STORAGE_ID:SIZE_IN_GiBを使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsihw</span> <span class="monospaced">&lt;lsi | lsi53c810 | megasas | pvscsi | virtio-scsi-pci | virtio-scsi-single&gt;</span><em>(default =</em> <span class="monospaced">lsi</span>)</dt>
<dd>
<p>
SCSIコントローラモデル</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--searchdomain</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNS検索ドメインを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--serial[n]</span> <span class="monospaced">(/dev/.+|socket)</span></dt>
<dd>
<p>
VM内にシリアルデバイスを作成します（nは0～3）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--shares</span> <span class="monospaced">&lt;integer&gt; (0 - 50000)</span><em>(デフォルト =</em> <span class="monospaced">1000</span>)</dt>
<dd>
<p>
オートバルーニングのメモリ共有量。この数値が大きいほど、このVMはより多くのメモリを取得します。数値は、他のすべての実行中のVMの重みに対する相対値です。ゼロを使用すると、オートバルーニングは無効になります。オートバルーニングはpvestatdによって実行されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smbios1</span> <span class="monospaced">[base64=&lt;1|0&gt;] [,family=&lt;Base64エンコードされた文字列&gt;] [,manufacturer=&lt;Base64エンコードされた文字列&gt;] [,product=&lt;Base64エンコードされた文字列] [,serial=&lt;Base64エンコードされた文字列&gt;] [,sku=&lt;Base64エンコードされた文字列&gt;] [,uuid=&lt;UUID&gt;] [,version=&lt;Base64エンコードされた文字列&gt;</span>] と<span class="monospaced">なります</span>。</dt>
<dd>
<p>
SMBIOS タイプ 1 フィールドを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smp</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPU 数。代わりに -sockets オプションを使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ソケット</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPUソケット数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--spice_enhancements</span> <span class="monospaced">[foldersharing=&lt;1|0&gt;] [,videostreaming=&lt;off|all|filter&gt;</span>]。</dt>
<dd>
<p>
SPICE用の追加機能拡張を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sshkeys</span> <span class="monospaced">&lt;ファイルパス</span></dt>
<dd>
<p>
cloud-init：公開SSH鍵の設定（1行に1つの鍵、OpenSSH形式）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--start</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VMの作成に成功したら、VMを起動します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startdate</span> <span class="monospaced">(now | YYYY-MM-DD | YYYY-MM-DDTHH:MM:SS)</span><em>(default =</em> <span class="monospaced">now</span>)</dt>
<dd>
<p>
リアルタイムクロックの初期日付を設定します。有効な日付のフォーマットは、'now' または<em>2006-06-17T16:01:21</em>または<em>2006-06-17</em> です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startup</span>`[[order=]◆d+] [,up=d+] [,down=d+] `.</dt>
<dd>
<p>
スタートアップとシャットダウンの動作。Orderは、一般的な起動順序を定義する非負の数値です。シャットダウンは逆の順序で行われます。さらに、次のVMが起動または<em>停止</em>するまでの待ち時間を秒単位で設定できます<em>。</em></p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--storage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
デフォルトのストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tablet</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
USBタブレットデバイスの有効/無効を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タグ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VMのタグ。これはメタ情報のみです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tdf</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
タイムドリフト修正の有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--template</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
テンプレートの有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tpmstate0</span> <span class="monospaced">[file=]&lt;volume&gt; [,import-from=&lt;ソースボリューム&gt;] [,size=&lt;DiskSize&gt;] [,version=&lt;v1.2|v2.0&gt;]</span><span class="monospaced">--unique</span>&lt;論理値</dt>
<dd>
<p>
TPMの状態を保存するディスクの設定。フォーマットは<em>raw</em> 固定です。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。SIZE_IN_GiBはここでは無視され、代わりに4MiBが使用されることに注意してください。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--unused</span> <span class="monospaced">[</span>n] [ファイル</dt>
<dd>
<p>
一意のランダム・イーサネット・アドレスを割り当てます。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">archive</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--unused[n]</span> <span class="monospaced">[[ファイル=]&lt;ボリューム</span></dt>
<dd>
<p>
未使用ボリュームへの参照。これは内部的に使用されるため、手動で変更しないでください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--usb[n]</span> <span class="monospaced">[[host=]&lt;HOSTUSBDEVICE|spice&gt;] [</span>,mapping=&lt;mapping<span class="monospaced">[,マッピング=&lt;マッピングID&gt;] [,usb3=&lt;1|0&gt;</span>] --vcpus</dt>
<dd>
<p>
USB デバイスを構成します (n は 0 から 4 で、マシンのバージョン &gt;= 7.1 および ostype l26 または Windows &gt; 7 の場合、n は最大 14 になります)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vcpus</span> <span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ホットプラグされたVCPUの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vga</span> <span class="monospaced">[[type=]&lt;enum&gt;] [,</span>クリップボード<span class="monospaced">=&lt;</span>vn<span class="monospaced">[,clipboard=&lt;vnc&gt;] [,memory=&lt;integer&gt;</span>] --virtio[n</dt>
<dd>
<p>
VGA ハードウェアの設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtio[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,werror=&lt;enum&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをVIRTIOハードディスクとして使用します(nは0から15まで)。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtiofs[n]</span> <span class="monospaced">[dirid=]&lt;マッピングID&gt; [,cache=&lt;enum&gt;] [,direct-io=&lt;1|0&gt;] [,expose-acl=&lt;1|0&gt;] [,expose-xattr=&lt;1|0］</span></dt>
<dd>
<p>
Virtio-fs を使用してホストとゲスト間でディレクトリを共有するための設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmgenid</span> <span class="monospaced">&lt;UUID&gt;</span><em>(デフォルト =</em> <span class="monospaced">1 (自動生成)</span>)</dt>
<dd>
<p>
VM ジェネレーション ID を設定します。作成または更新時に自動生成するには<em>1 を</em>使用し、明示的に無効にするには<em>0 を</em>渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmstatestorage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
VM ステートボリューム/ファイルのデフォルトストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--watchdog</span> <span class="monospaced">[[model=]&lt;i6300esb|ib700&gt;][,action=&lt;enum&gt;］</span></dt>
<dd>
<p>
仮想ハードウェアウォッチドッグデバイスを作成します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm delsnapshot</strong> <span class="monospaced">&lt;vmid&gt; &lt;snapname&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想マシンの<strong>スナップショットを削除します。</strong></p></div>
<div class="paragraph">
<p>VMスナップショットを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;スナップ名&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
スナップショットの名前。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
ディスクスナップショットの削除に失敗した場合でも、設定ファイルから削除します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm destroy</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>VMを破棄します。</strong></p></div>
<div class="paragraph">
<p>VMとすべての使用/所有ボリュームを破棄します。VM固有のパーミッションとファイアウォールルールを削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-destroy-未参照ディスク</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
設定されている場合、コンフィグで参照されていない、VMID が一致するすべてのディスクを、有効になっているすべてのストレージから追加で破棄します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--パージ</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
バックアップ＆レプリケーションジョブやHAなどの設定からVMIDを削除します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スキップロック</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm disk import</strong> <span class="monospaced">&lt;vmid&gt; &lt;source&gt; &lt;storage&gt;</span> <span class="monospaced">[OPTIONS]</span>外部<strong>ディスクイメージを</strong>未使用ディスクとして<strong>インポートします</strong>。</p></div>
<div class="paragraph">
<p>VM 内の未使用ディスクとして外部ディスクイメージをインポートします。イメージフォーマットは qemu-img(1) でサポートされている必要があります。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;source&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
インポートするディスクイメージへのパス</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;storage&gt;:</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
ターゲットストレージID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--format</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt;</span>.</dt>
<dd>
<p>
ターゲットフォーマット</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲットディスク</span> <span class="monospaced">&lt;efidisk0 | ide0 | ide1 | ide2 | ide3 | sata0 | sata1 | sata2 | sata3 | sata4 | sata5 | scsi0 | scsi1 | scsi10 | scsi11 | scsi12 | scsi13 | scsi14 | scsi15 | scsi16 | scsi17 | scsi18 | scsi19 | scsi2 | scsi20 | scsi21| scsi22｜scsi23｜scsi24｜scsi25｜scsi26｜scsi27｜scsi28｜scsi29｜scsi3｜scsi30｜scsi4｜scsi5｜scsi6｜scsi7｜scsi8｜scsi9｜tpmstate0｜unused0｜unused1｜unused10｜unused100｜unused101｜unused102｜unused未使用103｜未使用104｜未使用105｜未使用106｜未使用107｜未使用108｜未使用109｜未使用11｜未使用110｜未使用111｜未使用112｜未使用113｜未使用114｜未使用115｜未使用116｜未使用117｜未使用118｜未使用119｜未使用119未使用12｜未使用120｜未使用121｜未使用122｜未使用123｜未使用124｜未使用125｜未使用126｜未使用127｜未使用128｜未使用129｜未使用13｜未使用130｜未使用131｜未使用132｜未使用133｜未使用134｜未使用135｜未使用136| 未使用137｜未使用138｜未使用139｜未使用14｜未使用140｜未使用141｜未使用142｜未使用143｜未使用144｜未使用145｜未使用146｜未使用147｜未使用148｜未使用149｜未使用15｜未使用150｜未使用151｜未使用152| 未使用153｜未使用154｜未使用155｜未使用156｜未使用157｜未使用158｜未使用159｜未使用16｜未使用160｜未使用161｜未使用162｜未使用163｜未使用164｜未使用165｜未使用166｜未使用167｜未使用168｜未使用169未使用17｜未使用170｜未使用171｜未使用172｜未使用173｜未使用174｜未使用175｜未使用176｜未使用177｜未使用178｜未使用179｜未使用18｜未使用180｜未使用181｜未使用182｜未使用183｜未使用184｜未使用185未使用186名｜未使用187名｜未使用188名｜未使用189名｜未使用189名｜未使用191名｜未使用192名｜未使用193名｜未使用194名｜未使用195名｜未使用196名｜未使用197名｜未使用198名｜未使用199名｜未使用2名｜未使用20名｜未使用200名｜未使用201名未使用202|未使用203|未使用204|未使用205|未使用206|未使用207|未使用208|未使用209|未使用21|未使用210|未使用211|未使用212|未使用213|未使用214|未使用215|未使用216|未使用217|未使用218未使用219｜未使用22｜未使用220｜未使用221｜未使用222｜未使用223｜未使用224｜未使用225｜未使用226｜未使用227｜未使用228｜未使用229｜未使用23｜未使用230｜未使用231｜未使用232｜未使用233｜未使用234｜未使用235| 未使用236｜未使用237｜未使用238｜未使用239｜未使用24｜未使用240｜未使用241｜未使用242｜未使用243｜未使用244｜未使用245｜未使用246｜未使用247｜未使用248｜未使用249｜未使用25｜未使用250｜未使用251｜未使用252｜未使用253｜未使用252｜未使用253｜未使用254｜未使用245｜未使用246｜未使用247｜未使用248｜未使用249｜未使用25｜未使用250｜未使用251未使用252|未使用253|未使用254|未使用255|未使用26|未使用27|未使用28|未使用29|未使用3|未使用30|未使用31|未使用32|未使用33|未使用34|未使用35|未使用36|未使用37|未使用38|未使用39|未使用4|未使用未使用40｜未使用41｜未使用42｜未使用43｜未使用44｜未使用45｜未使用46｜未使用47｜未使用48｜未使用49｜未使用5｜未使用50｜未使用51｜未使用52｜未使用53｜未使用54｜未使用55｜未使用56｜未使用57｜未使用58| 未使用6｜未使用60｜未使用61｜未使用62｜未使用63｜未使用64｜未使用65｜未使用66｜未使用67｜未使用68｜未使用69｜未使用7｜未使用70｜未使用71｜未使用72｜未使用73｜未使用74｜未使用75｜未使用76｜未使用76未使用77|未使用78|未使用79|未使用8|未使用80|未使用81|未使用82|未使用83|未使用84|未使用85|未使用86|未使用87|未使用88|未使用89|未使用9|未使用90|未使用91|未使用92|未使用93|未使用94|未使用未使用95｜未使用96｜未使用97｜未使用98｜未使用99｜virtio0｜virtio1｜virtio10｜virtio11｜virtio12｜virtio13｜virtio14｜virtio15｜virtio2｜virtio3｜virtio4｜virtio5｜virtio6｜virtio7｜virtio8｜virtio9＞。</span>
</dt>
<dd>
<p>
ボリュームがインポートされるディスク名 (例: scsi1)。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm disk move</strong> <span class="monospaced">&lt;vmid&gt; &lt;disk&gt; [&lt;storage&gt;]</span> <span class="monospaced">[OPTIONS] (</span><strong>ディスク移動</strong> <span class="monospaced">&lt;vmid&gt; &lt;ディスク&gt; [&lt;ストレージ&gt;] [</span> <span class="monospaced">OPTIONS]</span>)</p></div>
<div class="paragraph">
<p>ボリュームを異なるストレージまたは異なる VM に移動します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;disk&gt;：</span> <span class="monospaced">&lt;efidisk0 | ide0 | ide1 | ide2 | ide3 | sata0 | sata1 | sata2 | sata3 | sata4 | sata5 | scsi0 | scsi1 | scsi10 | scsi11 | scsi12 | scsi13 | scsi14 | scsi15 | scsi16 | scsi17 | scsi18 | scsi19 | scsi2 | scsi20 | scsi21| scsi22｜scsi23｜scsi24｜scsi25｜scsi26｜scsi27｜scsi28｜scsi29｜scsi3｜scsi30｜scsi4｜scsi5｜scsi6｜scsi7｜scsi8｜scsi9｜tpmstate0｜unused0｜unused1｜unused10｜unused100｜unused101｜unused102｜unused未使用103｜未使用104｜未使用105｜未使用106｜未使用107｜未使用108｜未使用109｜未使用11｜未使用110｜未使用111｜未使用112｜未使用113｜未使用114｜未使用115｜未使用116｜未使用117｜未使用118｜未使用119｜未使用119未使用12｜未使用120｜未使用121｜未使用122｜未使用123｜未使用124｜未使用125｜未使用126｜未使用127｜未使用128｜未使用129｜未使用13｜未使用130｜未使用131｜未使用132｜未使用133｜未使用134｜未使用135｜未使用136| 未使用137｜未使用138｜未使用139｜未使用14｜未使用140｜未使用141｜未使用142｜未使用143｜未使用144｜未使用145｜未使用146｜未使用147｜未使用148｜未使用149｜未使用15｜未使用150｜未使用151｜未使用152| 未使用153｜未使用154｜未使用155｜未使用156｜未使用157｜未使用158｜未使用159｜未使用16｜未使用160｜未使用161｜未使用162｜未使用163｜未使用164｜未使用165｜未使用166｜未使用167｜未使用168｜未使用169未使用17｜未使用170｜未使用171｜未使用172｜未使用173｜未使用174｜未使用175｜未使用176｜未使用177｜未使用178｜未使用179｜未使用18｜未使用180｜未使用181｜未使用182｜未使用183｜未使用184｜未使用185未使用186名｜未使用187名｜未使用188名｜未使用189名｜未使用189名｜未使用191名｜未使用192名｜未使用193名｜未使用194名｜未使用195名｜未使用196名｜未使用197名｜未使用198名｜未使用199名｜未使用2名｜未使用20名｜未使用200名｜未使用201名未使用202|未使用203|未使用204|未使用205|未使用206|未使用207|未使用208|未使用209|未使用21|未使用210|未使用211|未使用212|未使用213|未使用214|未使用215|未使用216|未使用217|未使用218未使用219｜未使用22｜未使用220｜未使用221｜未使用222｜未使用223｜未使用224｜未使用225｜未使用226｜未使用227｜未使用228｜未使用229｜未使用23｜未使用230｜未使用231｜未使用232｜未使用233｜未使用234｜未使用235| 未使用236｜未使用237｜未使用238｜未使用239｜未使用24｜未使用240｜未使用241｜未使用242｜未使用243｜未使用244｜未使用245｜未使用246｜未使用247｜未使用248｜未使用249｜未使用25｜未使用250｜未使用251未使用252|未使用253|未使用254|未使用255|未使用26|未使用27|未使用28|未使用29|未使用3|未使用30|未使用31|未使用32|未使用33|未使用34|未使用35|未使用36|未使用37|未使用38|未使用39|未使用4|未使用未使用40｜未使用41｜未使用42｜未使用43｜未使用44｜未使用45｜未使用46｜未使用47｜未使用48｜未使用49｜未使用5｜未使用50｜未使用51｜未使用52｜未使用53｜未使用54｜未使用55｜未使用56｜未使用57｜未使用58| 未使用6｜未使用60｜未使用61｜未使用62｜未使用63｜未使用64｜未使用65｜未使用66｜未使用67｜未使用68｜未使用69｜未使用7｜未使用70｜未使用71｜未使用72｜未使用73｜未使用74｜未使用75｜未使用76｜未使用76未使用77|未使用78|未使用79|未使用8|未使用80|未使用81|未使用82|未使用83|未使用84|未使用85|未使用86|未使用87|未使用88|未使用89|未使用9|未使用90|未使用91|未使用92|未使用93|未使用94|未使用未使用95｜未使用96｜未使用97｜未使用98｜未使用99｜virtio0｜virtio1｜virtio10｜virtio11｜virtio12｜virtio13｜virtio14｜virtio15｜virtio2｜virtio3｜virtio4｜virtio5｜virtio6｜virtio7｜virtio8｜virtio9＞。</span>
</dt>
<dd>
<p>
移動したいディスク。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;storage&gt;:</span> <span class="monospaced">&lt;ストレージ ID&gt; です</span>。</dt>
<dd>
<p>
ターゲットストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bwlimit</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">データセンターまたはストレージ設定から制限を移動</span>)</dt>
<dd>
<p>
I/O帯域幅の制限をオーバーライドします（KiB/s単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
コピー成功後に元のディスクを削除します。デフォルトでは、元のディスクは未使用ディスクとして保持されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ダイジェスト</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
現在の構成ファイルの SHA1" . "ダイジェストが異なる場合に、変更を防止します。これは、同時変更を防止するために使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--format</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt; (</span><span class="monospaced">フォーマット</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt;)</span></dt>
<dd>
<p>
ターゲット形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲット・ダイジェスト</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ターゲットVMの現在のコンフィグファイルのSHA1ダイジェストが" . "異なる場合、変更を防止します。これは、同時変更を検出するために使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲットディスク</span> <span class="monospaced">&lt;efidisk0 | ide0 | ide1 | ide2 | ide3 | sata0 | sata1 | sata2 | sata3 | sata4 | sata5 | scsi0 | scsi1 | scsi10 | scsi11 | scsi12 | scsi13 | scsi14 | scsi15 | scsi16 | scsi17 | scsi18 | scsi19 | scsi2 | scsi20 | scsi21| scsi22｜scsi23｜scsi24｜scsi25｜scsi26｜scsi27｜scsi28｜scsi29｜scsi3｜scsi30｜scsi4｜scsi5｜scsi6｜scsi7｜scsi8｜scsi9｜tpmstate0｜unused0｜unused1｜unused10｜unused100｜unused101｜unused102｜unused未使用103｜未使用104｜未使用105｜未使用106｜未使用107｜未使用108｜未使用109｜未使用11｜未使用110｜未使用111｜未使用112｜未使用113｜未使用114｜未使用115｜未使用116｜未使用117｜未使用118｜未使用119｜未使用119未使用12｜未使用120｜未使用121｜未使用122｜未使用123｜未使用124｜未使用125｜未使用126｜未使用127｜未使用128｜未使用129｜未使用13｜未使用130｜未使用131｜未使用132｜未使用133｜未使用134｜未使用135｜未使用136| 未使用137｜未使用138｜未使用139｜未使用14｜未使用140｜未使用141｜未使用142｜未使用143｜未使用144｜未使用145｜未使用146｜未使用147｜未使用148｜未使用149｜未使用15｜未使用150｜未使用151｜未使用152| 未使用153｜未使用154｜未使用155｜未使用156｜未使用157｜未使用158｜未使用159｜未使用16｜未使用160｜未使用161｜未使用162｜未使用163｜未使用164｜未使用165｜未使用166｜未使用167｜未使用168｜未使用169未使用17｜未使用170｜未使用171｜未使用172｜未使用173｜未使用174｜未使用175｜未使用176｜未使用177｜未使用178｜未使用179｜未使用18｜未使用180｜未使用181｜未使用182｜未使用183｜未使用184｜未使用185未使用186名｜未使用187名｜未使用188名｜未使用189名｜未使用189名｜未使用191名｜未使用192名｜未使用193名｜未使用194名｜未使用195名｜未使用196名｜未使用197名｜未使用198名｜未使用199名｜未使用2名｜未使用20名｜未使用200名｜未使用201名未使用202|未使用203|未使用204|未使用205|未使用206|未使用207|未使用208|未使用209|未使用21|未使用210|未使用211|未使用212|未使用213|未使用214|未使用215|未使用216|未使用217|未使用218未使用219｜未使用22｜未使用220｜未使用221｜未使用222｜未使用223｜未使用224｜未使用225｜未使用226｜未使用227｜未使用228｜未使用229｜未使用23｜未使用230｜未使用231｜未使用232｜未使用233｜未使用234｜未使用235| 未使用236｜未使用237｜未使用238｜未使用239｜未使用24｜未使用240｜未使用241｜未使用242｜未使用243｜未使用244｜未使用245｜未使用246｜未使用247｜未使用248｜未使用249｜未使用25｜未使用250｜未使用251｜未使用252｜未使用253｜未使用252｜未使用253｜未使用254｜未使用245｜未使用246｜未使用247｜未使用248｜未使用249｜未使用25｜未使用250｜未使用251未使用252|未使用253|未使用254|未使用255|未使用26|未使用27|未使用28|未使用29|未使用3|未使用30|未使用31|未使用32|未使用33|未使用34|未使用35|未使用36|未使用37|未使用38|未使用39|未使用4|未使用未使用40｜未使用41｜未使用42｜未使用43｜未使用44｜未使用45｜未使用46｜未使用47｜未使用48｜未使用49｜未使用5｜未使用50｜未使用51｜未使用52｜未使用53｜未使用54｜未使用55｜未使用56｜未使用57｜未使用58| 未使用6｜未使用60｜未使用61｜未使用62｜未使用63｜未使用64｜未使用65｜未使用66｜未使用67｜未使用68｜未使用69｜未使用7｜未使用70｜未使用71｜未使用72｜未使用73｜未使用74｜未使用75｜未使用76｜未使用76未使用77|未使用78|未使用79|未使用8|未使用80|未使用81|未使用82|未使用83|未使用84|未使用85|未使用86|未使用87|未使用88|未使用89|未使用9|未使用90|未使用91|未使用92|未使用93|未使用94|未使用未使用95｜未使用96｜未使用97｜未使用98｜未使用99｜virtio0｜virtio1｜virtio10｜virtio11｜virtio12｜virtio13｜virtio14｜virtio15｜virtio2｜virtio3｜virtio4｜virtio5｜virtio6｜virtio7｜virtio8｜virtio9＞。</span>
</dt>
<dd>
<p>
ターゲット VM 上でディスクが移動される設定キー (例えば、ide0 または scsi1)。デフォルトはソース・ディスク・キーです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--target-vmid</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm disk rescan</strong> <span class="monospaced">[OPTIONS] (</span><strong>ディスク再スキャン)</strong></p></div>
<div class="paragraph">
<p>すべてのストレージを再スキャンし、ディスクサイズと未使用ディスクイメージを更新します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">--dryrun</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
実際に VM config(s) に変更を書き出しません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmid</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm disk resize</strong> <span class="monospaced">&lt;vmid&gt; &lt;disk&gt; &lt;size&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>ボリュームサイズを拡張します</strong> <span class="monospaced">。</span></p></div>
<div class="paragraph">
<p>ボリュームサイズを拡張します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;disk&gt;：</span> <span class="monospaced">&lt;efidisk0 | ide0 | ide1 | ide2 | ide3 | sata0 | sata1 | sata2 | sata3 | sata4 | sata5 | scsi0 | scsi1 | scsi10 | scsi11 | scsi12 |Scsi13 | Scsi14 | Scsi15 | Scsi16 | Scsi17 | Scsi18 | Scsi19 | Scsi2 | Scsi20 | Scsi21 | Scsi22 | Scsi23 | Scsi24 | Scsi25 | Scsi26 |scsi27｜scsi28｜scsi29｜scsi3｜scsi30｜scsi4｜scsi5｜scsi6｜scsi7｜scsi8｜scsi9｜tpmstate0｜virtio0｜virtio1｜virtio10｜virtio11｜virtio12｜virtio13｜virtio14｜virtio15｜virtio2｜virtio3｜virtio4｜virtio5｜virtio6｜virtio7｜virtio8｜virtio9</span>
</dt>
<dd>
<p>
リサイズしたいディスク。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;サイズ&gt;：</span> <span class="monospaced">\+?\d+(\.\d+)?[KMGT]?</span>
</dt>
<dd>
<p>
新しいサイズ。<span class="monospaced">記号を</span>付けると、その値はボリュームの実際のサイズに加算され、付けない場合は絶対値となります。ディスクサイズの縮小はサポートされていません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ダイジェスト</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
現在の設定ファイルの SHA1 ダイジェストが異なる場合に変更を防止します。これは、同時変更を防止するために使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-スキップロック</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks (ロックを無視) - root だけがこのオプションを使用できます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm disk unlink</strong> <span class="monospaced">&lt;vmid&gt; --idlist &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span>ボリュームサイズを拡張します。</p></div>
<div class="paragraph">
<p>ディスクイメージをアンリンク/削除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
物理的な削除を強制します。このオプションがないと、設定ファイルからディスクを単純に削除し、ボリュームIDを含む<em>unused[n]</em>という追加の設定エントリを作成します。unused[n] のリンク解除は、常に物理的な削除を引き起こします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--idlist</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
削除したいディスクIDのリスト。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm guest cmd</strong> <span class="monospaced">&lt;vmid&gt; &lt;command&gt;</span>QEMU<strong>ゲストエージェントコマンドを実行</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>QEMU ゲストエージェントコマンドを実行します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;command&gt;:</span> <span class="monospaced">&lt;fsfreeze-freeze | fsfreeze-status | fsfreeze-thaw | fstrim | get-fsinfo | get-host-name | get-memory-block-info | get-memory-blocks | get-osinfo | get-time | get-timezone | get-users | get-vcpus | info | network-get-interfaces | ping | shutdown | suspend-disk | suspend-hybrid | suspend-ram&gt;</span>.</dt>
<dd>
<p>
QGA コマンド。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm guest exec</strong> <span class="monospaced">&lt;vmid&gt; [&lt;extra-args&gt;]</span> <span class="monospaced">[OPTIONS] コマンドを</span><strong>実行</strong>します。</p></div>
<div class="paragraph">
<p>ゲストエージェント経由で指定されたコマンドを実行します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;extra-args&gt;:</span> <span class="monospaced">&lt;配列&gt;。</span></dt>
<dd>
<p>
配列としての追加引数</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--pass-stdin</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
設定すると、STDIN を EOF まで読み込み、<em>input-data を介して</em>ゲストエージェントに転送します (通常は、ゲストエージェントが起動するプロセスの STDIN として扱われます)。最大 1MiB を許可します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-同期</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
off に設定すると、コマンドの終了やタイムアウトを待たずに、すぐに pid を返します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タイムアウト</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">30</span>)</dt>
<dd>
<p>
コマンドの終了を同期的に待つ最大時間。到達するとpidが返されます。無効にするには 0 を設定します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm guest exec-status</strong> <span class="monospaced">&lt;vmid&gt; &lt;pid&gt; コマンドを</span><strong>実行</strong>します。</p></div>
<div class="paragraph">
<p>ゲストエージェントによって起動された指定された pid のステータスを取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;pid&gt;:</span> <span class="monospaced">&lt;整数</span></dt>
<dd>
<p>
問い合わせるPID</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm guest passwd</strong> <span class="monospaced">&lt;vmid&gt; &lt;username&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>ゲストのパスワードを設定します。</strong></p></div>
<div class="paragraph">
<p>指定されたユーザのパスワードを指定されたパスワードに設定します</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;ユーザー名&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
パスワードを設定するユーザー。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--crypted</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
パスワードがすでに crypt() を通過している場合は 1 に設定します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm help</strong> <span class="monospaced">[オプション］</span></p></div>
<div class="paragraph">
<p>指定されたコマンドに関するヘルプを取得</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">--extra-args</span> <span class="monospaced">&lt;配列</span></dt>
<dd>
<p>
特定のコマンドのヘルプを表示します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--verbose</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
冗長出力フォーマット。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm import</strong> <span class="monospaced">&lt;vmid&gt; &lt;source&gt; --storage &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span>サポートされているゲストから外国の仮想ゲストをイン<strong>ポートします</strong>。</p></div>
<div class="paragraph">
<p>ESXi ストレージのようなサポートされているインポートソースから外国の仮想ゲストをインポートします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;source&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
インポート・ソース・ボリュームID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--acpi</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ACPI の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--affinity</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ゲストプロセスの実行に使用されるホストコアのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--agent</span> <span class="monospaced">[enabled=]&lt;1|0&gt; [,freeze-fs-on-backup=&lt;1|0&gt;] [,fstrim_cloned_disks=&lt;1|0&gt;] [,type=&lt;virtio|isa&gt;] --amd-sev [type=&lt;virtio|isa</span></dt>
<dd>
<p>
QEMU ゲストエージェントとの通信の有効化/無効化とそのプロパティ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--amd-sev</span> <span class="monospaced">[type=]&lt;sev-type&gt;[,allow-smt=&lt;1|0&gt;][,kernel-hashes=&lt;1|0&gt;][,no-debug=&lt;1|0&gt;][,no-key-sharing=&lt;1|0&gt;</span>]。</dt>
<dd>
<p>
AMD CPUによる安全な暗号化仮想化（SEV）機能</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--arch</span> <span class="monospaced">&lt;aarch64 | x86_64&gt;</span><span class="monospaced">--args</span> <span class="monospaced">&lt;</span>文字列</dt>
<dd>
<p>
仮想プロセッサーのアーキテクチャ。デフォルトはホスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--args</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
kvm に渡される任意の引数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--audio0</span> <span class="monospaced">device=&lt;ich9-intel-hda|intel-hda|AC97&gt; [,driver=&lt;spice|none&gt;</span>]<span class="monospaced">--autostart</span>&lt;boolean&gt;。</dt>
<dd>
<p>
QXL/Spice との組み合わせに便利なオーディオデバイスの設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--autostart</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
クラッシュ後の自動再起動（現在は無視）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--バルーン</span> <span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
VM のターゲット RAM の量 (MiB 単位)。ゼロを指定すると、Ballon ドライバが無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bios</span> <span class="monospaced">&lt;ovmf | seabios&gt;</span><em>(デフォルト =</em> <span class="monospaced">seabios</span>)</dt>
<dd>
<p>
BIOS の実装を選択します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--boot</span> <span class="monospaced">[[legacy=]&lt;[acdn]{1,4}&gt;][,order=&lt;デバイス[;デバイス...]&gt;]]。</span>
</dt>
<dd>
<p>
ゲストのブート順序を指定します。キーなしまたは<em>legacy= での</em>使用は非推奨であるため、<em>order=</em>サブプロパティを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bootdisk</span> <span class="monospaced">(ide|sata|scsi|virtio) \d+.</span></dt>
<dd>
<p>
指定したディスクからの起動を有効にします。非推奨：代わりに<em>boot: order=foo;bar</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cdrom</span> <span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
これは -ide2 オプションのエイリアスです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cicustom</span> <span class="monospaced">[meta=&lt;volume&gt;] [,network=&lt;volume&gt;] [,user=&lt;volume&gt;] [,vendor=&lt;volume&gt;</span>].</dt>
<dd>
<p>
cloud-init：起動時に自動生成されるファイルを置き換えるカスタムファイルを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-パスワード</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：ユーザーに割り当てるパスワード。一般的に、これを使うことは推奨されません。代わりに ssh キーを使ってください。また、古いバージョンの cloud-init はハッシュ化されたパスワードをサポートしていないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--citype</span> <span class="monospaced">&lt;configdrive2 | nocloud | opennebula&gt;</span>.</dt>
<dd>
<p>
cloud-init 構成フォーマットを指定します。デフォルトは、設定されているオペレーティングシステムの種類<span class="monospaced">（ostype</span>.Linuxの場合は<span class="monospaced">nocloud</span>形式、Windowsの場合は<span class="monospaced">configdrive2を</span>使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciupgrade</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
cloud-init: 最初のブート後にパッケージの自動アップグレードを行います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciuser</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：イメージに設定されているデフォルトユーザーの代わりに、sshキーとパスワードを変更するユーザー名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コア</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ソケットあたりのコア数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpu</span> <span class="monospaced">[[cputype=]&lt;string&gt;] [,flags=&lt;+FLG&gt;] [,flags=&lt;+FLG[,flags=&lt;+FLAG[;-FLAG...]&gt;]]を指定します。[,hidden=&lt;1|0&gt;] [,hv-vendor-id=&lt;vendor-id&gt;] [,phys-bits=&lt;8-64|host&gt;] [,reported-model=&lt;enum&gt;</span>]。</dt>
<dd>
<p>
エミュレートされる CPU のタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpulimit</span> <span class="monospaced">&lt;number&gt; (0 - 128)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
CPU使用量の上限。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpuunits</span> <span class="monospaced">&lt;integer&gt; (1 - 262144) (</span><em>デフォルト =</em> <span class="monospaced">cgroup v1: 1024, cgroup v2: 100</span>)</dt>
<dd>
<p>
VM の CPU ウェイト。cgroup v2 では [1, 10000] にクランプされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
削除する設定のリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-説明</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の説明。WebインターフェイスのVMのサマリーに表示されます。これはコンフィギュレーション・ファイル内のコメントとして保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--dryrun</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
create コマンドを表示し、何もせずに終了します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--efidisk0</span> <span class="monospaced">[file=]&lt;volume&gt; [,efitype=&lt;2m|4m&gt;] [,format=&lt;enum&gt;] [,pre-enrolled-keys=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;</span>]<span class="monospaced">--</span>フォーマット &lt;qow2</dt>
<dd>
<p>
EFIバーを保存するためのディスクを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--フォーマット</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt;</span></dt>
<dd>
<p>
ターゲットフォーマット</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-フリーズ</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
起動時にCPUをフリーズ（<em>c</em>monitorコマンドで実行開始）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hookscript</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
vms のライフタイムの様々なステップで実行されるスクリプト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hostpci[n]</span> <span class="monospaced">[[host=]&lt;HOSTPCIID[;HOSTPCIID2...]&gt;][</span>,device-id=&lt;he<span class="monospaced">...&gt;]</span>。<span class="monospaced">[,device-id=&lt;hex id&gt;] [,legacy-igd=&lt;1|0&gt;] [,mapping=&lt;mapping-id&gt;] [,mdev=&lt;string&gt;] [,pcie=&lt;1|0&gt;] [,rombar=&lt;1|0] [,romfile=&lt;string&gt;] [,sub-device-id=&lt;hex id&gt;] [,sub-vendor-id=&lt;hex id&gt;] [,vendor-id=&lt;hex id&gt;] [,x-vga=&lt;1|0&gt;</span>] --hotplug &lt;string&gt; (ホットプラグ)</dt>
<dd>
<p>
ホストの PCI デバイスをゲストにマップします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hotplug</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">network,disk,usb</span>)</dt>
<dd>
<p>
ホットプラグ機能を選択的に有効にします。これは、カンマ区切りのホットプラグ機能のリストです:<em>network</em>、<em>disk</em>、<em>cpu</em>、<em>memory</em>、<em>usb</em>、<em>cloudinit</em>。ホットプラグを完全に無効にするには<em>0 を</em>使用します。値として<em>1 を</em>使用すると、デフォルトの<span class="monospaced">network、disk、usb</span> のエイリアスになります。USB ホットプラグは、マシンのバージョンが &gt;= 7.1 で、ostype l26 または windows &gt; 7 のゲストで可能です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hugepages</span> <span class="monospaced">&lt;1024 | 2 | 任意</span></dt>
<dd>
<p>
hugepages メモリを有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ide[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,model=&lt;model&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームをIDEハードディスクまたはCD-ROMとして使用します(nは0～3)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ipconfig[n]</span> <span class="monospaced">[gw=&lt;GatewayIPv4&gt;] [,gw6=&lt;GatewayIPv6&gt;] [,ip=&lt;IPv4Format/CIDR&gt;] [,ip6=&lt;IPv6Format/CIDR&gt;] [,ip6=&lt;IPv6Format/CIDR&gt;]</span></dt>
<dd>
<p>
cloud-init：対応するインターフェースのIPアドレスとゲートウェイを指定します。</p>
<div class="paragraph">
<p>IPアドレスはCIDR表記を使用し、ゲートウェイはオプションですが、同じタイプのIPを指定する必要があります。</p></div>
<div class="paragraph">
<p>特別な文字列<em>dhcpは</em>、DHCPを使用するIPアドレスに使用することができ、その場合、明示的なゲートウェイを提供する必要はありません。 IPv6の場合、特別な文字列<em>autoは</em>、ステートレス自動設定を使用するために使用することができます。これにはcloud-init 19.4以降が必要です。</p></div>
<div class="paragraph">
<p>cloud-initが有効でIPv4アドレスもIPv6アドレスも指定されていない場合、デフォルトではIPv4でdhcpを使用します。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ivshmem</span> <span class="monospaced">size=&lt;整数&gt; [,name=&lt;文字列&gt;</span>]<span class="monospaced"> を</span> <span class="monospaced">指定</span>します<span class="monospaced">。</span></dt>
<dd>
<p>
VM間共有メモリ。VM間やホストとの直接通信に便利です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keephugepages</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
hugepages と一緒に使用します。有効にすると、VMシャットダウン後もhugepagesは削除されず、その後の起動に使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keyboard</span> <span class="monospaced">&lt;da | de | de-ch | en-gb | en-us | es | fi | fr | fr-be | fr-ca | fr-ch | hu | is | it | ja | lt | mk | nl | no | pl | pt | pt-br | sl | sv | tr&gt; --kvm &lt;boolean&gt;</span>(デフォルト = 1)</dt>
<dd>
<p>
VNCサーバーのキーボードレイアウト。このオプションは通常必要なく、ゲスト OS 内から処理する方が良い場合が多いです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--kvm</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
KVM ハードウェア仮想化の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--live-import</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VMを直ちに起動し、バックグラウンドでデータをコピーします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--localtime</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
リアルタイムクロック（RTC）をローカル時間に設定します。<span class="monospaced">ostypeが</span>Microsoft Windows OSの場合、デフォルトで有効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--lock</span> <span class="monospaced">&lt;バックアップ|クローン|作成|マイグレーション|ロールバック|スナップショット|スナップショット削除|中断|サスペンド&gt; --lock</span>[[type=1</dt>
<dd>
<p>
VMをロック/アンロックします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-マシン</span> <span class="monospaced">[[タイプ=]&lt;マシン・タイプ&gt;] [</span>,enable-s3=&lt;1<span class="monospaced">[,enable-s3=&lt;1|0&gt;] [,enable-s4=&lt;1|0&gt;] [,viommu=&lt;intel|virtio&gt;</span>] -メモリ</dt>
<dd>
<p>
QEMUマシンを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--メモリ</span> <span class="monospaced">[current=]&lt;整数</span></dt>
<dd>
<p>
メモリのプロパティ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_downtime</span> <span class="monospaced">&lt;number&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0.1</span>)</dt>
<dd>
<p>
マイグレーションの最大許容ダウンタイム（秒）を設定します。新しく汚れた RAM を転送する必要があるため、マイグレーションが最後まで収束しない場合、マイグレーションが収束するまで、この制限を段階的に自動的に増やします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_speed</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
マイグレーションの最大速度(MB/s)を設定します。値 0 は制限なしです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--name</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の名前を設定します。設定のWebインターフェイスでのみ使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ネームサーバ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNSサーバーIPアドレスを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
--<span class="monospaced">net[n]</span> <span class="monospaced">[model=]&lt;enum&gt; [,bridge=&lt;bridge&gt;] [,firewall=&lt;1|0&gt;] [,link_down=&lt;1|0&gt;] [,macaddr=&lt;XX:XX:XX:XX:XX：XX&gt;] [,mtu=&lt;integer&gt;] [,queues=&lt;integer&gt;] [,rate=&lt;number&gt;] [,tag=&lt;integer&gt;] [,trunks=&lt;vlanid[;vlanid...]&gt;][,&lt;model&gt;=&lt;macaddr&gt;</span>] --numa &lt;論理値</dt>
<dd>
<p>
ネットワークデバイスの指定</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
NUMA の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa[n]</span> <span class="monospaced">cpus=&lt;id[-id];...&gt; [,hostnodes=&lt;id[-id];...&gt;]</span>。<span class="monospaced">[,memory=&lt;number&gt;] [,policy=&lt;preferred|bind|interleave&gt;</span>]を指定します。</dt>
<dd>
<p>
NUMAトポロジ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--onboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
システム起動時に VM を起動するかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ostype</span> <span class="monospaced">&lt;l24｜l26｜その他｜solaris｜w2k｜w2k3｜w2k8｜win10｜win11｜win7｜win8｜wvista｜wxp&gt;。</span></dt>
<dd>
<p>
ゲストオペレーティングシステムの指定</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--parallel[n]</span> <span class="monospaced">/dev/parportd+|/dev/usb/lpd+</span></dt>
<dd>
<p>
ホストパラレルデバイスのマップ (n は 0 ～ 2)</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プロテクション</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VM の保護フラグを設定します。これにより、VM の削除とディスクの削除が無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--reboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
再起動を許可します。<em>0</em>に設定すると、VM は再起動時に終了します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--rng0</span> <span class="monospaced">[source=]&lt;/dev/urandom|/dev/random|/dev/hwrng&gt; [,max_bytes=&lt;integer&gt;] [,period=&lt;integer&gt;] ---sata[n] [file=]&lt;/dev/urandom|/dev/random|/dev/hwrng</span></dt>
<dd>
<p>
VirtIOベースの乱数生成器を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sata[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSATAハードディスクまたはCD-ROMとして使用します（nは0～5）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsi[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;seconds&gt; ] [,bps_max_length=&lt;seconds] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;秒&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,product=&lt;product&gt;] [,queues=&lt;integer&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,scsiblock=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,vendor=&lt;vendor&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSCSIハードディスクまたはCD-ROMとして使用します（nは0～30）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsihw</span> <span class="monospaced">&lt;lsi | lsi53c810 | megasas | pvscsi | virtio-scsi-pci | virtio-scsi-single&gt;</span><em>(default =</em> <span class="monospaced">lsi</span>)</dt>
<dd>
<p>
SCSIコントローラモデル</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--searchdomain</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNS検索ドメインを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--serial[n]</span> <span class="monospaced">(/dev/.+|socket)</span></dt>
<dd>
<p>
VM内にシリアルデバイスを作成します（nは0～3）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--shares</span> <span class="monospaced">&lt;integer&gt; (0 - 50000)</span><em>(デフォルト =</em> <span class="monospaced">1000</span>)</dt>
<dd>
<p>
オートバルーニングのメモリ共有量。この数値が大きいほど、このVMはより多くのメモリを取得します。数値は、他のすべての実行中のVMの重みに対する相対値です。ゼロを使用すると、オートバルーニングは無効になります。オートバルーニングはpvestatdによって実行されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smbios1</span> <span class="monospaced">[base64=&lt;1|0&gt;] [,family=&lt;Base64エンコードされた文字列&gt;] [,manufacturer=&lt;Base64エンコードされた文字列&gt;] [,product=&lt;Base64エンコードされた文字列] [,serial=&lt;Base64エンコードされた文字列&gt;] [,sku=&lt;Base64エンコードされた文字列&gt;] [,uuid=&lt;UUID&gt;] [,version=&lt;Base64エンコードされた文字列&gt;</span>] と<span class="monospaced">なります</span>。</dt>
<dd>
<p>
SMBIOS タイプ 1 フィールドを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smp</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPU 数。代わりに -sockets オプションを使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ソケット</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPUソケット数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--spice_enhancements</span> <span class="monospaced">[foldersharing=&lt;1|0&gt;] [,videostreaming=&lt;off|all|filter&gt;</span>]<span class="monospaced">--sshkeys</span>&lt;string&gt; --sshkey &lt;string</dt>
<dd>
<p>
SPICE用の追加機能拡張を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sshkeys</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：公開SSH鍵の設定（1行に1つの鍵、OpenSSH形式）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startdate</span> <span class="monospaced">(now | YYYY-MM-DD | YYYY-MM-DDTHH:MM:SS)</span><em>(default =</em> <span class="monospaced">now</span>)</dt>
<dd>
<p>
リアルタイムクロックの初期日付を設定します。有効な日付のフォーマットは、'now' または<em>2006-06-17T16:01:21</em>または<em>2006-06-17</em> です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startup</span>`[[order=]◆d+] [,up=d+] [,down=d+] `.</dt>
<dd>
<p>
スタートアップとシャットダウンの動作。Orderは、一般的な起動順序を定義する非負の数値です。シャットダウンは逆の順序で行われます。さらに、次のVMが起動または<em>停止</em>するまでの待ち時間を秒単位で設定できます<em>。</em></p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--storage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
デフォルトのストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tablet</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
USBタブレットデバイスの有効/無効を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タグ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VMのタグ。これはメタ情報のみです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tdf</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
タイムドリフト修正の有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--template</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
テンプレートの有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tpmstate0</span> <span class="monospaced">[file=]&lt;volume&gt; [,size=&lt;DiskSize&gt;] [,version=&lt;v1.2|v2.0&gt;].</span></dt>
<dd>
<p>
TPMの状態を保存するディスクの設定。フォーマットは<em>raw</em> 固定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--unused[n]</span> <span class="monospaced">[ファイル=]&lt;ボリューム</span></dt>
<dd>
<p>
未使用ボリュームの参照。これは内部的に使用されるので、手動で変更しないでください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--usb[n]</span> <span class="monospaced">[[host=]&lt;HOSTUSBDEVICE|spice&gt;] [</span>,マッピング=&lt;mapping-update-update-update-update<span class="monospaced">&gt;]</span>。<span class="monospaced">[,mapping=&lt;mapping-id&gt;] [,usb3=&lt;1|0&gt;</span>] --vcpus</dt>
<dd>
<p>
USB デバイスの設定（n は 0～4 で、マシンのバージョン &gt;= 7.1 および ostype l26 または Windows &gt; 7 の場合、n は最大 14 まで可能）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vcpus</span> <span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ホットプラグされたVCPUの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vga</span> <span class="monospaced">[[type=]&lt;enum&gt;] [,</span>クリップボード<span class="monospaced">=&lt;</span>vn<span class="monospaced">[クリップボード=&lt;vnc&gt;] [,メモリ=&lt;整数］</span></dt>
<dd>
<p>
VGA ハードウェアの設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtio[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt; ]。] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,werror=&lt;enum&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームを VIRTIO ハードディスクとして使用 (n は 0 から 15)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtiofs[n]</span> <span class="monospaced">[dirid=]&lt;マッピングID&gt; [,cache=&lt;enum&gt;] [,direct-io=&lt;1|0&gt;] [,expose-acl=&lt;1|0&gt;] [,expose-xattr=&lt;1|0］</span></dt>
<dd>
<p>
Virtio-fs を使用してホストとゲスト間でディレクトリを共有するための設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmgenid</span> <span class="monospaced">&lt;UUID&gt;</span><em>(デフォルト =</em> <span class="monospaced">1 (自動生成)</span>)</dt>
<dd>
<p>
VM ジェネレーション ID を設定します。作成または更新時に自動生成するには<em>1 を</em>使用し、明示的に無効にするには<em>0 を</em>渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmstatestorage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
VM ステートボリューム/ファイルのデフォルトストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--watchdog</span> <span class="monospaced">[[model=]&lt;i6300esb|ib700&gt;][,action=&lt;enum&gt;］</span></dt>
<dd>
<p>
仮想ハードウェアウォッチドッグデバイスを作成します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm importdisk</strong></p></div>
<div class="paragraph">
<p><em>qm disk import</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>qm importovf</strong> <span class="monospaced">&lt;vmid&gt; &lt;manifest&gt; &lt;storage&gt;</span> <span class="monospaced">[OPTIONS] です</span>。</p></div>
<div class="paragraph">
<p>OVF マニフェストから読み込んだパラメータを使用して新しい VM を作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;manifest&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ovfファイルへのパス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;storage&gt;:</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
ターゲット・ストレージID</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--dryrun</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
抽出されたOVFパラメータの解析済み表現を出力しますが、VMは作成しません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--format</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt; (</span><span class="monospaced">フォーマット</span> <span class="monospaced">&lt;qcow2 | raw | vmdk&gt;)</span></dt>
<dd>
<p>
ターゲットのフォーマット</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm list</strong> <span class="monospaced">[オプション］</span></p></div>
<div class="paragraph">
<p>仮想マシンのインデックス（ノードごと）</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">--full</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
アクティブなVMの完全なステータスを決定します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm listsnapshot</strong> <span class="monospaced">&lt;vmid&gt;</span>すべての<strong>スナップショットをリストします</strong>。</p></div>
<div class="paragraph">
<p>すべてのスナップショットをリストします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm migrate</strong> <span class="monospaced">&lt;vmid&gt; &lt;target&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンを移行します。</strong></p></div>
<div class="paragraph">
<p>仮想マシンを移行します。新しいマイグレーションタスクを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;target&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ターゲット・ノード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bwlimit</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">データセンターまたはストレージ設定からのマイグレーション制限</span>)</dt>
<dd>
<p>
I/O帯域幅制限のオーバーライド（KiB/s単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force</span> <span class="monospaced">&lt;論理値</span></dt>
<dd>
<p>
ローカルデバイスを使用するVMのマイグレーションを許可します。このオプションはrootのみが使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--マイグレーション・ネットワーク</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
マイグレーションに使用する（サブ）ネットワークの CIDR。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--マイグレーション・タイプ</span> <span class="monospaced">&lt;insecure | secure</span></dt>
<dd>
<p>
マイグレーショントラフィックはデフォルトでSSHトンネルを使用して暗号化されます。セキュアで完全なプライベートネットワークでは、これを無効にしてパフォーマンスを向上させることができます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--オンライン</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
VM が実行中の場合、オンライン/ライブマイグレーションを使用します。VMが停止している場合は無視されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲットストレージ</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ソースストレージからターゲットストレージへのマッピング。単一のストレージIDのみを指定すると、すべてのソースストレージがそのストレージにマッピングされます。特別な値<em>1</em>を指定すると、各ソースストレージはそれ自体にマッピングされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--with-conntrack-state</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
実行中の VM の conntrack エントリを移行するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--with-local-disks</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
ローカルディスクのライブストレージ移行を有効にします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm モニタ</strong> <span class="monospaced">&lt;vmid</span></p></div>
<div class="paragraph">
<p>QEMU Monitor インターフェイスに入ります。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm ディスク移動</strong></p></div>
<div class="paragraph">
<p><em>qm disk move</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>qm move_disk</strong></p></div>
<div class="paragraph">
<p><em>qm disk moveの</em>エイリアス。</p></div>
<div class="paragraph">
<p><strong>qm mtunnel</strong></p></div>
<div class="paragraph">
<p>qmigrate によって使用されます - 手動で使用しないでください。</p></div>
<div class="paragraph">
<p><strong>qm nbdstop</strong> <span class="monospaced">&lt;vmid&gt;</span><strong>です</strong>。</p></div>
<div class="paragraph">
<p>組み込み nbd サーバを停止します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm pending</strong> <span class="monospaced">&lt;vmid</span></p></div>
<div class="paragraph">
<p>現在の値と保留中の値の両方で仮想マシン構成を取得します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm reboot</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[オプション]</span>。</p></div>
<div class="paragraph">
<p>仮想マシンをシャットダウンして再起動します。保留中の変更を適用します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タイムアウト</span> <span class="monospaced">&lt;integer&gt; (0 - N</span>)</dt>
<dd>
<p>
シャットダウンの最大タイムアウト秒数。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm remote-migrate</strong> <span class="monospaced">&lt;vmid&gt; [&lt;target-vmid&gt;] &lt;target-endpoint&gt; --target-bridge &lt;string&gt; --target-storage &lt;string&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>リモートへ</strong>仮想<strong>マシンを移行します。</strong></p></div>
<div class="paragraph">
<p>仮想マシンをリモート クラスターに移行します。新しい移行タスクを作成します！</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;target-vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;target-endpoint&gt;:</span> <span class="monospaced">apitoken=&lt;PVEAPIToken=user@realm!token=SECRET&gt; ,host=&lt;ADDRESS&gt; [,fingerprint=&lt;FINGERPRINT&gt;] [,port=&lt;PORT&gt;</span>]<span class="monospaced">。</span></dt>
<dd>
<p>
リモート・ターゲット・エンドポイント</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bwlimit</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">データセンターまたはストレージ構成からの移行制限</span>)</dt>
<dd>
<p>
I/O帯域幅制限のオーバーライド（単位：KiB/s）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
移行成功後に元のVMと関連データを削除します。デフォルトでは、元のVMは停止状態でソースクラスタに保持されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--オンライン</span> <span class="monospaced">&lt;boolean</span></dt>
<dd>
<p>
VMが実行中の場合はオンライン/ライブマイグレーションを使用します。VMが停止している場合は無視されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲット-ブリッジ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ソース・ブリッジからターゲット・ブリッジへのマッピング。単一のブリッジIDのみを指定すると、すべてのソース・ブリッジがそのブリッジにマッピングされます。特別な値<em>1</em>を指定すると、各ソース・ブリッジがそれ自体にマッピングされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲット-ストレージ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ソースからターゲット・ストレージへのマッピング。単一のストレージ ID のみを指定すると、すべてのソース・ストレージがそのストレージにマップされます。特別な値<em>1</em>を指定すると、各ソース・ストレージはそれ自体にマッピングされます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm rescan</strong></p></div>
<div class="paragraph">
<p><em>qm disk rescanの</em>エイリアスです。</p></div>
<div class="paragraph">
<p><strong>qm reset</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンをリセットします。</strong></p></div>
<div class="paragraph">
<p>仮想マシンをリセットします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スキップロック</span> <span class="monospaced">&lt;論理値</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm resize</strong></p></div>
<div class="paragraph">
<p><em>qm disk resizeの</em>エイリアス。</p></div>
<div class="paragraph">
<p><strong>qm resume</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンをレジュームします。</strong></p></div>
<div class="paragraph">
<p>仮想マシンをレジュームします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ノチェック</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
説明なし</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--skiplock</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks - root だけがこのオプションを使用できます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm rollback</strong> <span class="monospaced">&lt;vmid&gt; &lt;snapname&gt;</span> <span class="monospaced">[オプション]</span>。</p></div>
<div class="paragraph">
<p>仮想マシンの状態を指定したスナップショットにロールバックします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;スナップ名&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
スナップショットの名前。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--start</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ロールバック成功後にVMを起動するかどうか。(注意：スナップショットにRAMが含まれている場合、VMは自動的に起動します)</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm sendkey</strong> <span class="monospaced">&lt;vmid&gt; &lt;key&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想マシンにキーイベントを<strong>送信します</strong>。</p></div>
<div class="paragraph">
<p>仮想マシンにキーイベントを送信します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;key&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
キー（qemuモニタのエンコーディング）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--skiplock</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm set</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<span class="monospaced">マシンの</span>オプションを<strong>設定します</strong>。</p></div>
<div class="paragraph">
<p>仮想マシンのオプションを設定します（同期API） - ホットプラグまたはストレージ割り当てを含むアクションでは、代わりにPOSTメソッドの使用を検討する必要があります。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの(一意の)ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--acpi</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ACPI の有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--affinity</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ゲストプロセスの実行に使用されるホストコアのリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--agent</span> <span class="monospaced">[enabled=]&lt;1|0&gt; [,freeze-fs-on-backup=&lt;1|0&gt;] [,fstrim_cloned_disks=&lt;1|0&gt;] [,type=&lt;virtio|isa&gt;] --amd-sev [type=&lt;virtio|isa</span></dt>
<dd>
<p>
QEMU ゲストエージェントおよびそのプロパティとの通信の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--amd-sev</span> <span class="monospaced">[type=]&lt;sev-type&gt;[,allow-smt=&lt;1|0&gt;][,kernel-hashes=&lt;1|0&gt;][,no-debug=&lt;1|0&gt;][,no-key-sharing=&lt;1|0&gt;</span>]。</dt>
<dd>
<p>
AMD CPUによる安全な暗号化仮想化（SEV）機能</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--arch</span> <span class="monospaced">&lt;aarch64 | x86_64&gt;</span><span class="monospaced">--args</span> <span class="monospaced">&lt;</span>文字列</dt>
<dd>
<p>
仮想プロセッサーのアーキテクチャ。デフォルトはホスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--args</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
kvm に渡される任意の引数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--audio0</span> <span class="monospaced">device=&lt;ich9-intel-hda|intel-hda|AC97&gt; [,driver=&lt;spice|none&gt;</span>]<span class="monospaced">--autostart</span>&lt;boolean&gt;。</dt>
<dd>
<p>
QXL/Spice との組み合わせに便利なオーディオデバイスの設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--autostart</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
クラッシュ後の自動再起動（現在は無視）</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--バルーン</span> <span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
VM のターゲット RAM の量 (MiB 単位)。ゼロを指定すると、Ballon ドライバが無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bios</span> <span class="monospaced">&lt;ovmf | seabios&gt;</span><em>(デフォルト =</em> <span class="monospaced">seabios</span>)</dt>
<dd>
<p>
BIOS の実装を選択します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--boot</span> <span class="monospaced">[[legacy=]&lt;[acdn]{1,4}&gt;][,order=&lt;デバイス[;デバイス...]&gt;]]。</span>
</dt>
<dd>
<p>
ゲストの起動順序を指定します。<em>order=</em>サブプロパティを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--bootdisk</span> <span class="monospaced">(ide|sata|scsi|virtio) \d+.</span></dt>
<dd>
<p>
指定したディスクからの起動を有効にします。非推奨：代わりに<em>boot: order=foo;bar</em>を使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cdrom</span> <span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
これは -ide2 オプションのエイリアスです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cicustom</span> <span class="monospaced">[meta=&lt;volume&gt;] [,network=&lt;volume&gt;] [,user=&lt;volume&gt;] [,vendor=&lt;volume&gt;</span>].</dt>
<dd>
<p>
cloud-init：起動時に自動生成されるファイルを置き換えるカスタムファイルを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-パスワード</span> <span class="monospaced">&lt;password</span></dt>
<dd>
<p>
cloud-init：ユーザーに割り当てるパスワード。これを使うことは一般的に推奨されません。代わりに ssh キーを使ってください。また、古いバージョンの cloud-init はハッシュ化されたパスワードをサポートしていないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--citype</span> <span class="monospaced">&lt;configdrive2 | nocloud | opennebula&gt;</span>.</dt>
<dd>
<p>
cloud-init 構成フォーマットを指定します。デフォルトは設定されているオペレーティングシステムの種類<span class="monospaced">（ostype</span>.Linuxの場合は<span class="monospaced">nocloud</span>形式、Windowsの場合は<span class="monospaced">configdrive2を</span>使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciupgrade</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
cloud-init: 最初のブート後にパッケージの自動アップグレードを行います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ciuser</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：イメージに設定されているデフォルトユーザーの代わりに、sshキーとパスワードを変更するユーザー名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--コア</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ソケットあたりのコア数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpu</span> <span class="monospaced">[[cputype=]&lt;string&gt;] [,flags=&lt;+FLG&gt;] [,flags=&lt;+FLG[,flags=&lt;+FLAG[;-FLAG...]&gt;]]を指定します。[,hidden=&lt;1|0&gt;] [,hv-vendor-id=&lt;vendor-id&gt;] [,phys-bits=&lt;8-64|host&gt;] [,reported-model=&lt;enum&gt;</span>]。</dt>
<dd>
<p>
エミュレートされる CPU のタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpulimit</span> <span class="monospaced">&lt;number&gt; (0 - 128)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
CPU使用量の上限。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--cpuunits</span> <span class="monospaced">&lt;integer&gt; (1 - 262144) (</span><em>デフォルト =</em> <span class="monospaced">cgroup v1: 1024, cgroup v2: 100</span>)</dt>
<dd>
<p>
VM の CPU ウェイト。cgroup v2 では [1, 10000] にクランプされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--delete</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
削除する設定のリスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-説明</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
VM の説明。WebインターフェイスのVMのサマリーに表示されます。コンフィギュレーション・ファイルのコメントとして保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ダイジェスト</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
Prevent changes if current configuration file has different SHA1 digest.これは、同時変更を防止するために使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--efidisk0</span> <span class="monospaced">[file=]&lt;volume&gt; [,efitype=&lt;2m|4m&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;ソースボリューム&gt;] [,pre-enrolled-keys=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;</span>] --force &lt;論理値</dt>
<dd>
<p>
EFIバーを保存するディスクを設定します。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。SIZE_IN_GiBはここでは無視され、代わりにデフォルトのEFIバーがボリュームにコピーされることに注意してください。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
物理的な削除を強制します。これを行わないと、設定ファイルからディスクが削除され、ボリュームIDを含む<em>unused[n]</em>という追加の設定エントリが作成されます。unused[n]のリンク解除は、常に物理的な削除を引き起こします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション（複数可）:<span class="monospaced">delete</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--freeze</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
起動時にCPUをフリーズします（<em>c</em>monitorコマンドを使用して実行を開始します）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hookscript</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
vms のライフタイム内のさまざまなステップで実行されるスクリプト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hostpci[n]</span> <span class="monospaced">[[host=]&lt;HOSTPCIID[;HOSTPCIID2...]&gt;][</span>,device-id=&lt;he<span class="monospaced">...[,device-id=&lt;hex id&gt;] [,legacy-igd=&lt;1|0&gt;] [,mapping=&lt;mapping-id&gt;] [,mdev=&lt;string&gt;] [,pcie=&lt;1|0&gt;] [,rombar=&lt;1|0] [,romfile=&lt;string&gt;] [,sub-device-id=&lt;hex id&gt;] [,sub-vendor-id=&lt;hex id&gt;] [,vendor-id=&lt;hex id&gt;] [,x-vga=&lt;1|0&gt;</span>] --hotplug &lt;string&gt; (ホットプラグ)</dt>
<dd>
<p>
ホストの PCI デバイスをゲストにマップ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hotplug</span> <span class="monospaced">&lt;string&gt;</span><em>(default =</em> <span class="monospaced">network,disk,usb</span>)</dt>
<dd>
<p>
ホットプラグ機能を選択的に有効にします。これは、カンマ区切りのホットプラグ機能のリストです:<em>network</em>、<em>disk</em>、<em>cpu</em>、<em>memory</em>、<em>usb</em>、<em>cloudinit</em>。ホットプラグを完全に無効にするには<em>0 を</em>使用します。値として<em>1 を</em>使用すると、デフォルトの<span class="monospaced">network、disk、usb</span> のエイリアスになります。USB ホットプラグは、マシンのバージョンが &gt;= 7.1 で、ostype l26 または windows &gt; 7 のゲストで可能です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--hugepages</span> <span class="monospaced">&lt;1024 | 2 | 任意</span></dt>
<dd>
<p>
hugepages メモリを有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ide[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt; ]。] [,media=&lt;cdrom|disk&gt;] [,model=&lt;model&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームを IDE ハードディスクまたは CD-ROM として使用します (n は 0 から 3)。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ipconfig[n]</span> <span class="monospaced">[gw=&lt;GatewayIPv4&gt;] [,gw6=&lt;GatewayIPv6&gt;] [,ip=&lt;IPv4Format/CIDR&gt;] [,ip6=&lt;IPv6Format/CIDR&gt;] --ivshmem size=&lt;GatewayIPv4&gt;] [,ip6=&lt;GatewayIPv6</span></dt>
<dd>
<p>
cloud-init：対応するインタフェースのIPアドレスとゲートウェイを指定します。</p>
<div class="paragraph">
<p>IPアドレスはCIDR表記を使用し、ゲートウェイはオプションですが、同じタイプのIPを指定する必要があります。</p></div>
<div class="paragraph">
<p>特別な文字列<em>dhcpは</em>、DHCPを使用するIPアドレスに使用することができ、その場合、明示的なゲートウェイを提供する必要はありません。 IPv6の場合、特別な文字列<em>autoは</em>、ステートレス自動設定を使用するために使用することができます。これにはcloud-init 19.4以降が必要です。</p></div>
<div class="paragraph">
<p>cloud-initが有効でIPv4アドレスもIPv6アドレスも指定されていない場合、デフォルトではIPv4でdhcpを使用します。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ivshmem</span> <span class="monospaced">size=&lt;整数&gt; [,name=&lt;文字列&gt;</span>] です。</dt>
<dd>
<p>
VM間共有メモリ。VM間またはホストとの直接通信に便利です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keephugepages</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
hugepages と併用します。有効にすると、VMシャットダウン後もhugepagesは削除されず、その後の起動に使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keyboard</span> <span class="monospaced">&lt;da | de | de-ch | en-gb | en-us | es | fi | fr | fr-be | fr-ca | fr-ch | hu | is | it | ja | lt | mk | nl | no | pl | pt | pt-br | sl | sv | tr&gt; --kvm &lt;boolean&gt;</span>(デフォルト = 0)</dt>
<dd>
<p>
VNCサーバーのキーボードレイアウト。このオプションは通常必要なく、ゲスト OS 内から処理する方が良い場合が多いです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--kvm</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
KVM ハードウェア仮想化の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--localtime</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
リアルタイムクロック (RTC) をローカル時間に設定します。これは、<span class="monospaced">ostype</span>が Microsoft Windows OS の場合、デフォルトで有効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--lock</span> <span class="monospaced">&lt;バックアップ｜クローン｜作成｜マイグレーション｜ロールバック｜スナップショット｜スナップショット・デリート｜サスペンド｜サスペンド&gt; --machine</span>[[type=1</dt>
<dd>
<p>
VM のロック/ロック解除。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--machine</span> <span class="monospaced">[[type=]&lt;マシン・タイプ&gt;] [</span>,enable-s3=&lt;1<span class="monospaced">[,enable-s3=&lt;1|0&gt;] [,enable-s4=&lt;1|0&gt;] [,viommu=&lt;intel|virtio&gt;</span>] -メモリ</dt>
<dd>
<p>
QEMU マシンの指定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--メモリ</span> <span class="monospaced">[current=]&lt;整数</span></dt>
<dd>
<p>
メモリのプロパティ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_downtime</span> <span class="monospaced">&lt;number&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0.1</span>)</dt>
<dd>
<p>
マイグレーションの最大許容ダウンタイム（秒）を設定します。新しく汚れた RAM を転送する必要があるため、マイグレーションが最後まで収束しない場合、マイグレーションが収束するまで、この制限を段階的に自動的に増やします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migrate_speed</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
マイグレーションの最大速度(MB/s)を設定します。値 0 は制限なしです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--name</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の名前を設定します。設定のWebインターフェイスでのみ使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ネームサーバ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNSサーバーIPアドレスを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
--<span class="monospaced">net[n]</span> <span class="monospaced">[model=]&lt;enum&gt; [,bridge=&lt;bridge&gt;] [,firewall=&lt;1|0&gt;] [,link_down=&lt;1|0&gt;] [,macaddr=&lt;XX:XX:XX:XX:XX：XX&gt;] [,mtu=&lt;integer&gt;] [,queues=&lt;integer&gt;] [,rate=&lt;number&gt;] [,tag=&lt;integer&gt;] [,trunks=&lt;vlanid[;vlanid...]&gt;][,&lt;model&gt;=&lt;macaddr&gt;</span>] --numa &lt;論理値</dt>
<dd>
<p>
ネットワークデバイスを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
NUMAの有効化／無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--numa[n]</span> <span class="monospaced">cpus=&lt;id[-id];...&gt; [,hostnodes=&lt;id[-id];...&gt;]</span>。<span class="monospaced">[,memory=&lt;number&gt;] [,policy=&lt;preferred|bind|interleave&gt;</span>]を指定します。</dt>
<dd>
<p>
NUMAトポロジ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--onboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
システム起動時に VM を起動するかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ostype</span> <span class="monospaced">&lt;l24｜l26｜その他｜solaris｜w2k｜w2k3｜w2k8｜win10｜win11｜win7｜win8｜wvista｜wxp&gt;。</span></dt>
<dd>
<p>
ゲストオペレーティングシステムの指定</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--parallel[n]</span> <span class="monospaced">/dev/parportd+|/dev/usb/lpd+</span></dt>
<dd>
<p>
ホストパラレルデバイスのマップ (n は 0 ～ 2)</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--プロテクション</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VM の保護フラグを設定します。これにより、VM の削除とディスクの削除が無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--reboot</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
再起動を許可します。<em>0</em>に設定すると、再起動時に VM が終了します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--revert</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
保留中の変更を元に戻します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--rng0</span> <span class="monospaced">[source=]&lt;/dev/urandom|/dev/random|/dev/hwrng&gt; [,max_bytes=&lt;integer&gt;] [,period=&lt;integer&gt;</span>].</dt>
<dd>
<p>
VirtIO ベースの乱数生成器を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sata[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;秒&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームを SATA ハード ディスクまたは CD-ROM として使用します（n は 0 ～ 5）。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsi[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;seconds&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;ソースボリューム&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,product=&lt;product&gt;] [,queues=&lt;integer&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,scsiblock=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,vendor=&lt;vendor&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSCSIハードディスクまたはCD-ROMとして使用します（nは0～30）。新しいボリュームを割り当てるには、特別な構文STORAGE_ID:SIZE_IN_GiBを使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--scsihw</span> <span class="monospaced">&lt;lsi | lsi53c810 | megasas | pvscsi | virtio-scsi-pci | virtio-scsi-single&gt;</span><em>(default =</em> <span class="monospaced">lsi</span>)</dt>
<dd>
<p>
SCSIコントローラモデル</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--searchdomain</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNS検索ドメインを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--serial[n]</span> <span class="monospaced">(/dev/.+|socket)</span></dt>
<dd>
<p>
VM内にシリアルデバイスを作成します（nは0～3）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--shares</span> <span class="monospaced">&lt;integer&gt; (0 - 50000)</span><em>(デフォルト =</em> <span class="monospaced">1000</span>)</dt>
<dd>
<p>
オートバルーニングのメモリ共有量。この数値が大きいほど、このVMはより多くのメモリを取得します。数値は、他のすべての実行中のVMの重みに対する相対値です。ゼロを使用すると、オートバルーニングは無効になります。オートバルーニングはpvestatdによって実行されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--skiplock</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smbios1</span> <span class="monospaced">[base64=&lt;1|0&gt;] [,family=&lt;Base64エンコード文字列&gt;] [,manufacturer=&lt;Base64エンコード文字列&gt;] [,product=&lt;Base64エンコード文字列] [,serial=&lt;Base64エンコードされた文字列&gt;] [,sku=&lt;Base64エンコードされた文字列&gt;] [,uuid=&lt;UUID&gt;] [,version=&lt;Base64エンコードされた文字列&gt;</span>] と<span class="monospaced">なります</span>。</dt>
<dd>
<p>
SMBIOSタイプ1のフィールドを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--smp</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPU数を指定します。代わりに -sockets オプションを使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ソケット</span> <span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPU ソケットの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--spice_enhancements</span> <span class="monospaced">[foldersharing=&lt;1|0&gt;] [,videostreaming=&lt;off|all|filter&gt;</span>]。</dt>
<dd>
<p>
SPICE の追加機能拡張を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--sshkeys</span> <span class="monospaced">&lt;ファイルパス</span></dt>
<dd>
<p>
cloud-init：公開SSH鍵の設定（1行に1つの鍵、OpenSSH形式）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startdate</span> <span class="monospaced">(now | YYYY-MM-DD | YYYY-MM-DDTHH:MM:SS)</span><em>(default =</em> <span class="monospaced">now</span>)</dt>
<dd>
<p>
リアルタイムクロックの初期日付を設定します。有効な日付のフォーマットは、'now' または<em>2006-06-17T16:01:21</em>または<em>2006-06-17</em> です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--startup</span>`[[order=]\d+] [,up=d+] [,down=d+] `.</dt>
<dd>
<p>
スタートアップとシャットダウンの動作。Orderは、一般的な起動順序を定義する非負の数値です。シャットダウンは逆の順序で行われます。さらに、次のVMが起動または<em>停止</em>するまでの待ち時間を秒単位で設定できます<em>。</em></p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tablet</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
USBタブレット・デバイスの有効/無効を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タグ</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VMのタグ。これはメタ情報のみです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tdf</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
タイムドリフト修正の有効/無効を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--template</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
テンプレートの有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--tpmstate0</span> <span class="monospaced">[file=]&lt;volume&gt; [,import-from=&lt;ソースボリューム&gt;] [,size=&lt;DiskSize&gt;] [,version=&lt;v1.2|v2.0&gt;]</span><span class="monospaced">--unused</span> <span class="monospaced">[</span>n</dt>
<dd>
<p>
TPMの状態を保存するディスクの設定。フォーマットは<em>raw</em> 固定です。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。SIZE_IN_GiBはここでは無視され、代わりに4MiBが使用されることに注意してください。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--unused[n]</span> <span class="monospaced">[[ファイル=]&lt;ボリューム</span></dt>
<dd>
<p>
未使用ボリュームへの参照。これは内部的に使用されるため、手動で変更しないでください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--usb[n]</span> <span class="monospaced">[[host=]&lt;HOSTUSBDEVICE|spice&gt;] [</span>,マッピング=&lt;mapping-update-update-update-update<span class="monospaced">&gt;]</span>。<span class="monospaced">[,mapping=&lt;mapping-id&gt;] [,usb3=&lt;1|0&gt;</span>] --vcpus</dt>
<dd>
<p>
USBデバイスを構成します（nは0～4、マシンバージョン&gt;= 7.1、ostype l26またはwindows&gt; 7の場合、nは最大14まで）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vcpus</span> <span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ホットプラグされたVCPUの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vga</span> <span class="monospaced">[[type=]&lt;enum&gt;] [,</span>クリップボード<span class="monospaced">=&lt;</span>vn<span class="monospaced">[,clipboard=&lt;vnc&gt;] [,memory=&lt;integer&gt;</span>] --virtio[n</dt>
<dd>
<p>
VGA ハードウェアの設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtio[n]</span> <span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,import-from=&lt;source volume&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,werror=&lt;enum&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをVIRTIOハードディスクとして使用します(nは0から15まで)。新しいボリュームを割り当てるには、特別な構文 STORAGE_ID:SIZE_IN_GiB を使用します。既存のボリュームからインポートするには、STORAGE_ID:0と<em>import-from</em>パラメータを使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--virtiofs[n]</span> <span class="monospaced">[dirid=]&lt;マッピングID&gt; [,cache=&lt;enum&gt;] [,direct-io=&lt;1|0&gt;] [,expose-acl=&lt;1|0&gt;] [,expose-xattr=&lt;1|0］</span></dt>
<dd>
<p>
Virtio-fs を使用してホストとゲスト間でディレクトリを共有するための設定。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmgenid</span> <span class="monospaced">&lt;UUID&gt;</span><em>(デフォルト =</em> <span class="monospaced">1 (自動生成)</span>)</dt>
<dd>
<p>
VM ジェネレーション ID を設定します。作成または更新時に自動生成するには<em>1 を</em>使用し、明示的に無効にするには<em>0 を</em>渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmstatestorage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
VM ステートボリューム/ファイルのデフォルトストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--watchdog</span> <span class="monospaced">[[model=]&lt;i6300esb|ib700&gt;][,action=&lt;enum&gt;］</span></dt>
<dd>
<p>
仮想ハードウェア・ウォッチドッグ・デバイスの作成。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm showcmd</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンの起動に</strong>使用するコマンドラインを<strong>表示します。</strong></p></div>
<div class="paragraph">
<p>VM の起動に使用されるコマンドラインを表示します (デバッグ情報)。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の （一意の） ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--pretty</span> <span class="monospaced">&lt;論理値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
各オプションを改行して可読性を高めます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スナップショット</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
指定されたスナップショットから設定値をフェッチします。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm shutdown</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンをシャットダウンします。</strong></p></div>
<div class="paragraph">
<p>仮想マシンをシャットダウンします。これは、物理マシンの電源ボタンを押すのと似ています。これはゲスト OS に ACPI イベントを送信し、クリーンシャットダウンに進むはずです。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--forceStop</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VMが停止していることを確認します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keepActive</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ストレージボリュームを非アクティブにしません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-スキップロック</span> <span class="monospaced">&lt;boolean</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-タイムアウト</span> <span class="monospaced">&lt;integer&gt; (0 - N</span>)</dt>
<dd>
<p>
最大タイムアウト秒数</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm snapshot</strong> <span class="monospaced">&lt;vmid&gt; &lt;snapname&gt;</span> <span class="monospaced">[オプション]</span>。</p></div>
<div class="paragraph">
<p>VM をスナップショットします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">&lt;スナップ名&gt;:</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
スナップショットの名前。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-説明</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
テキストによる説明またはコメント。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--vmstate</span> <span class="monospaced">&lt;論理値</span></dt>
<dd>
<p>
vmstateの保存</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm start</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンを起動します。</strong></p></div>
<div class="paragraph">
<p>仮想マシンを起動します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--force-cpu</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
QEMU の -cpu 引数を指定した文字列で上書きします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--machine</span> <span class="monospaced">[[type=]&lt;マシンタイプ&gt;] [</span>,enable-s3=&lt;1<span class="monospaced">[,enable-s3=&lt;1|0&gt;] [,enable-s4=&lt;1|0&gt;] [,viommu=&lt;intel|virtio&gt;</span>] -migratedfrom &lt;string</dt>
<dd>
<p>
QEMUマシンを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migratedfrom</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クラスタノード名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--migration_network</span> <span class="monospaced">&lt;string&gt;</span></dt>
<dd>
<p>
マイグレーションに使用する（サブ）ネットワークのCIDR。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--マイグレーションタイプ</span> <span class="monospaced">&lt;insecure | secure</span></dt>
<dd>
<p>
マイグレーショントラフィックはデフォルトでSSHトンネルを使用して暗号化されます。安全で完全にプライベートなネットワークでは、これを無効にしてパフォーマンスを向上させることができます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--スキップロック</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--stateuri</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
この場所から状態を保存/復元するコマンドもあります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-ターゲットストレージ</span> <span class="monospaced">&lt;string</span></dt>
<dd>
<p>
ソースストレージからターゲットストレージへのマッピング。単一のストレージIDのみを指定すると、すべてのソースストレージがそのストレージにマッピングされます。特別な値<em>1</em>を指定すると、各ソース・ストレージはそれ自体にマッピングされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--timeout</span> <span class="monospaced">&lt;integer&gt; (0 - N)</span><em>(default =</em> <span class="monospaced">max(30, vm memory in GiB)</span>)</dt>
<dd>
<p>
最大タイムアウト秒数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--with-conntrack-state</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
実行中の VM の conntrack エントリを移行するかどうか。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm status</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンのステータスを表示</strong>します<strong>。</strong></p></div>
<div class="paragraph">
<p>VMのステータスを表示します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--verbose</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
詳細出力フォーマット</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm stop</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>仮想<strong>マシンを停止します。</strong></p></div>
<div class="paragraph">
<p>仮想マシンを停止します。qemuプロセスは直ちに終了します。これは実行中のコンピュータの電源プラグを抜くようなもので、VMデータを損傷する可能性があります。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の (一意の) ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--keepActive</span> <span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ストレージボリュームを非アクティブにしません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-migratedfrom</span> <span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
クラスタ・ノード名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--overrule-shutdown</span> <span class="monospaced">&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
停止する前にアクティブな<em>qmshutdown</em>タスクの中止を試みます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">-スキップロック</span> <span class="monospaced">&lt;boolean</span></dt>
<dd>
<p>
Ignore locks - rootのみがこのオプションを使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タイムアウト</span> <span class="monospaced">&lt;integer&gt; (0 - N</span>)</dt>
<dd>
<p>
最大タイムアウト秒数。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm suspend</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[オプション]</span><strong>仮想マシンをサスペンドします。</strong></p></div>
<div class="paragraph">
<p>仮想マシンをサスペンドします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;integer&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--skiplock</span> <span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
ロックを無視 - root だけがこのオプションを使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--statestorage</span> <span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
VM の状態を保存するストレージ。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">todisk</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">--todisk</span> <span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
設定すると、VMをディスクに一時停止します。次回の VM 起動時に再開されます。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm template</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>テンプレートを作成します。</strong></p></div>
<div class="paragraph">
<p>テンプレートを作成します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--ディスク</span> <span class="monospaced">&lt;efidisk0 | ide0 | ide1 | ide2 | ide3 | sata0 | sata1 | sata2 | sata3 | sata4 | sata5 | scsi0 | scsi1 | scsi10 | scsi11 | scsi12 | scsi13 | scsi14 | scsi12Scsi13 | Scsi14 | Scsi15 | Scsi16 | Scsi17 | Scsi18 | Scsi19 | Scsi2 | Scsi20 | Scsi21 | Scsi22 | Scsi23 | Scsi24 | Scsi25 | Scsi26 |scsi27｜scsi28｜scsi29｜scsi3｜scsi30｜scsi4｜scsi5｜scsi6｜scsi7｜scsi8｜scsi9｜tpmstate0｜virtio0｜virtio1｜virtio10｜virtio11｜virtio12｜virtio13｜virtio14｜virtio15｜virtio2｜virtio3｜virtio4｜virtio5｜virtio6｜virtio7｜virtio8｜virtio9</span>
</dt>
<dd>
<p>
1つのディスクだけをベースイメージに変換する場合。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm terminal</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span><strong>ターミナルを開きます。</strong></p></div>
<div class="paragraph">
<p>シリアルデバイスを使用してターミナルを開きます（仮想マシンには<em>シリアル</em>デバイスが設定されている必要があります。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--escape</span> <span class="monospaced">&lt;string&gt;</span><em>(デフォルト =</em> <span class="monospaced">^O</span>)</dt>
<dd>
<p>
エスケープ文字</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--iface</span> <span class="monospaced">&lt;シリアル0 | シリアル1 | シリアル2 | シリアル3</span></dt>
<dd>
<p>
シリアルデバイスを選択します。デフォルトでは、最初の適切なデバイスを使用します。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm unlink</strong></p></div>
<div class="paragraph">
<p><em>qm disk unlink</em> のエイリアス。</p></div>
<div class="paragraph">
<p><strong>qm unlock</strong> <span class="monospaced">&lt;vmid</span></p></div>
<div class="paragraph">
<p>VM のロックを解除します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VM の（一意の）ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm vncproxy</strong> <span class="monospaced">&lt;vmid</span></p></div>
<div class="paragraph">
<p>VMのVNCトラフィックを標準入力/標準出力にプロキシします。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>qm wait</strong> <span class="monospaced">&lt;vmid&gt;</span> <span class="monospaced">[OPTIONS]</span>VMが<strong>停止するまで待ちます。</strong></p></div>
<div class="paragraph">
<p>VMが停止するまで待ちます。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">&lt;vmid&gt;:</span> <span class="monospaced">&lt;整数&gt; (100 - 999999999</span>)</dt>
<dd>
<p>
VMの（一意の）ID。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">--タイムアウト</span> <span class="monospaced">&lt;integer&gt; (1 - N</span>)</dt>
<dd>
<p>
タイムアウト（秒）。デフォルトは永久に待ちます。</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">
説明<a class="headerlink" href="#_description" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>QEMU（Quick Emulatorの略）は、物理コンピュータをエミュレートするオープンソースのハイパーバイザーです。QEMU が実行されているホストシステムから見ると、QEMU はユーザープログラムであり、パーティション、ファイル、ネットワークカードなどの多数のローカルリソースにアクセスできます。</p></div>
<div class="paragraph">
<p>エミュレートされたコンピュータで実行されているゲストオペレーティングシステムは、これらのデバイスにアクセスし、実際のハードウェア上で実行されているかのように動作します。たとえば、ISO イメージを QEMU にパラメータとして渡すと、エミュレートされたコンピュータで実行中の OS には、CD ドライブに挿入された本物の CD-ROM が表示されます。</p></div>
<div class="paragraph">
<p>QEMUはARMからSparcまで多種多様なハードウェアをエミュレートできますが、Proxmox VEは32ビットと64ビットのPCクローンエミュレートにしか関心がありません。PCクローンのエミュレーションは、エミュレートするアーキテクチャがホストアーキテクチャと同じ場合にQEMUを大幅に高速化するプロセッサ拡張機能を利用できるため、最も高速なエミュレーションの1つでもあります。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content"><em>KVM</em>(Kernel-based Virtual Machine) という用語に遭遇することがありますが、これは Linux KVM モジュールを介して、QEMU が仮想化プロセッサ拡張のサポートを受けて動作していることを意味します。Proxmox VE の QEMU は常に KVM モジュールをロードしようとするため、Proxmox VE の<em>QEMU</em>と<em>KVM</em>は同じ意味で使用できます。</td>
</tr></table>
</div>
<div class="paragraph">
<p>Proxmox VE 内の QEMU は、ブロック デバイスと PCI デバイスにアクセスするために必要なルート プロセスとして実行されます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_emulated_devices_and_paravirtualized_devices">
エミュレートされたデバイスと準仮想化デバイス<a class="headerlink" href="#_emulated_devices_and_paravirtualized_devices" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>QEMUがエミュレートするPCハードウェアには、マザーボード、ネットワークコントローラ、SCSI、IDE、SATAコントローラ、シリアルポート（完全なリストは<span class="monospaced">kvm(1)の</span>マニュアルページを参照）が含まれ、これらはすべてソフトウェアでエミュレートされます。これらのデバイスはすべて、既存のハードウェアデバイスとまったく同等のソフトウェアデバイスであり、ゲストで実行されている OS に適切なドライバがあれば、実際のハードウェア上で実行されているかのようにデバイスを使用できます。これにより、QEMU は<em>変更されていない</em>オペレーティングシステムを実行できます。</p></div>
<div class="paragraph">
<p>ただし、ハードウェアで実行するはずのものをソフトウェアで実行すると、ホスト CPU に多くの余分な作業が発生するため、これにはパフォーマンス上のコストが伴います。これを軽減するために、QEMU はゲスト OS に<em>準仮想化デバイスを</em>提示することができます。この場合、ゲスト OS は QEMU 内で実行されていることを認識し、ハイパーバイザーと協力します。</p></div>
<div class="paragraph">
<p>QEMU は virtio 仮想化標準に依存しているため、準仮想化された汎用ディスクコントローラー、準仮想化されたネットワークカード、準仮想化されたシリアルポート、準仮想化された SCSI コントローラーなど、準仮想化された virtio デバイスを提示できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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" />
</td>
<td class="content">可能な限り、virtio デバイスを使用することを<strong>強く推奨</strong>します。 virtio 汎用ディスクコントローラとエミュレートされた IDE コントローラを比較すると、<span class="monospaced">bonnie++(8)</span> で測定されたシーケンシャルな書き込みスループットが 2 倍になります。virtio ネットワークインターフェイスを使用すると、iperf<span class="monospaced">(1)</span> で計測したように、エミュレートされた Intel E1000 ネットワークカードのスループットの最大 3 倍を提供できます。<span class="footnote"><br>[KVM wiki<a href="https://www.linux-kvm.org/page/Using_VirtIO_NIC">https://www.linux-kvm.org/page/Using_VirtIO_NIC</a> のこのベンチマークを参照<a href="https://www.linux-kvm.org/page/Using_VirtIO_NIC">]。</a><br></span></td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_virtual_machines_settings">
仮想マシンの設定<a class="headerlink" href="#qm_virtual_machines_settings" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>一般的にProxmox VEは、仮想マシン(VM)に適切なデフォルトを選択しようとします。パフォーマンスを低下させたり、データを危険にさらす可能性があるため、変更する設定の意味を理解してください。</p></div>
<div class="sect2">
<h3 id="qm_general_settings">
<span>一般設定</span> <a class="headerlink" href="#qm_general_settings" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-general.png">
<img src="images/screenshot/gui-create-vm-general.png" alt="screenshot/gui-create-vm-general.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>VMの一般的な設定は次のとおりです。</p></div>
<div class="ulist"><ul>
<li>
<p>
the<strong>Node</strong>: VMが実行される物理サーバ。</p>
</li>
<li>
<p>
<strong>VM ID</strong>: VMを識別するためのProxmox VEインストール内で一意の番号です。</p>
</li>
<li>
<p>
<strong>Name</strong>：VMを説明するために使用できる自由形式のテキスト文字列</p>
</li>
<li>
<p>
<strong>リソースプール</strong>：VMの論理グループ</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="qm_os_settings">
<span>OS設定</span> <a class="headerlink" href="#qm_os_settings" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-os.png">
<img src="images/screenshot/gui-create-vm-os.png" alt="screenshot/gui-create-vm-os.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>仮想マシン(VM)を作成する際、適切なオペレーティングシステム(OS)を設定することで、Proxmox VEはいくつかの低レベルパラメータを最適化することができます。例えば、Windows OSはBIOSクロックがローカル時間を使用することを期待しますが、UnixベースのOSはBIOSクロックがUTC時間を使用することを期待します。</p></div>
</div>
<div class="sect2">
<h3 id="qm_system_settings">
<span>システム設定</span> <a class="headerlink" href="#qm_system_settings" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>VMの作成時に、新しいVMの基本的なシステムコンポーネントを変更できます。使用する<a href="qm.1.html#qm_display">ディスプレイ・タイプを</a>指定できます。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-system.png">
<img src="images/screenshot/gui-create-vm-system.png" alt="screenshot/gui-create-vm-system.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>また、<a href="qm.1.html#qm_hard_disk">SCSI コントローラを</a>変更することもできます。 QEMU ゲストエージェントをインストールする予定がある場合、または選択した ISO イメージがすでに出荷されており、自動的にインストールされる場合、<em>QEMU エージェントに</em>チェックを入れると、Proxmox VE が<em>QEMU エージェントの</em>機能を使用してより多くの情報を表示し、いくつかのアクション（シャットダウンやスナップショットなど）をよりインテリジェントに実行できるようになります。</p></div>
<div class="paragraph">
<p>Proxmox VEは、<a href="qm.1.html#qm_bios_and_uefi">SeaBIOSとOVMFという</a>異なるファームウェアとマシンタイプでVMをブートすることができます。ほとんどの場合、<a href="qm.1.html#qm_pci_passthrough">PCIe パススルーを</a>使用する場合のみ、デフォルトの SeaBIOS から OVMF に切り替えます。</p></div>
<div class="sect3">
<h4 id="qm_machine_type">マシンタイプ<a class="headerlink" href="#qm_machine_type" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>VM の<em>マシン・タイプは</em>、VM の仮想マザーボードのハードウェア・レイアウトを定義します。デフォルトの<a href="https://en.wikipedia.org/wiki/Intel_440FX">Intel 440FX</a>か、仮想 PCIe バスも提供する<a href="https://ark.intel.com/content/www/us/en/ark/products/31918/intel-82q35-graphics-and-memory-controller.html">Q35</a>チップセットのどちらかを選択できます。 さらに、<a href="qm.1.html#qm_pci_viommu">vIOMMU の</a>実装を選択することもできます。</p></div>
<div class="sect4">
<h5 id="_machine_version">マシンバージョン<a class="headerlink" href="#_machine_version" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>各マシンタイプはQEMUでバージョン管理されており、あるQEMUバイナリは多くのマシンバージョンをサポートしています。新しいバージョンでは、新機能のサポートや修正、全般的な改善が行われる可能性があります。しかし、仮想ハードウェアのプロパティも変更されます。ゲストの観点からの突然の変更を回避し、VM状態の互換性を確保するために、RAMを使用したライブマイグレーションとスナップショットは、新しいQEMUインスタンスで同じマシンバージョンを使用し続けます。</p></div>
<div class="paragraph">
<p>Windows ゲストの場合、Windows はコールドブート間であっても仮想ハードウェアの変更に敏感であるため、マシンバージョンは作成中に固定されます。例えば、ネットワークデバイスの列挙は、異なるマシンバージョンで異なる可能性があります。Linuxのような他のOSは、通常このような変更にうまく対応できます。この場合、デフォルトで<em>最新の</em>マシンバージョンが使用されます。 つまり、再スタート後、QEMU バイナリでサポートされる最新のマシンバージョンが使用されます（たとえば、QEMU 8.1 がサポートする最新のマシンバージョンは、マシンタイプごとにバージョン 8.1 です）。</p></div>
<div class="paragraph">
<p>マシンバージョンは、ハードウェアレイアウトを変更するような新機能や修正を実装する際のセーフガードとしても使用され、後方互換性を確保します。 ライブマイグレーションなどの実行中のVMに対する操作では、QEMU仮想化の観点からだけでなく、Proxmox VEがQEMU仮想マシンインスタンスをどのように作成するかという観点からも、VMを正確にリカバリできるように、実行中のマシンバージョンが保存されます。</p></div>
<div class="paragraph">
<div class="title">PVEマシンのリビジョン</div><p>Proxmox VEは、新しいQEMUリリースを待たずにハードウェアレイアウトの変更やオプションの変更を行う必要がある場合があります。このため、Proxmox VEは<span class="monospaced">+pveXという</span>形で追加のダウンストリームリビジョンを追加しています。 これらのリビジョンでは、<span class="monospaced">Xは</span>新しいQEMUマシンバージョンごとに0となり、この場合は省略されます。たとえば、マシンバージョン<span class="monospaced">pc-q35-9.</span>2はマシンバージョン<span class="monospaced">pc-q35-9.2+pve0と</span>同じになります。</p></div>
<div class="paragraph">
<p>Proxmox VEがハードウェアレイアウトやデフォルトオプションを変更する場合、リビジョンはインクリメントされ、新規作成されたゲストや、常に最新のマシンバージョンを使用するVMの再起動時に使用されます。</p></div>
</div>
<div class="sect4">
<h5 id="_qemu_machine_version_deprecation">QEMU マシンバージョンの非推奨<a class="headerlink" href="#_qemu_machine_version_deprecation" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>QEMU 10.1以降、マシンバージョンは6年後にアップストリームQEMUから削除されます。Proxmox VEでは、メジャーリリースは約2年ごとに行われるため、メジャーProxmox VEリリースでは、約2つ前のメジャーProxmox VEリリースのマシンバージョンがサポートされます。</p></div>
<div class="paragraph">
<p>新しいメジャーProxmox VEリリースにアップグレードする前に、次のメジャーProxmox VEリリースで削除されるすべてのマシンバージョンを避けるようにVM設定を更新する必要があります。これにより、そのリリース中もゲストを使用できるようになります。<a href="qm.1.html#qm_machine_update">新しいマシンバージョンへの更新</a>」セクションを参照してください。</p></div>
<div class="paragraph">
<p>Proxmox VE 8ではまだ削除ポリシーが有効になっていないため、サポートされるマシンバージョンのベースラインは2.4です。Proxmox VE 9用にリリースされる最後のQEMUバイナリ・バージョンはQEMU 11.2になる予定です。このQEMUバイナリでは6.0より古いマシンバージョンのサポートが削除されるため、Proxmox VE 9リリースのライフサイクルでは6.0がベースラインとなります。ベースラインは、Proxmox VEのメジャーリリースごとに2メジャーバージョンずつ増加する予定です（Proxmox VE 10の場合は8.0）。</p></div>
</div>
<div class="sect4">
<h5 id="qm_machine_update">新しいマシン バージョンへの更新<a class="headerlink" href="#qm_machine_update" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>非推奨の警告が表示された場合は、マシンのバージョンを新しいものに変更する必要があります。最初にバックアップを取り、ゲストがハードウェアを認識する方法の変更に備えるようにしてください。シナリオによっては、特定のドライバの再インストールが必要になるかもしれません。残念ながら、スナップショットのマシンバージョンを変更する方法はないので、スナップショットからデータを救い出すにはスナップショットをロードする必要があります。</p></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="qm_hard_disk">
<span>ハードディスク</span> <a class="headerlink" href="#qm_hard_disk" title="Permalink to this heading"></a></h3>
<div class="sect3">
<h4 id="qm_hard_disk_bus">バス/コントローラ<a class="headerlink" href="#qm_hard_disk_bus" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>QEMU は、複数のストレージコントローラをエミュレートできます：</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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" />
</td>
<td class="content"><strong>VirtIO SCSI</strong>または<strong>VirtIO Block</strong>コントローラを使用することを強くお勧めします。</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<strong>IDE</strong>コントローラは、1984 年の PC/AT ディスクコントローラに遡る設計です。このコントローラが最近の設計に取って代わられたとしても、思いつく限りのすべてのOSがこのコントローラをサポートしているため、2003年以前にリリースされたOSを実行したい場合には、このコントローラが最適です。このコントローラには最大4台のデバイスを接続できます。</p>
</li>
<li>
<p>
<strong>SATA</strong>(シリアルATA)コントローラは2003年のもので、より近代的な設計となっており、より高いスループットとより多くのデバイスを接続することができます。このコントローラには最大6台のデバイスを接続できます。</p>
</li>
<li>
<p>
1985年に設計された<strong>SCSI</strong>コントローラは、サーバグレードのハードウェアで一般的で、最大14台のストレージデバイスを接続できます。Proxmox VEはデフォルトでLSI 53C895Aコントローラをエミュレートします。</p>
<div class="paragraph">
<p>パフォーマンスを重視する場合は、<em>VirtIO SCSI シングル</em>タイプの SCSI コントローラと、接続ディスクの<a href="qm.1.html#qm_hard_disk_iothread">IO スレッド</a>設定を有効にすることをお勧めします。これは Proxmox VE 7.3 以降、新しく作成された Linux VM のデフォルトです。各ディスクは独自の<em>VirtIO SCSI</em>コントローラーを持ち、QEMU は専用スレッドでディスクの IO を処理します。Linuxディストリビューションは2012年から、FreeBSDは2014年からこのコントローラをサポートしています。Windows OSの場合は、インストール時にドライバを含む追加のISOを提供する必要があります。</p></div>
</li>
<li>
<p>
<strong>VirtIO</strong>または virtio-blk と呼ばれることが多い<strong>VirtIO Block</strong>コントローラは、古いタイプの準仮想化コントローラです。機能面では、VirtIO SCSI コントローラーに取って代わられました。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="qm_hard_disk_formats">イメージフォーマット<a class="headerlink" href="#qm_hard_disk_formats" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>各コントローラーには、設定されたストレージに存在するファイルまたはブロックデバイスによってバックアップされる、エミュレートされたハードディスクを接続します。ストレージタイプの選択により、ハードディスクイメージのフォーマットが決まります。ブロックデバイスを使用するストレージ (LVM、ZFS、Ceph) では<strong>raw ディスクイメージ形式が</strong>必要ですが、ファイルベースのストレージ (Ext4、XFS、NFS、CIFS など) では<strong>raw ディスクイメージ形式</strong>または<strong>QEMU イメージ形式の</strong>いずれかを選択できます。</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>QEMU イメージフォーマットは</strong>、スナップショットやディスクイメージのシンプロビジョニングを可能にするコピーオンライトフォーマットです。</p>
</li>
<li>
<p>
<strong>raw ディスクイメージは</strong>、ハードディスクのビット単位のイメージで、Linux のブロックデバイスで<span class="monospaced">dd</span>コマンドを実行したときに得られるものと似ています。このフォーマットは、それ自身ではシンプロビジョニングやスナップショットをサポートしません。しかし、<strong>QEMUイメージ形式よりも</strong>最大10%高速になる可能性があります。<span class="footnote"><br>[詳しくはこのベンチマークをご覧ください<a href="https://events.static.linuxfound.org/sites/events/files/slides/CloudOpen2013_Khoa_Huynh_v3.pdf">https://events.static.linuxfound.org/sites/events/files/slides/CloudOpen2013_Khoa_Huynh_v3.pdf]</a><br></span></p>
</li>
<li>
<p>
<strong>VMware イメージフォーマットが</strong>意味を持つのは、ディスクイメージを他のハイパーバイ ザにインポート／エクスポートする場合だけです。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="qm_hard_disk_cache">キャッシュモード<a class="headerlink" href="#qm_hard_disk_cache" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ハードドライブの<strong>キャッシュ</strong>モードを設定すると、ホストシステムがゲストシステムにブロック書き込み完了を通知する方法に影響します。デフォルトの<strong>No cache</strong>は、各ブロックが物理ストレージの書き込みキューに到達したときにゲストシステムに書き込み完了が通知され、ホストのページキャッシュは無視されることを意味します。 これは安全性と速度の良いバランスを提供します。</p></div>
<div class="paragraph">
<p>Proxmox VEバックアップマネージャがVMのバックアップを実行するときにディスクをスキップしたい場合は、そのディスクに<strong>No backup</strong>オプションを設定します。</p></div>
<div class="paragraph">
<p>Proxmox VE ストレージレプリケーションメカニズムがレプリケーションジョブを開始するときにディスクをスキップする場合は、そのディスクに<strong>レプリケーションをスキップする</strong>オプションを設定できます。 Proxmox VE 5.0 では、レプリケーションにはディスクイメージが<span class="monospaced">zfspool</span> タイプのストレージ上にある必要があるため、VM にレプリケーションが設定されているときにディスクイメージを他のストレージに追加すると、このディスクイメージのレプリケーションをスキップする必要があります。</p></div>
</div>
<div class="sect3">
<h4 id="qm_hard_disk_discard">トリム／破棄<a class="headerlink" href="#qm_hard_disk_discard" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ストレージが<em>シンプロビジョニングを</em>サポートしている場合(Proxmox VEガイドのストレージの章を参照)、ドライブの<strong>Discard</strong>オプションを有効にすることができます。<strong>Discard が</strong>設定され、<em>TRIM が有効な</em>ゲスト OS<span class="footnote"><br>[TRIM、UNMAP、および discard<a href="https://en.wikipedia.org/wiki/Trim_%28computing%29">https://en.wikipedia.org/wiki/Trim_%28computing%29]</a><br></span> では、VM のファイルシステムがファイルを削除した後にブロックを未使用とマークすると、コントローラはこの情報をストレージにリレーし、ストレージはそれに応じてディスクイメージを縮小します。 ゲストが<em>TRIM</em>コマンドを発行できるようにするには、ドライブで<strong>Discard</strong>オプションを有効にする必要があります。ゲストオペレーティングシステムによっては、<strong>SSD Emulation</strong>フラグを設定する必要もあります。<strong>VirtIO Block</strong>ドライブの<strong>破棄は</strong>、Linux Kernel 5.0 以降を使用するゲストでのみサポー トされていることに注意してください。</p></div>
<div class="paragraph">
<p>ドライブを回転ハードディスクではなくソリッドステートドライブとしてゲストに表示したい場合は、そのドライブに<strong>SSD エミュレーション</strong>オプションを設定できます。基礎となるストレージが実際に SSD でバックアップされている必要はなく、この機能はあらゆるタイプの物理メディアで使用できます。<strong>SSD エミュレーションは</strong> <strong>VirtIO Block</strong>ドライブではサポートされていないことに注意してください。</p></div>
</div>
<div class="sect3">
<h4 id="qm_hard_disk_iothread">IO スレッド<a class="headerlink" href="#qm_hard_disk_iothread" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p><strong>IO Thread</strong>オプションは、<strong>VirtIO</strong>コントローラでディスクを使用する場合、またはエミュレートされるコントローラのタイプが<strong>VirtIO SCSI シングルの</strong>場合に<strong>SCSI</strong>コントローラでディスクを使用する場合にのみ使用できます。<strong>IO Thread</strong>を有効にすると、QEMU は、メイン イベント ループまたは vCPU スレッドですべての I/O を処理するのではなく、ストレージ コントローラごとに 1 つの I/O スレッドを作成します。利点の 1 つは、基礎となるストレージの作業分散と利用が向上することです。もう 1 つの利点は、メイン スレッドも vCPU スレッドもディスク I/O によってブロックされることがないため、非常に I/O 負荷の高いホスト ワークロードのゲストでの待ち時間 (ハング) が短縮されることです。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="qm_cpu">
<span>CPU</span> <a class="headerlink" href="#qm_cpu" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-cpu.png">
<img src="images/screenshot/gui-create-vm-cpu.png" alt="screenshot/gui-create-vm-cpu.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p><strong>CPU ソケットとは</strong>、PC マザーボード上の物理的なスロットで、CPU を差し込むことができます。 この CPU には、独立した処理ユニットである<strong>コアを</strong> 1 つまたは複数含めることができます。CPU ソケットが 1 つで 4 コアであろうと、CPU ソケットが 2 つで 2 コアであろうと、性能の観点からはほとんど関係ありません。 しかし、ソフトウェアのライセンスによっては、マシンのソケット数に依存するものがあります。</p></div>
<div class="paragraph">
<p>仮想 CPU（コアとソケット）の数を増やすと、通常はパフォーマンスが向上しますが、これは VM の用途に大きく依存します。 仮想 CPU を追加するたびに、QEMU はホスト・システム上に新しい実行スレッドを作成するためです。VM のワークロードについて確信が持てない場合は、通常、<strong>総コア</strong>数を 2 に設定するのが安全です。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">全てのVMの<em>全体の</em>コア数がサーバのコア数より大きければ、全く問題ありません（例えば、8コアしかないマシンに4コアずつ4つのVM（=合計16）がある場合）。この場合、ホスト・システムは、標準的なマルチスレッド・アプリケーションを実行する場合と同様に、QEMU の実行スレッドをサーバー・コア間でバランスさせます。ただし、Proxmox VE では、物理的に利用可能なコア数よりも多くの仮想 CPU コアで VM を起動することはできません。</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="qm_cpu_resource_limits">リソース制限<a class="headerlink" href="#qm_cpu_resource_limits" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p><strong>cpulimit</strong></p></div>
<div class="paragraph">
<p>仮想コア数に加えて、VMで使用可能な「ホストCPU時間」の合計も<strong>cpulimit</strong>オプションで設定できます。これはCPU時間をパーセントで表した浮動小数点値で、<span class="monospaced">1.0は</span> <span class="monospaced">100</span>%、<span class="monospaced">2.</span>5は<span class="monospaced">250%などに</span>相当します。1つのプロセスが1つのコアを完全に使用する場合、CPU時間の使用率は<span class="monospaced">100%に</span>なります。4つのコアを持つVMがすべてのコアをフルに使用した場合、理論的には<span class="monospaced">400%の</span>使用率になります。QEMU は vCPU コア以外に VM 周辺機器用のスレッドを追加できるため、実際の使用率はさらに高くなる可能性があります。</p></div>
<div class="paragraph">
<p>この設定は、VMがいくつかのプロセスを並行して実行するために複数のvCPUを持つ必要があるが、VM全体としてはすべてのvCPUを同時に100%で実行することはできない場合に役立ちます。</p></div>
<div class="paragraph">
<p>例えば、8つの仮想CPUを持つことで恩恵を受けられる仮想マシンがあるとして、そのVMが全負荷時に8つのコアを最大に使用できるようにしたくないとします。これを解決するには、<strong>cpulimitを</strong> <span class="monospaced">4.0</span>（=400%）に設定します。これは、VMが8つのプロセスを同時に実行して8つすべての仮想CPUを完全に利用する場合、各vCPUは物理コアから最大50%のCPU時間を受け取ることを意味します。ただし、VMのワークロードが4つの仮想CPUしか完全に使用しない場合でも、物理コアから最大100%のCPU時間を受け取ることができ、合計で400%になります。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">VMは、その構成によっては、ネットワーキングやIOオペレーション、ライブマイグレーションなどの追加スレッドを使用することができます。そのため、VMは仮想CPUが使用する以上のCPU時間を使用することがあります。VMが割り当てられたvCPUよりも多くのCPU時間を使用しないようにするには、<strong>cpulimitを</strong>総コア数と同じ値に設定します。</td>
</tr></table>
</div>
<div class="paragraph">
<p><strong>cpuunits</strong></p></div>
<div class="paragraph">
<p><strong>cpuunits</strong>オプション（現在ではCPUシェアまたはCPUウェイトと呼ばれることが多い）を使用すると、VMが他の実行中のVMと比較して取得するCPU時間を制御できます。これは相対的な重みで、デフォルトは<span class="monospaced">100</span>（またはホストがレガシーcgroup v1を使用している場合は<span class="monospaced">1024</span>）です。VMのウェイトを増やすと、他のウェイトの低いVMと比較してスケジューラによって優先されます。</p></div>
<div class="paragraph">
<p>例えば、VM 100 がデフォルトの<span class="monospaced">100</span>に設定され、VM 200 が<span class="monospaced">200</span> に変更された場合、後者の VM 200 は最初の VM 100 の 2 倍の CPU バンド幅を受け取ることになります。</p></div>
<div class="paragraph">
<p>ここでは<span class="monospaced">CPUQuota</span>が<span class="monospaced">cpulimit</span>に、<span class="monospaced">CPUWeight</span>が<span class="monospaced">cpuunits</span>設定に対応しています。リファレンスや実装の詳細については、Notes セクションを参照してください。</p></div>
<div class="paragraph">
<p><strong>アフィニティ</strong></p></div>
<div class="paragraph">
<p><strong>affinity</strong>オプションを使用すると、VMのvCPUの実行に使用する物理CPUコアを指定できます。I/OなどのペリフェラルVMプロセスは、この設定の影響を受けません。<strong>CPUアフィニティはセキュリティ機能ではない</strong>ことに注意してください。</p></div>
<div class="paragraph">
<p>CPU<strong>アフィニティを</strong>強制することは、特定のケースでは意味がありますが、複雑さとメンテナンスの手間の増加を伴います。たとえば、後からVMを追加したり、VMをCPUコアの少ないノードに移行したりする場合です。また、一部のCPUがフルに使用され、他のCPUがほとんどアイドル状態になっている場合、非同期でシステムのパフォーマンスが制限される可能性があります。</p></div>
<div class="paragraph">
<p><strong>アフィニティは</strong> <span class="monospaced">タスクセット</span>CLIツールで設定します。これは<span class="monospaced">man cpuset</span> の<span class="monospaced">List Format</span>にあるホスト CPU 番号 (<span class="monospaced">lscpu</span> を参照) を受け付けます。このASCII 10進数リストには、数字だけでなく、数字の範囲も含めることができます。例えば、<strong>アフィニティ</strong><span class="monospaced">0-1,8-11</span>（拡張<span class="monospaced">0,1,8,9,10,11</span>）を指定すると、VMはこれら6つの特定のホストコアのみで実行できるようになります。</p></div>
</div>
<div class="sect3">
<h4 id="_cpu_type">CPU タイプ<a class="headerlink" href="#_cpu_type" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>QEMU は、486 から最新の Xeon プロセッサまで、さまざまな<strong>種類の CPU</strong>をエミュレートできます。プロセッサの世代が新しくなるごとに、ハードウェア支援3Dレンダリング、乱数生成、メモリ保護などの新機能が追加されます。また、現在の世代は、バグやセキュリティの修正を伴うマイクロコードアップデートによってアップグレードすることができます。</p></div>
<div class="paragraph">
<p>通常、ホスト・システムのCPUに近いプロセッサ・タイプをVM用に選択する必要があります。これは、ホストCPUの機能（<em>CPUフラグとも</em>呼ばれます）がVMで利用可能になることを意味します。完全に一致させたい場合は、CPUタイプを<strong>ホストに</strong>設定すれば、VMはホスト・システムと全く同じCPUフラグを持つことになります。</p></div>
<div class="paragraph">
<p>しかし、これには欠点があります。異なるホスト間でVMのライブマイグレーションを行う場合、VMは異なるCPUタイプや異なるマイクロコードバージョンの新しいシステム上に置かれることになるかもしれません。 ゲストに渡されたCPUフラグが欠落している場合、QEMUプロセスは停止します。これを解決するために、QEMUには独自の仮想CPUタイプがあり、Proxmox VEはデフォルトでこれを使用します。</p></div>
<div class="paragraph">
<p>バックエンドのデフォルトは<em>kvm64で</em>、基本的にすべてのx86_64ホストCPUで動作します。新しいVMを作成するときのUIのデフォルトは<em>x86-64-v2-AESで</em>、Intelの場合はWestmereから始まるホストCPU、AMDの場合は少なくとも第4世代のOpteronが必要です。</p></div>
<div class="paragraph">
<p>要するに：</p></div>
<div class="paragraph">
<p>ライブマイグレーションを気にしない場合や、すべてのノードが同じCPUと同じマイクロコードバージョンを持つ均質なクラスタを使用している場合は、CPUタイプをホストに設定してください。</p></div>
<div class="paragraph">
<p>ライブマイグレーションとセキュリティを重視し、Intel CPUのみ、またはAMD CPUのみを使用している場合は、クラスタの最低世代のCPUモデルを選択します。</p></div>
<div class="paragraph">
<p>セキュリティなしのライブマイグレーションを重視する場合、またはIntel/AMD混在のクラスタを使用する場合は、互換性の最も低い仮想QEMU CPUタイプを選択します。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">IntelとAMDのホストCPU間のライブマイグレーションは、動作保証がありません。</td>
</tr></table>
</div>
<div class="paragraph">
<p>QEMUで定義されているAMDとIntelのCPUタイプの一覧」も参照してください。</p></div>
</div>
<div class="sect3">
<h4 id="_qemu_cpu_types">QEMU CPU タイプ<a class="headerlink" href="#_qemu_cpu_types" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>QEMUは、IntelとAMDの両方のホストCPUと互換性のある仮想CPUタイプも提供します。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">仮想 CPU タイプの Spectre 脆弱性を緩和するには、関連する CPU<a href="qm.1.html#qm_meltdown_spectre">フラグを</a>追加する必要があります。</td>
</tr></table>
</div>
<div class="paragraph">
<p>歴史的に、Proxmox VEには<em>kvm64</em>CPUモデルがあり、Pentium 4レベルのCPUフラグが有効になっていたため、特定のワークロードではパフォーマンスが良くありませんでした。</p></div>
<div class="paragraph">
<p>2020年夏、AMD、Intel、Red Hat、およびSUSEは共同で、x86-64ベースラインの上に3つのx86-64マイクロアーキテクチャレベルを定義し、最新のフラグを有効にしました。詳細については、<a href="https://gitlab.com/x86-psABIs/x86-64-ABI">x86-64-ABI 仕様を</a>参照してください。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">CentOS 9のような新しいディストリビューションは、<em>x86-64-v2</em>フラグを最低要件としてビルドされています。</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>kvm64 (x86-64-v1)：</em>Intel CPU &gt;= Pentium 4、AMD CPU &gt;= Phenom と互換性があります。</p>
</li>
<li>
<p>
<em>x86-64-v2</em>：Intel CPU &gt;= Nehalem, AMD CPU &gt;= Opteron_G3 に対応。<em>x86-64-v1</em> と比較して CPU フラグを追加:<em>+cx16</em>,<em>+lahf-lm</em>,<em>+popcnt</em>,<em>+pni</em>,<em>+sse4.1</em>,<em>+sse4.2</em>,<em>+ssse3</em>.</p>
</li>
<li>
<p>
<em>x86-64-v2-AES</em>：Intel CPU &gt;= Westmere, AMD CPU &gt;= Opteron_G4 に対応。<em>x86-64-v2</em> と比較して CPU フラグを追加：<em>+aes</em>。</p>
</li>
<li>
<p>
<em>x86-64-v3</em>: Intel CPU &gt;= Haswell, AMD CPU &gt;= EPYC に対応。<em>x86-64-v2-AESと</em>比較してCPUフラグを追加：<em>+avx</em>、<em>+avx2</em> <em>、+bmi1</em> <em>、+bmi2</em><em>、+f16c</em>、<em>+fma</em>、<em>+movbe</em>、<em>+xsave</em>。</p>
</li>
<li>
<p>
<em>x86-64-v4：Intel</em> CPU &gt;= Skylake、AMD CPU &gt;= EPYC v4 Genoaに対応。<em>x86-64-v</em>3と比較してCPUフラグを追加<em>：+avx512f</em>、<em>+avx512bw</em>、<em>+avx512cd</em>、<em>+avx512dq</em>、<em>+avx512vl</em>。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_custom_cpu_types">カスタムCPUタイプ<a class="headerlink" href="#_custom_cpu_types" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>設定可能な機能セットを持つカスタム CPU タイプを指定できます。これらは、管理者が設定ファイル<span class="monospaced">/etc/pve/virtual-guest/cpu-models.conf</span>で管理します。フォーマットの詳細については、<span class="monospaced">man cpu-models.conf</span>を参照してください。</p></div>
<div class="paragraph">
<p>指定されたカスタム タイプは、<span class="monospaced">/nodes</span> 上で<span class="monospaced">Sys.Audit</span>権限を持つユーザが選択できます。CLIまたはAPIを介してVMにカスタムCPUタイプを設定する場合、名前の前に<em>custom-を</em>付ける必要があります。</p></div>
</div>
<div class="sect3">
<h4 id="qm_meltdown_spectre">Meltdown / Spectre 関連の CPU フラグ<a class="headerlink" href="#qm_meltdown_spectre" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>MeltdownおよびSpectre脆弱性<span class="footnote"><br>[Meltdown Attack<a href="https://meltdownattack.com/">https://meltdownattack.com/]</a><br></span>に関連するCPUフラグがいくつかありますが、選択したVMのCPUタイプがデフォルトですでに有効になっている場合を除き、手動で設定する必要があります。</p></div>
<div class="paragraph">
<p>これらのCPUフラグを使用するには、2つの要件を満たす必要があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
ホスト CPU がこの機能をサポートし、ゲストの仮想 CPU にこの機能を反映させる必要があります。</p>
</li>
<li>
<p>
ゲストオペレーティングシステムは、攻撃を緩和し、CPU 機能を利用できるバージョンに更新されている必要があります。</p>
</li>
</ul></div>
<div class="paragraph">
<p>WebUIでCPUオプションを編集するか、VM設定ファイルの<em>cpu</em>オプションの<em>flags</em>プロパティを設定して、仮想CPUの希望するCPUフラグを設定する必要があります。</p></div>
<div class="paragraph">
<p>Spectre v1,v2,v4の修正については、CPUまたはシステムベンダーがCPU用のいわゆる「マイクロコードアップデート」を提供する必要もあります。影響を受けるすべてのCPUがspec-ctrlをサポートするようにアップデートできるわけではないことに注意してください。</p></div>
<div class="paragraph">
<p>Proxmox VE ホストが脆弱かどうかを確認するには、root で次のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>for f in /sys/devices/system/cpu/vulnerabilities/*; do echo "${f##*/} -" $(cat "$f##*/}")-" $(cat "$f"); done</pre>
</div></div>
<div class="paragraph">
<p><span class="footnote"><br>[spectre-meltdown-checker<a href="https://meltdown.ovh/">https://meltdown.ovh/]</a></span>ホストがまだ脆弱かどうかを検出するコミュニティスクリプトも利用できます。<span class="footnote"><br></span></p></div>
</div>
<div class="sect3">
<h4 id="_intel_processors">インテルプロセッサ<a class="headerlink" href="#_intel_processors" title="Permalink to this heading"></a></h4>
<div class="ulist"><ul>
<li>
<p>
<em>pcid</em></p>
<div class="paragraph">
<p>これにより、<em>KPTI（Kernel Page-Table Isolation</em>）と呼ばれるMeltdown（CVE-2017-5754）緩和策のパフォーマンスへの影響が軽減され、ユーザー空間からカーネルメモリを効果的に隠すことができます。PCIDなしでは、KPTIはかなり高価なメカニズムです<span class="footnote"><br>[PCID is now a critical performance/security feature on x86<a href="https://groups.google.com/forum/m/#!topic/mechanical-sympathy/L9mHTbeQLNU">https://groups.google.com/forum/m/#!topic/mechanical-sympathy/L9mHTbeQLNU</a>]<br></span> 。</p></div>
<div class="paragraph">
<p>Proxmox VEホストがPCIDをサポートしているかどうかを確認するには、rootで次のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># grep ' pcid ' /proc/cpuinfo</pre>
</div></div>
<div class="paragraph">
<p>これがエラーを返さない場合は、ホストのCPUが<em>pcidを</em>サポートしています。</p></div>
</li>
<li>
<p>
<em>spec-ctrl</em></p>
<div class="paragraph">
<p>Spectre v1 (CVE-2017-5753) および Spectre v2 (CVE-2017-5715) の修正を有効にするには、retpolines が十分でない場合に必要です。 Intel CPU モデルで -IBRS サフィックスがデフォルトで含まれています。 Intel CPU モデルで -IBRS サフィックスがない場合は、明示的にオンにする必要があります。 更新されたホスト CPU マイクロコード (intel-microcode &gt;= 20180425) が必要です。</p></div>
</li>
<li>
<p>
<em>ssbd</em></p>
<div class="paragraph">
<p>Spectre V4 (CVE-2018-3639) 修正を有効にするために必要です。すべてのインテル CPU モデルで明示的にオンにする必要があります。 更新されたホスト CPU マイクロコード (intel-microcode &gt;= 20180703) が必要です。</p></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_amd_processors">AMDプロセッサ<a class="headerlink" href="#_amd_processors" title="Permalink to this heading"></a></h4>
<div class="ulist"><ul>
<li>
<p>
<em>ibpb</em></p>
<div class="paragraph">
<p>Spectre v1 (CVE-2017-5753) および Spectre v2 (CVE-2017-5715) の修正を有効にするには、retpolines が十分でない場合に必要です。 サフィックスが -IBPB の AMD CPU モデルにデフォルトで含まれています。 サフィックスが -IBPB でない AMD CPU モデルでは、明示的にオンにする必要があります。 ゲスト CPU で使用する前に、ホスト CPU のマイクロコードがこの機能をサポートしている必要があります。</p></div>
</li>
<li>
<p>
<em>virt-ssbd</em></p>
<div class="paragraph">
<p>Spectre v4 (CVE-2018-3639) 修正を有効にするために必要です。 どの AMD CPU モデルにもデフォルトでは含まれていません。 すべての AMD CPU モデルで明示的にオンにする必要があります。 ゲストの互換性を最大化するために、amd-ssbd も提供されている場合でも、これはゲストに提供する必要があります。 これは物理 CPU には存在しない仮想機能であるため、「ホスト」CPU モデルを使用する場合は明示的に有効にする必要があることに注意してください。</p></div>
</li>
<li>
<p>
<em>amd-ssbd</em></p>
<div class="paragraph">
<p>Spectre v4 (CVE-2018-3639) 修正を有効にするために必要です。 どの AMD CPU モデルにもデフォルトでは含まれていません。すべての AMD CPU モデルで明示的にオンにする必要があります。 これは virt-ssbd よりも高いパフォーマンスを提供するため、これをサポートするホストは、可能であれば常にこれをゲストに公開する必要があります。</p></div>
</li>
<li>
<p>
<em>amd-no-ssb</em></p>
<div class="paragraph">
<p>ホストが Spectre V4 (CVE-2018-3639) に対して脆弱ではないことを示すために推奨されます。 どの AMD CPU モデルにもデフォルトで含まれていません。 将来のハードウェア世代の CPU は CVE-2018-3639 に対して脆弱ではないため、amd-no-ssb を公開することで、その緩和策を有効にしないようにゲストに伝える必要があります。 これは、virt-ssbd および amd-ssbd と相互に排他的です。</p></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_numa">NUMA<a class="headerlink" href="#_numa" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>オプションとして、VMで<strong>NUMA</strong><span class="footnote"><br><a href="https://en.wikipedia.org/wiki/Non-uniform_memory_access">[https://en.wikipedia.org/wiki/Non-uniform_memory_access]</a><br></span>アーキテクチャをエミュレートすることもできます。NUMAアーキテクチャの基本は、すべてのコアで利用可能なグローバル・メモリ・プールを持つ代わりに、メモリを各ソケットに近いローカル・バンクに分散させることを意味します。 これにより、メモリ・バスがボトルネックでなくなるため、速度が向上します。システムがNUMAアーキテクチャを採用している場合<span class="footnote"><br>[<span class="monospaced">numactl --hardware | grep available</span>コマンドが複数のノードを返す場合は、ホストシステムがNUMAアーキテクチャを採用しています]<br></span>ホストシステム上でVMリソースを適切に分配できるようになるため、このオプションを有効にすることをお勧めします。 このオプションは、VMのコアやRAMをホットプラグする場合にも必要です。</p></div>
<div class="paragraph">
<p>NUMAオプションを使用する場合は、ソケット数をホストシステムのノード数に設定することをお勧めします。</p></div>
</div>
<div class="sect3">
<h4 id="_vcpu_hot_plug">vCPU ホットプラグ<a class="headerlink" href="#_vcpu_hot_plug" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>最近のオペレーティング・システムでは、実行中のシステムでCPUをホットプラグしたり、ある程度ホットアンプラグしたりする機能が導入されています。仮想化により、このようなシナリオで実際のハードウェアが引き起こす（物理的な）問題の多くを回避することができます。 しかし、これはかなり新しく複雑な機能であるため、その使用は絶対に必要な場合に限られるべきです。ほとんどの機能は、よくテストされ、複雑でない他の機能で再現できます。</p></div>
<div class="paragraph">
<p>Proxmox VEでは、プラグインされるCPUの最大数は常に<span class="monospaced">コア数*ソケット</span>数です。 このCPUの合計コア数より少ないコア数でVMを起動するには、<strong>vcpus</strong>設定を使用することができ、これはVM起動時にプラグインされるvCPU数を示します。</p></div>
<div class="paragraph">
<p>現在、この機能はLinuxでのみサポートされており、3.10より新しいカーネルが必要です。</p></div>
<div class="paragraph">
<p>以下のように udev ルールを使って、新しい CPU をゲストのオンラインとして自動的に設定することができます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>SUBSYSTEM=="cpu", ACTION=="add", TEST=="online", ATTR{online}=="0", ATTR{online}="1"。</pre>
</div></div>
<div class="paragraph">
<p>これを /etc/udev/rules.d/ の下に<span class="monospaced">.rules</span> で終わるファイルとして保存します。</p></div>
<div class="paragraph">
<p>注記: CPU ホットリムーブはマシンに依存し、ゲストの協力が必要です。  x86/amd64 の ACPI のようなターゲットに依存するメカニズムを使用してゲスト OS に転送されるリクエストです。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="qm_memory">
<span>メモリ</span> <a class="headerlink" href="#qm_memory" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>各VMに対して、固定サイズのメモリを設定するか、ホストの現在のRAM使用量に基づいて動的にメモリを割り当てるようにProxmox VEに依頼するオプションがあります。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-memory.png">
<img src="images/screenshot/gui-create-vm-memory.png" alt="screenshot/gui-create-vm-memory.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<div class="title">固定メモリ割り当て</div><p>メモリと最小メモリを同じ量に設定した場合、Proxmox VEは単純に指定した量をVMに割り当てます。</p></div>
<div class="paragraph">
<p>固定メモリ・サイズを使用する場合でも、バルーン・デバイスはVMに追加されます。 これは、ゲストが実際に使用するメモリ量などの有用な情報を提供するためです。 一般的に、<strong>バルーン・デバイスは</strong>有効なままにしておく必要がありますが、(デバッグ目的などで)無効にしたい場合は、単に<strong>バルーン・デバイスの</strong>チェックを外すか、コンフィギュレーションで</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>バルーン: 0</pre>
</div></div>
<div class="paragraph">
<p>を設定します。</p></div>
<div class="paragraph" id="qm_ballooning">
<div class="title">自動メモリ割り当て</div><p>最小メモリをメモリより低く設定すると、Proxmox VEは指定した最小量が常にVMで利用可能であることを確認し、ホスト上のRAM使用率が特定のターゲットパーセンテージを下回る場合、指定した最大メモリまで動的にゲストにメモリを追加します。目標パーセンテージのデフォルトは 80% で、ノードオプションで設定できます。</p></div>
<div class="paragraph">
<p>ホストの RAM が不足すると、VM はホストにメモリを解放し、必要に応じて実行中のプロセスをスワップし、最後の手段として oom killer を起動します。ホストとゲスト間のメモリの受け渡しは、ゲスト内部で動作する特別な<span class="monospaced">balloon</span>カーネルドライバを介して行われ、ホストからメモリページを取得したり解放したりします。<span class="footnote"><br>[balloon ドライバの内部構造に関する詳しい説明は、こちら<a href="https://rwmj.wordpress.com/2010/07/17/virtio-balloon/">https://rwmj.wordpress.com/2010/07/17/virtio-balloon/]</a> を参照してください</span>。<span class="footnote"><br></span></p></div>
<div class="paragraph">
<p>複数の VM が autoallocate 機能を使用する場合、各 VM が取るべき空きホストメモリの相対量を示す<strong>Shares</strong>係数を設定することが可能です。例えば、4つのVMがあり、そのうち3つがHTTPサーバ、最後の1つがデータベースサーバであるとします。 ホストは80%のRAM使用率を目標に設定されています。より多くのデータベース・ブロックをデータベース・サーバのRAMにキャッシュするために、予備のRAMが利用可能な場合はデータベースVMを優先するようにします。このため、データベースVMに3000のSharesプロパティを割り当て、他のVMはデフォルト設定の1000にします。ホスト・サーバには 32GB の RAM があり、現在 16GB を使用しているため、32 * 80/100 - 16 = 9GB の RAM が、設定された最小メモリ量に加えて VM に割り当てられます。データベースVMには9 * 3000 / (3000 + 1000 + 1000 + 1000) = 4.5GB、各HTTPサーバーには1.5GBのRAMが追加されます。</p></div>
<div class="paragraph">
<p>2010 年以降にリリースされたすべての Linux ディストリビューションには、バルーン カーネル ドライバが含まれています。Windows OS の場合、バルーン・ドライバは手動で追加する必要があり、ゲストの速度を低下させる可能性があるため、重要なシステムでの使用はお勧めしません。</p></div>
<div class="paragraph">
<p>VMにRAMを割り当てる際は、常にホストが使用可能なRAMを1GB残しておくのが良い経験則です。</p></div>
</div>
<div class="sect2">
<h3 id="qm_memory_encryption">
<span>メモリ暗号化</span> <a class="headerlink" href="#qm_memory_encryption" title="Permalink to this heading"></a></h3>
<div class="sect3">
<h4 id="qm_memory_encryption_sev">AMD SEV<a class="headerlink" href="#qm_memory_encryption_sev" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>SEV (Secure Encrypted Virtualization) は、AES-128 暗号化と AMD Secure Processor を使用して、VM 毎のメモリ暗号化を可能にします。</p></div>
<div class="paragraph">
<p>さらに、SEV-ES（Secure Encrypted Virtualization - Encrypted State）では、ハイパーバイザーへの情報漏洩を防ぐため、すべてのCPUレジスタの内容を暗号化します。</p></div>
<div class="paragraph">
<p>また、SEV-SNP（Secure Encrypted Virtualization - Secure Nested Paging）は、ソフトウェアベースの整合性攻撃を防止します。詳細については、<a href="https://www.amd.com/content/dam/amd/en/documents/epyc-business-docs/white-papers/SEV-SNP-strengthening-vm-isolation-with-integrity-protection-and-more.pdf">AMD SEV SNPホワイトペーパーを</a>参照してください。</p></div>
<div class="paragraph">
<p><strong>ホストの要件</strong></p></div>
<div class="ulist"><ul>
<li>
<p>
AMD EPYC CPU</p>
</li>
<li>
<p>
SEV-ESはAMD EPYC 7002シリーズ以降のEPYC CPUでのみサポートされます。</p>
</li>
<li>
<p>
SEV-SNPはAMD EPYC 7003シリーズおよびそれ以降のEPYC CPUでのみサポートされます。</p>
</li>
<li>
<p>
SEV-SNPにはホスト・カーネル・バージョン6.11以降が必要です。</p>
</li>
<li>
<p>
ホストマシンのBIOS設定でAMDメモリ暗号化を設定します。</p>
</li>
<li>
<p>
デフォルトで有効になっていない場合は、カーネルパラメータに "kvm_amd.sev=1 "を追加します。</p>
</li>
<li>
<p>
ホスト(SME)上のメモリを暗号化したい場合は、カーネルパラメータに "mem_encrypt=on "を追加<a href="https://www.kernel.org/doc/Documentation/x86/amd-memory-encryption.txt">https://www.kernel.org/doc/Documentation/x86/amd-memory-encryption.txt</a>を参照。</p>
</li>
<li>
<p>
SWIOTLB を増やす<a href="https://github.com/AMDESE/AMDSEV#faq-4">https://github.com/AMDESE/AMDSEV#faq-4</a>を参照。</p>
</li>
</ul></div>
<div class="paragraph">
<p>ホスト上でSEVが有効になっているかどうかを確認するには、dmesgで<span class="monospaced">sevを</span>検索し、kvm_amdのSEVカーネル・パラメーターを出力します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># dmesg | grep -i sev [...] ccp 0000:45:00.1: sev enabled [...] ccp 0000:45:00.1: SEV API: &lt;buildversion&gt; [...] SEV supported: &lt;number&gt; ASIDs [...] SEV-ES supported: &lt;number&gt; ASIDs # cat /sys/module/kvm_amd/parameters/sev Y</pre>
</div></div>
<div class="paragraph">
<p><strong>ゲストの要件</strong></p></div>
<div class="ulist"><ul>
<li>
<p>
edk2-OVMF</p>
</li>
<li>
<p>
Q35 を使うことを推奨します。</p>
</li>
<li>
<p>
ゲストオペレーティングシステムが SEV をサポートしている必要があります。</p>
</li>
</ul></div>
<div class="paragraph">
<p><strong>制限事項</strong></p></div>
<div class="ulist"><ul>
<li>
<p>
メモリが暗号化されているため、ホスト上のメモリ使用量は常に間違っています。</p>
</li>
<li>
<p>
スナップショットやライブマイグレーションのようなメモリの保存や復元を伴う操作はまだ動作しません。</p>
</li>
<li>
<p>
PCI パススルーはサポートされていません。</p>
</li>
<li>
<p>
SEV-ES と SEV-SNP は非常に実験的です。</p>
</li>
<li>
<p>
EFI ディスクは SEV-SNP ではサポートされていません。</p>
</li>
<li>
<p>
SEV-SNP では、VM 内部の<span class="monospaced">reboot</span>コマンドは単に VM をシャットダウンします。</p>
</li>
</ul></div>
<div class="paragraph">
<p><strong>構成例（SEV）：</strong></p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -amd-sev type=std,no-debug=1,no-key-sharing=1,kernel-hashes=1。</pre>
</div></div>
<div class="paragraph">
<p><strong>typeは</strong>暗号化技術を定義します（"type="は不要）。 利用可能なオプションはstd、es、snpです。</p></div>
<div class="paragraph">
<p>QEMU<strong>ポリシー</strong>パラメータは、<strong>no-debug</strong>パラメータと<strong>no-key-sharing</strong>パラメータで計算されます。これらのパラメータはポリシービット0と1に対応します。<strong>typeが</strong> <strong>esの</strong>場合、ポリシービット2は1に設定され、SEV-ESが有効になります。 ポリシービット3（nosend）はマイグレーション攻撃を防ぐために常に1に設定されます。ポリシーの計算方法の詳細については、<a href="https://www.amd.com/system/files/TechDocs/55766_SEV-KM_API_Specification.pdf">AMD SEV API仕様書第3章を</a>参照してください。</p></div>
<div class="paragraph">
<p><strong>kernel-hashes</strong>オプションは、古い OVMF イメージやカーネル/initrd を測定しないゲストとの後方互換性のため、デフォルトではオフになっています。<a href="https://lists.gnu.org/archive/html/qemu-devel/2021-11/msg02598.html">https://lists.gnu.org/archive/html/qemu-devel/2021-11/msg02598.html を参照してください</a>。</p></div>
<div class="paragraph">
<p><strong>SEVがVMで動作しているかどうかの確認</strong></p></div>
<div class="paragraph">
<p>方法1 - dmesg：</p></div>
<div class="paragraph">
<p>出力は以下のようになるはずです。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># dmesg | grep -i sev AMD Memory Encryption Features active：SEV</pre>
</div></div>
<div class="paragraph">
<p>方法 2 - MSR 0xc0010131 (MSR_AMD64_SEV)：</p></div>
<div class="paragraph">
<p>出力は 1 になるはずです。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># apt install msr-tools # modprobe msr # rdmsr -a 0xc0010131 1</pre>
</div></div>
<div class="paragraph">
<p><strong>構成例（SEV-SNP）：</strong></p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -amd-sev type=snp,allow-smt=1,no-debug=1,kernel-hashes=1。</pre>
</div></div>
<div class="paragraph">
<p><span class="monospaced">allow-smt</span>ポリシービットはデフォルトで設定されています。<span class="monospaced">allow-smt を</span> <span class="monospaced">0</span> に設定してこれを無効にした場合、VM を実行するにはホスト上で SMT を無効にする必要があります。</p></div>
<div class="paragraph">
<p><strong>SEV-SNPがVMで動作しているかどうかの確認</strong></p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># dmesg | grep -i snp Memory Encryption Features active：AMD SEV SEV-ES SEV-SNP SEV: SNP CPUIDテーブルを使用、29個のエントリが存在します。 SEV: SNPゲストプラットフォームデバイスが初期化されました。</pre>
</div></div>
<div class="paragraph">
<p>リンク</p></div>
<div class="ulist"><ul>
<li>
<p>
h<a href="https://developer.amd.com/sev/">ttps://</a>developer.amd.com/sev/</p>
</li>
<li>
<p>
h<a href="https://github.com/AMDESE/AMDSEV">ttps://</a>github.com/AMDESE/AMDSEV</p>
</li>
<li>
<p>
h<a href="https://www.qemu.org/docs/master/system/i386/amd-memory-encryption.html">ttps://</a>www.qemu.org/docs/master/system/i386/amd-memory-encryption.html</p>
</li>
<li>
<p>
h<a href="https://www.amd.com/system/files/TechDocs/55766_SEV-KM_API_Specification.pdf">ttps://</a>www.amd.com/system/files/TechDocs/55766_SEV-KM_API_Specification.pdf</p>
</li>
<li>
<p>
h<a href="https://documentation.suse.com/sles/15-SP1/html/SLES-amd-sev/index.html">ttps://</a>documentation.suse.com/sles/15-SP1/html/SLES-amd-sev/index.html</p>
</li>
<li>
<p>

<a href="https://www.amd.com/content/dam/amd/en/documents/epyc-technical-docs/specifications/56860.pdf">SEV Secure Nested Paging ファームウェア ABI 仕様</a></p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="qm_network_device">
<span>ネットワークデバイス</span> <a class="headerlink" href="#qm_network_device" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-create-vm-network.png">
<img src="images/screenshot/gui-create-vm-network.png" alt="screenshot/gui-create-vm-network.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>各VMは、4つの異なるタイプの多数の<em>ネットワーク・インターフェイス・コントローラ</em>(NIC)を持つことができます：</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Intel E1000</strong>がデフォルトで、Intel ギガビットネットワークカードをエミュレートします。</p>
</li>
<li>
<p>
パフォーマンスを最大化するには、<strong>VirtIO</strong>準仮想化 NIC を使用する必要があります。他の VirtIO デバイスと同様に、ゲスト OS には適切なドライバがインストールされている必要があります。</p>
</li>
<li>
<p>
<strong>Realtek 8139</strong>は古い 100 MB/s ネットワークカードをエミュレートするもので、古いオペレーティングシステム ( 2002 年以前にリリースされたもの ) をエミュレートする場合にのみ使用してください。</p>
</li>
<li>
<p>
<strong>vmxnet3</strong>はもう一つの準仮想化デバイスで、他のハイパーバイザーから VM をインポートする場合にのみ使用してください。</p>
</li>
</ul></div>
<div class="paragraph">
<p>Proxmox VEは、各NICにランダムな<strong>MACアドレスを</strong>生成し、VMがイーサネット・ネットワーク上でアドレス指定できるようにします。</p></div>
<div class="paragraph">
<p>VMに追加したNICは、2つの異なるモデルのいずれかに従うことができます：</p></div>
<div class="ulist"><ul>
<li>
<p>
デフォルトの<strong>ブリッジモードでは</strong>、各仮想NICは<em>タップデバイス</em>（イーサネットNICをシミュレートするソフトウェアループバックデバイス）によってホスト上でバックアップされます。このタップデバイスは、Proxmox VEのデフォルトvmbr0であるブリッジに追加されます。このモードでは、VMはホストがあるイーサネットLANに直接アクセスできます。</p>
</li>
<li>
<p>
代替の<strong>NATモードでは</strong>、各仮想NICはQEMUユーザネットワーキングスタックとのみ通信し、内蔵ルータとDHCPサーバがネットワークアクセスを提供します。この内蔵DHCPは、プライベート10.0.2.0/24範囲のアドレスを提供します。NATモードはブリッジモードよりもはるかに遅いので、テストにのみ使用してください。このモードはCLIまたはAPI経由でのみ利用可能で、Web UI経由では利用できません。</p>
</li>
</ul></div>
<div class="paragraph">
<p><strong>ネットワーク・デバイスなしを</strong>選択すると、VMの作成時にネットワーク・デバイスの追加を省略することもできます。</p></div>
<div class="paragraph">
<p>各VMネットワーク・デバイスの<strong>MTU</strong>設定は、手動で上書きできます。フ ィ ール ド を空にす る か<span class="monospaced">mtu=1</span>に設定す る と 、 基盤 と な っ てい る ブ リ ッ ジか ら MTU を継承 し ます。こ のオプシ ョ ンは、<strong>VirtIO</strong>ネッ ト ワーク デバ イ スでのみ使用で き ます。</p></div>
<div class="paragraph">
<div class="title">マルチキュー</div><p>VirtIO ドライバを使用している場合、オプションで<strong>Multiqueue</strong>オプションを有効にすることができます。このオプションにより、ゲスト OS は複数の仮想 CPU を使用してネットワーキング パケットを処理できるようになり、転送されるパケットの総数が増加します。</p></div>
<div class="paragraph">
<p>Proxmox VE で VirtIO ドライバを使用する場合、各 NIC ネットワークキューはホストカーネルに渡され、キューは vhost ドライバによって生成されたカーネルスレッドによって処理されます。このオプションを有効にすると、NICごとに<em>複数の</em>ネットワーク・キューをホスト・カーネルに渡すことができます。</p></div>
<div class="paragraph">
<p>Multiqueue を使用する場合、ゲストの vCPU 数に等しい値に設定することを推奨します。vCPU 数は、ソケット数× VM に設定されたコア数であることを忘れないでください。また、この ethtool コマンドを使用して、VM の各 VirtIO NIC の多目的チャネル数を設定する必要があります：</p></div>
<div class="paragraph">
<p><span class="monospaced">ethtool -L ens1 combined X</span></p></div>
<div class="paragraph">
<p>ここで、X は VM の vCPU 数です。</p></div>
<div class="paragraph">
<p>Multiqueue 用に Windows ゲストを設定するには、<a href="https://pve.proxmox.com/wiki/Windows_VirtIO_Drivers">Redhat VirtIO Ethernet Adapter ドライバを</a>インストールし、次のように NIC の設定を変更します。デバイスマネージャを開き、"Network adapters" で NIC を右クリックし、"Properties" を選択します。次に「詳細設定」タブを開き、左側のリストから「受信側スケーリング」を選択します。有効」になっていることを確認してください。次に、リストの「Maximum number of RSS Queues」に移動し、VMのvCPU数に設定します。設定が正しいことを確認したら、「OK」をクリックして確定します。</p></div>
<div class="paragraph">
<p>マルチキューパラメータを1より大きい値に設定すると、トラフィックが増加するにつれてホストとゲストシステムのCPU負荷が増加することに注意してください。このオプションは、VM がルーター、リバースプロキシ、または長時間のポーリングを行うビジーな HTTP サーバーとして動作している場合など、VM が多数の着信接続を処理する必要がある場合にのみ設定することをお勧めします。</p></div>
</div>
<div class="sect2">
<h3 id="qm_display">
<span>ディスプレイ</span> <a class="headerlink" href="#qm_display" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>QEMU は、数種類の VGA ハードウェアを仮想化できます。いくつか例を挙げます：</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>stdは</strong>デフォルトで、Bochs VBE拡張のカードをエミュレートします。</p>
</li>
<li>
<p>
<strong>cirrus</strong>, これはかつてデフォルトでした。すべての問題を抱えた非常に古いハードウェアモジュールをエミュレートします。<span class="footnote"><br><a href="https://www.kraxel.org/blog/2014/10/qemu-using-cirrus-considered-harmful/">[https://www.kraxel.org/blog/2014/10/qemu-using-cirrus-considered-harmful/ qemu:</a>cirrus の使用は有害です]<br></span> 、例えば Windows XP 以前を使用している場合。</p>
</li>
<li>
<p>
<strong>vmwareは</strong>VMWare SVGA-II互換アダプタです。</p>
</li>
<li>
<p>
<strong>qxl</strong> は QXL 準仮想化グラフィックカードです。これを選択すると、VMの<a href="https://www.spice-space.org/">SPICE</a>（リモートビューワプロトコル）も有効になります。</p>
</li>
<li>
<p>
<strong>virtio-gl</strong>（しばしばVirGLと呼ばれます）は、VM内部で使用する仮想3D GPUで、特別な（高価な）モデルやドライバを必要とせず、ホストGPUを完全にバインドすることなく、ワークロードをホストGPUにオフロードできます。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">VirGLのサポートにはいくつかの追加ライブラリが必要ですが、比較的大きく、またすべてのGPUモデル/ベンダーでオープンソースとして利用できるわけではないため、デフォルトではインストールされません。ほとんどのセットアップでは、次のようにするだけです:<span class="monospaced">apt install libgl1 libegl1</span></td>
</tr></table>
</div>
</li>
</ul></div>
<div class="paragraph">
<p><em>メモリ</em>オプションを設定することで、仮想 GPU に与えるメモリ量を編集できます。これにより、特にSPICE/QXLでは、VM内部でより高い解像度を実現できます。</p></div>
<div class="paragraph">
<p>メモリはディスプレイデバイスによって予約されるため、SPICEでマルチモニタモード（デュアルモニタの場合は<span class="monospaced">qxl2など</span>）を選択すると、いくつかの影響があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
Windowsは各モニタにデバイスを必要とするため、<em>OSタイプが</em>Windowsの場合、Proxmox VEはVMにモニタごとに追加のデバイスを与えます。 各デバイスは指定された量のメモリを取得します。</p>
</li>
<li>
<p>
LinuxのVMは、常に多くの仮想モニタを有効にすることができますが、マルチモニタモードを選択すると、デバイスに与えられるメモリがモニタの数に乗算されます。</p>
</li>
</ul></div>
<div class="paragraph">
<p>ディスプレイ<em>タイプとして</em> <span class="monospaced">serialXを</span>選択すると、VGA出力が無効になり、Webコンソールは選択したシリアルポートにリダイレクトされます。この場合、設定されたディスプレイ<em>メモリの</em>設定は無視されます。</p></div>
<div class="paragraph">
<div class="title">VNC クリップボード</div><p><span class="monospaced">クリップボードを</span> <span class="monospaced">vnc</span> に設定することで、VNC クリップボードを有効にできます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -vga &lt;displaytype&gt;,clipboard=vnc</pre>
</div></div>
<div class="paragraph">
<p>クリップボード機能を使用するには、まずSPICEゲストツールをインストールする必要があります。Debianベースのディストリビューションでは、<span class="monospaced">spice-vdagentを</span>インストールすることで実現できます。他のオペレーティングシステムでは、公式リポジトリで検索するか、<a href="https://www.spice-space.org/download.html">https://www.spice-space.org/download.html</a>を参照してください<a href="https://www.spice-space.org/download.html">。</a></p></div>
<div class="paragraph">
<p>spiceゲストツールをインストールしたら、VNCクリップボード機能（例えばnoVNCコンソールパネル）を使用することができます。ただし、SPICE、virtio、virgl を使用している場合は、使用するクリップボードを選択する必要があります。 これは、<span class="monospaced">clipboard</span>が<span class="monospaced">vnc</span> に設定されている場合、デフォルトの<strong>SPICE</strong>クリップボードが<strong>VNC</strong>クリップボードに置き換わるためです。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">VNCクリップボードを有効にするために、QEMUはqemu-vdagentデバイスを使用するように設定されます。<a href="https://lists.gnu.org/archive/html/qemu-devel/2021-08/msg05393.html">現在、qemu-vdagentデバイスはライブマイグレーションをサポートしていません。</a>つまり、VNCクリップボードが有効になっているVMは、現時点ではライブマイグレーションできません。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qm_usb_passthrough">
<span>USBパススルー</span> <a class="headerlink" href="#qm_usb_passthrough" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>USB パススルーデバイスには 2 つの種類があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
ホスト USB パススルー</p>
</li>
<li>
<p>
SPICE USB パススルー</p>
</li>
</ul></div>
<div class="paragraph">
<p>ホスト USB パススルーは、VM にホストの USB デバイスを与えることによって動作します。 これは、ベンダ ID とプロダクト ID を介して行われる場合と、ホストバスとポートを介して行われる場合があります。</p></div>
<div class="paragraph">
<p>ベンダー/プロダクトIDは以下のようになります：<strong>0123:abcd</strong>、ここで<strong>0123は</strong>ベンダーのID、<strong>abcdは</strong>製品のIDです。</p></div>
<div class="paragraph">
<p>バス/ポートは次のようになります：<strong>1</strong> <strong>-2.3.4は</strong>バス、<strong>2.3.4は</strong>ポートパスです。これはホストの物理ポートを表します(usbコントローラの内部順序による)。</p></div>
<div class="paragraph">
<p>VMの起動時にVMのコンフィグレーションにデバイスが存在しても、ホストにデバイスが存在しない場合、VMは問題なく起動できます。 デバイス/ポートがホストで利用可能になると、すぐにパススルーされます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAMVUlEQVRogdWZeXDVVZbHP7/f27JB
wtJIiCERRFlbx5FuHRrRBgtBsRIwCCOrFmGmiDBjYVNlQlgiQjU6IjI4xLJxGf5QGp0Cbaftsu3R
hu6aYXqgLZoWEsjyyDP7S972e7/l3vnj5cW3Ji9M/zOn6lRS997fvd/vueece+59ipSS/89iv5mP
ZEQQQsS23RQARVEAUFUVRVFQog0ZyogJSClld3c327Ztw7IsLMuKto90KgBsNhtVVVXMnj2bvLw8
7Ha7HBEJKWXGKoSQXV1dcsuWLfLSpUsyKkKIIdWyrLTqdrvlU089Jc+cOSM9Ho8Mh8NSCCEzxTRi
8JWVlbKtre0vAt6yLGmapmxtbZXr1q2TZ86ckW1tbSMikTH4GzduyKqqqkHwsSA1TZOhUChOg8Hg
oBqGIQ3DSAk+VleuXDliEspwviullD09PbzwwgscO3Yszt91XScQCNDZ2YlhGIPfuFwu7Pb48FJV
lZycnEG/z8/PRwiBqqqDYzweD88//zyrV69m7ty5jBs3DofDMWRgD0lASik9Hg979uzh2LFjcYEa
CoVob2/n2q9+hbZ585BGSCWltbVMr61NtSYbN25k7dq1zJkzZ1gSaqrGWPD79+9PAh8MBuns7OTi
e+8R2rwZCYOaqTTt3cuf6+qSwAMcP36co0eP8vXXX9Pd3Y1hGMg0lk65A1HwdXV1vPHGG0mW7+jo
4A8/+xn2BAAAI0riQOnu3cyork7Zt3btWtavX89dd92VdieSCEgppdvt5sCBAxw5ciSuLxQK0dTU
RMOHHyJ37hwh1NSiAKU7djDzxRdT9q9YsYJt27YxY8aMlCTiCEgp5eXLl6mvr+fVV1+NmygYDNLW
1sY3J09ipLEYQDPw2sBfCTwMLARKgKwhiNxWU8OsXbvi2qLYnnzySSorK1PvRGyqvH79uty6dWtS
Lg8EAvLKlSvyo1275M8hSV8H+eMBvRPkP9Vslp0tV6W3u12+c7hOTgT5NyAXgtwE8gTIUyn0D9XV
0jAMqet6klZUVMjPP/88KcWqUcs3NjZy+PBhDh06FGeFqNtcOnECY8+euICVwDWgFtj/m1/wD+8f
5xtg6uy5ZI+5BSkkU6fexgu7tvLWhd/x1tXL5P/905wAggnzSODavn388Sc/SblDL7/8Mq+99hqX
L1+OC2zb7t27uX79+u7Dhw+ndJvW1lYaP/qI0EDKS1z0XeDjC7/l9llz+d6EWxjv0imdcgeFRcVo
fR46vm1Cx8ndP5hP3qjR/GDuX/GbC5/iberl1qirxGjv73+PYRjc8tBDcVhGjRpFRUUF27dvp7i4
mPz8fFwuV2QHVq1aldLyDQ0NXDt5En91NRIQCRqNHld2HsLUCfu6GD9mNIoVQggDy9RQpYLTbkdV
7Vh6CH9vJ/fcfz/vALsAN2AlzHv1wAEu1tTExUI0Hl555RXq6upobm4mEAhECEyePDkOvK7rtLS0
cOP0aby1tUnAo2oNkFAUSTjoRfN+ix7wgjRBShACVVFQRGSkHvTypwtnmXHPQhrbb3D0k1McAdpi
DBLVhp/+lIvV1UlV7oQJE8jNzcXtduPz+ZIPMtM0aWhooPH99+mtrU1ymVRqUxUQFlJYSBFGCivG
OSyEaSCFAGlhd+Vy7w/n43BmM3POXWx69hl8AyMTDXTl4EEu7t2bCBGAQCCAruupCdjtdrp3705r
+ViN22YhsUwdyzRBCpACyzIRMnpngCxXNjYlMk4L+ggoYXxp5pbAlX37cDgcSQSEEAxmoVgQg/9n
AP67bVdAUcFmQ3W6IgtIiWUKLCGwLGvQj69e+m+EsBB6iGB/N/3e9oyNlIgRYm5kiR2JH0L6MkFY
Ei0UQKAycdJUbIodT3Mjpu6n3xfCptoRlomQCqZpRkhLCykMhLBQSV1HJbalKnvSF3MpNO0OSIEw
DWyuPCaVzCRv7ER8Ph+mtJM35lZsdjvuxktYhobDkYOCgqJEDWLLaAfSVc1p78SJO2AAvUBggLUN
KIx2Kgqjv3crY2wOiqaqKKoKihKJCctCC/npbW+jq7sbS7UjkGCZCCkQQkdJsV6mRWHGBH4HLHpx
F3LcGDq6u7nw2S85++V/4gb0kB9hFoAZwuZwgc2BqjpQVRWbzYXd4cDlysHn7WJi0W2EfH24XA6E
jKySqhTPtDRPIjB4XUtoPw3sKV/O+KJipJT4V63mq3/7Obu21/LN/5xl9l/PIys7G2fOaBS7E5vN
QrU7UW0KNlUFp5P8MeO5/8HFhPo7CXr7MMIaQW8neSkMlqnEEYj1s8QJbwXaWpopmDgJh93OqHGF
LFy9jjunTeHNo2uAvUy54/uMuaUYV24BUpVYpoVEwaY4UVUbitNJ9ugxOBw2tEAPfX29QCjuVB9O
EmNBTdeRGEj3A56OdkwtgDDCCKFjz8ql6N55/G3VcRouX+SXH72Ht6udcCg4cJiJSPIn8oCloIKU
KAhURUUIiVCjx128pjtrEiVtFkrMNNOBA+s34XG3YIRDSMtAkSbOrDzuvOchHnmiklEFY3n76G7O
f/nv9Ht7EMJCSjGoljCxjOBAnaSjhYPowevDZrx04FMSGLwnJEzmAOYCn33wAUYoiGXoSMsEoeNw
ZTO2aDrzFpWxck0VJVOn4fd2E/T7oneNyOFlGkjLwNTD6FoILRQEa/hDcyhJIuB0OlFVNeVE04B3
XjnC+d9+hRYKYJlhpDBBGDidDiaUfp/xk24nJ3c0eaPzsKsgzEhtZJkGIuzDNDRCAR99fb309XYh
NAYPsnQ6IgJSSgoKCihavDilJZ4Aajf8HVf/fAnLCCNNAyktECaqIsgbV8So0WMHrn2RGLBMHREO
YBg6eiiIFgzQ7/US8vmYoEDuENa/u6oqcwJRPysoKOC+N9+kcNGiJGvkAQuADY+twn3tCuFg/4CV
DbB0VKHhzHbhdGVhs6kgDKTuR9f86KEAWtBHd0c73p52pB5Av5KewJxnnmHeoUOEw+EkjHEEYi8M
EHlFKyws5IfHjlG4cGHSxJOA1cATPy7nT388j+73YoYDCEuP1DhSRrKOlFhmmLAWQNMCBHw9tHtu
8K2nBcsI8uGxf8HoiRBINNTtjz7KQ/X1xL6iRDHGvubZAfr7+1Nuz+TJk6G+nv/atInmX/86rq8A
WAlUrahk/Fio/8XHjM4fi93pHCgRFCzLQtd1tFAQLeCjs9NNb4cHxdL44J8PozfD7XyXRqNy97p1
PPz220gp0XU9zriKogw+SaqqGtmB48ePU15enkRASklRURH31tcz6cEHk1JrAfAUcEcPLLjvMU69
/694uzsI+X3093TS5blBl8eNt72VHk8Tfd9eR+vv4MQ/HkZpiJwttgTL3/Hoo2nBNzY2smjRIhYs
WEBBQQEulyvyLuT3+2VTUxM7d+7k5MmTKXNuS0sL555+mtYvv0zqE0A7kavhqFL4oAlCCWOygGIi
qTiHyMnuTBgz/bHHKDt9GillnN8D+P1+ysrKWLJkCdOmTWPWrFmUlpZGCAghpN/vp7m5mZqaGl5/
/XUKCwtJFLfbzX+sX8+Nr75K6rtZiXr49KVLKf/4Y4QQ6LqeBP6RRx6hvLycadOmMXPmTEpKSsjN
zf3uZS6WRHV1NadOnUpaTEpJa2sr5zZupOkmSaQqk2csWcLyTz4BQNO0uL7GxkbWr1+fErzNZlMG
w1lVVSUvL4+SkhL27dvH8uXL8Xg8ceABiouLue+ttyieN2+IK2Z6TRx/5+LFacE3NDRQWVmZFjwk
nAOxJF566SW2bNnChQsXkmKipKSEB959l9vmzcvo1pZOpz/8ME98+mla8Bs2bGDZsmVpwUOa5/VE
d0oXE319fXxWXs43Z88m9Q0n03/0I1YPJIRE8OfOnWPHjh2UlZUNCT4tgUQSO3fupKqqigceeGCw
P/a7VM8emUg0VcbK+fPn2bp1KytWrBgW/JAEEknU1NTw7LPPMn/+/GFBZQI8lZw/f57nnnuO5cuX
M2XKlGHBD0sgkURdXR2PP/44FRUVNwV+qP7Tp09z8ODBjNxmRAQSSRw4cIBly5axdOnSvwh4RVH4
4osv2L9/P2VlZRlbfkQEEkls376djo4OQqHE83bk4nK5EEKwZs0aSktLRwR+RATgOxItLS1cu3aN
vr6+wTfK/4tEfzeeMmUKkydPzhg8jJAAREgEg0H6+vrQNC2pFL8ZUVWVrKws8vPzycnJQVXVjH/s
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">この種の USB パススルーを使用すると、VM が現在常駐しているホストでしかハードウェアを使用できないため、VM をオンラインで別のホストに移動できないことになります。</td>
</tr></table>
</div>
<div class="paragraph">
<p>パススルーの2つ目のタイプは SPICE USB パススルーです。VM に 1 つ以上の SPICE USB ポートを追加すると、SPICE クライアントから VM にローカルの USB デバイスを動的に渡すことができます。これは、入力デバイスやハードウェアドングルを一時的にリダイレクトするのに便利です。</p></div>
<div class="paragraph">
<p>クラスタレベルでデバイスをマッピングすることも可能で、HA で適切に使用できるようにしたり、ハードウェアの変更を検出して root 以外のユーザが設定できるようにしたりできます。詳細は<a href="qm.1.html#resource_mapping">リソースマッピングを</a>参照してください。</p></div>
</div>
<div class="sect2">
<h3 id="qm_bios_and_uefi">
<span>BIOS および UEFI</span> <a class="headerlink" href="#qm_bios_and_uefi" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>コンピュータを適切にエミュレートするために、QEMU はファームウェアを使用する必要があります。 一般的な PC では BIOS または (U)EFI として知られているファームウェアは、VM を起動する際の最初のステップとして実行されます。BIOSは、基本的なハードウェアの初期化を行い、オペレーティング・システムにファームウェアとハードウェアへのインタフェースを提供します。デフォルトでは、QEMUはオープンソースのx86 BIOS実装である<strong>SeaBIOSを</strong>使用します。SeaBIOS は、ほとんどの標準的なセットアップに適しています。</p></div>
<div class="paragraph">
<p>一部のオペレーティングシステム（Windows 11など）では、UEFI互換の実装を使用する必要があります。そのような場合、代わりにオープンソースの UEFI 実装である<strong>OVMF</strong>を使う必要があります。<span class="footnote"><br>[OVMF Project<a href="https://github.com/tianocore/tianocore.github.io/wiki/OVMF">https://github.com/tianocore/tianocore.github.io/wiki/OVMF]</a> を見て下さい<a href="https://github.com/tianocore/tianocore.github.io/wiki/OVMF">。</a><br></span></p></div>
<div class="paragraph">
<p>例えば、VGA パススルーを行いたい場合などです。<span class="footnote"><br>[アレックス・ウィリアムソンは、これに関して良いブログエントリを持っています。<a href="https://vfio.blogspot.co.at/2014/08/primary-graphics-assignment-without-vga.html">https://vfio.blogspot.co.at/2014/08/primary-graphics-assignment-without-vga.html]</a><br></span></p></div>
<div class="paragraph">
<p>OVMF を使いたい場合、考慮すべきことがいくつかあります：</p></div>
<div class="paragraph">
<p>このディスクはバックアップやスナップショットに含まれ、1つしかありません。</p></div>
<div class="paragraph">
<p>このようなディスクは以下のコマンドで作成できます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -efidisk0 &lt;storage&gt;:1,format=&lt;format&gt;,efitype=4m,pre-enrolled-keys=1</pre>
</div></div>
<div class="paragraph">
<p>ここで、<strong>&lt;storage&gt;は</strong>ディスクを置きたいストレージ、<strong>&lt;format&gt;は</strong>そのストレージがサポートするフォーマットです。または、Web インターフェースから、VM のハードウェアセクションの<em>Add</em>→<em>EFI Disk</em>でこのようなディスクを作成することもできます。</p></div>
<div class="paragraph">
<p><strong>efitype</strong>オプションは、どのバージョンのOVMFファームウェアを使用するかを指定します。新しい VM の場合、これは常に<em>4m</em> であるべきです。これは、セキュア・ブートをサ ポートしており、将来の開発をサポートするために割り当てられる容量が多いからです（GUI ではこれがデフォルトです）。</p></div>
<div class="paragraph">
<p><strong>pre-enroll-keys</strong>は、efidisk にディストリビューション固有のセキュアブートキーと Microsoft 標準セキュアブートキーを事前にロードするかどうかを指定します。また、デフォルトでセキュアブートを有効にします (ただし、VM 内の OVMF メニューで無効にすることもできます)。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">既存の VM (<em>2m の</em>efidisk を使用している) でセキュアブートの使用を開始したい場合は、efidisk を再作成する必要があります。そのためには、古い<span class="monospaced">efidisk</span> を削除し<span class="monospaced">(qm set &lt;vmid&gt; -delete efidisk0</span>)、前述の方法で新しい<span class="monospaced">efidisk</span> を追加します。これにより、OVMFメニューで行ったカスタム設定がリセットされます！</td>
</tr></table>
</div>
<div class="paragraph">
<p>仮想ディスプレイ（VGAパススルーなし）でOVMFを使用する場合、OVMFメニューでクライアントの解像度を設定するか（ブート中にESCボタンを押すことで設定可能）、ディスプレイタイプとしてSPICEを選択する必要があります。</p></div>
</div>
<div class="sect2">
<h3 id="qm_tpm">
<span>トラステッドプラットフォームモジュール (TPM)</span> <a class="headerlink" href="#qm_tpm" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p><strong>トラステッド・プラットフォーム・モジュール（Trusted Platform Module</strong>）は、暗号化キーなどの秘密データを安全に保存し、システム起動を検証するための耐タンパー機能を提供するデバイスです。</p></div>
<div class="paragraph">
<p>特定のオペレーティング・システム（ウィンドウズ11など）では、このようなデバイスをマシン（物理的か仮想的かを問いません）に取り付ける必要があります。</p></div>
<div class="paragraph">
<p>TPMは、<strong>tpmstate</strong>ボリュームを指定して追加します。これはefidiskに似た働きをしますが、一度作成すると変更できません（削除のみ）。以下のコマンドで追加できます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -tpmstate0 &lt;storage&gt;:1,version=&lt;version&gt;.</pre>
</div></div>
<div class="paragraph">
<p>ここで<strong>&lt;storage&gt;</strong>は状態を置きたいストレージで、<strong>&lt;version&gt;</strong>は<em>v1.2</em>か<em>v2.0 の</em>どちらかです。また、VM のハードウェア・セクションで<em>Add</em>→<em>TPM State</em>を選択して、ウェブ・インターフェイスから追加することもできます。</p></div>
<div class="paragraph">
<p><em>v2.0の</em>TPM仕様の方が新しく、よりよくサポートされているため、<em>v1.2の</em>TPMを必要とする特別な実装がない限り、こちらを優先してください。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">物理的な TPM と比較して、エミュレートされた TPM にはセキュリティ上の利点は<strong>ありません</strong>。TPMのポイントは、TPM仕様の一部として指定されたコマンドを除いて、その上のデータを簡単に変更できないことです。エミュレートされたデバイスの場合、データの保存は通常のボリューム上で行われるため、そのボリュームにアクセスできる人なら誰でも編集できる可能性があります。</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qm_ivshmem">
<span>VM間共有メモリ</span> <a class="headerlink" href="#qm_ivshmem" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>VM間共有メモリデバイス<span class="monospaced">(ivshmem</span>)を追加することで、ホストとゲスト間、または複数のゲスト間でメモリを共有することができます。</p></div>
<div class="paragraph">
<p>このようなデバイスを追加するには、<span class="monospaced">qm</span>：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -ivshmem size=32,name=foo</pre>
</div></div>
<div class="paragraph">
<p>ここで、サイズは MiB 単位です。ファイルは<span class="monospaced">/dev/shm/pve-shm-$name</span>(デフォルトの名前は vmid) に配置されます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">現在、デバイスは、それを使用しているVMがシャットダウンまたは停止するとすぐに削除されます。オープンな接続は維持されますが、全く同じデバイスへの新しい接続はできなくなります。</td>
</tr></table>
</div>
<div class="paragraph">
<p>このようなデバイスの使用例としては、ホストとゲスト間で高性能かつ低レイテンシーのディスプレイミラーリングを可能にする Looking Glass<span class="footnote"><br>[Looking Glass:<a href="https://looking-glass.io/">https://looking-glass.io/]</a><br></span>プロジェクトがあります。</p></div>
</div>
<div class="sect2">
<h3 id="qm_audio_device">
<span>オーディオデバイス</span> <a class="headerlink" href="#qm_audio_device" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>オーディオデバイスを追加するには、以下のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set &lt;vmid&gt; -audio0 device=&lt;デバイス&gt; # qm set &lt;vmid&gt; -audio0 device=&lt;デバイス</pre>
</div></div>
<div class="paragraph">
<p>サポートされているオーディオデバイスは以下のとおりです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">ich9-intel-hda</span>：Intel HD オーディオコントローラ、ICH9 をエミュレート</p>
</li>
<li>
<p>
<span class="monospaced">intel-hda</span>：Intel HD オーディオコントローラー、ICH6 をエミュレート</p>
</li>
<li>
<p>
<span class="monospaced">AC97</span>：オーディオコーデック'97、Windows XPのような古いオペレーティングシステムに便利です。</p>
</li>
</ul></div>
<div class="paragraph">
<p>利用可能なバックエンドは2つあります：</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>スパイス</em></p>
</li>
<li>
<p>
<em>なし</em></p>
</li>
</ul></div>
<div class="paragraph">
<p><em>spice</em>バックエンドは<a href="qm.1.html#qm_display">SPICE</a>と組み合わせて使用でき、<em>none</em>バックエンドは何らかのソフトウェアを動作させるために VM 内にオーディオデバイスが必要な場合に便利です。ホストの物理オーディオ・デバイスを使用するには、デバイス・パススルーを使用します（<a href="qm.1.html#qm_pci_passthrough">PCI パススルーと</a><a href="qm.1.html#qm_usb_passthrough">USB パススルーを</a>参照）。MicrosoftのRDPのようなリモート・プロトコルには、サウンドを再生するオプションがあります。</p></div>
</div>
<div class="sect2">
<h3 id="qm_virtio_rng">
<span>VirtIO RNG</span> <a class="headerlink" href="#qm_virtio_rng" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>RNG (Random Number Generator) は、システムにエントロピー<em>（ランダム性）を</em>提供するデバイスです。仮想ハードウェア RNG を使用して、ホストシステムからゲスト VM にエントロピーを提供することができます。これは、特にゲストのブートプロセス中に、ゲスト内のエントロピー飢餓問題 (十分なエントロピーが利用できず、システムがスローダウンしたり、問題が発生したりする状況) を回避するのに役立ちます。</p></div>
<div class="paragraph">
<p>VirtIO ベースのエミュレートされた RNG を追加するには、以下のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set &lt;vmid&gt; -rng0 source=&lt;ソース&gt;[,max_bytes=X,period=Y]。</pre>
</div></div>
<div class="paragraph">
<p><span class="monospaced">source</span>は、エントロピーがホスト上のどこから読み込まれるかを指定します：</p></div>
<div class="ulist"><ul>
<li>
<p>
/<span class="monospaced">dev/urandom</span>：ノンブロッキングカーネルエントロピープール (推奨)</p>
</li>
<li>
<p>
<span class="monospaced">/dev/random</span>：ブロッキングカーネルプール (推奨しません。ホストシステムでエントロピーが枯渇する可能性があります)</p>
</li>
<li>
<p>
/<span class="monospaced">dev/hwrng</span>：ホストに接続されたハードウェア RNG を通過させます (複数利用可能な場合、<span class="monospaced">/sys/devices/virtual/misc/hw_random/rng_current</span>で選択されたものが使用されます)。</p>
</li>
</ul></div>
<div class="paragraph">
<p><span class="monospaced">max_bytes</span>および<span class="monospaced">period</span>パラメータを使用して制限を指定することができ、これらはミリ秒単位で<span class="monospaced">期間</span>あたりの<span class="monospaced">max_bytes</span>として読み取られます。しかし、これは線形関係を表すものではありません：1024B/1000ms は、1 秒のタイマーで最大 1 KiB のデータが利用可能になることを意味し、1 秒の間に 1 KiB がゲストにストリーミングされることを意味しません。このため、<span class="monospaced">周期を</span>短くすることで、より速い速度でゲストにエントロピーを注入することができます。</p></div>
<div class="paragraph">
<p>デフォルトでは、リミットは 1000 ミリ秒 (1 KiB/s) あたり 1024 バイトに設定されています。ゲストがホストのリソースを使いすぎないように、常にリミッターを使用することを推奨します。必要に応じて、<span class="monospaced">max_bytes</span>に<em>0</em>を指定すると、すべての制限を無効にできます。</p></div>
</div>
<div class="sect2">
<h3 id="qm_virtiofs">
<span>Virtiofs</span> <a class="headerlink" href="#qm_virtiofs" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Virtiofs は仮想環境用に設計された共有ファイルシステムです。VM内にマウントすることで、ホスト上で利用可能なディレクトリツリーを共有することができます。ネットワークスタックを使用せず、ソースファイルシステムと同様のパフォーマンスとセマンティクスを提供することを目的としています。</p></div>
<div class="paragraph">
<p>virtiofs を使用するには、<a href="https://gitlab.com/virtio-fs/virtiofsd">virtiofsd</a>デーモンをバックグラウンドで実行する必要があります。これは、Virtiofs マウントを使用して VM を起動する際に Proxmox VE で自動的に行われます。</p></div>
<div class="paragraph">
<p>カーネル &gt;=5.4 の Linux VM はデフォルトで virtiofs をサポートしますが<a href="https://www.kernelconfig.io/CONFIG_VIRTIO_FS">(virtiofs カーネルモジュール</a>)、一部の機能には新しいカーネルが必要です。</p></div>
<div class="paragraph">
<p>virtiofs を使用するには、virtiofsd が Proxmox VE ホストにインストールされていることを確認します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>apt install virtiofsd</pre>
</div></div>
<div class="paragraph">
<p>Windows VM で virtiofs を利用する方法については<a href="https://github.com/virtio-win/kvm-guest-drivers-windows/wiki/Virtiofs:-Shared-file-system">ガイドが</a>あります。</p></div>
<div class="sect3">
<h4 id="_known_limitations">既知の制限<a class="headerlink" href="#_known_limitations" title="Permalink to this heading"></a></h4>
<div class="ulist"><ul>
<li>
<p>
virtiofsd がクラッシュすると、そのマウントポイントは VM が完全に停止するまで VM 内でハングします。</p>
</li>
<li>
<p>
virtiofsd が応答しない場合、到達不能な NFS と同様に VM 内のマウントがハングする可能性があります。</p>
</li>
<li>
<p>
メモリーのホットプラグは virtiofs との組み合わせでは機能しません (アクセスもハングします)。</p>
</li>
<li>
<p>
ライブマイグレーション、スナップショット、ハイバネートなどのメモリ関連の機能は virtiofs デバイスでは使用できません。</p>
</li>
<li>
<p>
Windows は virtiofs のコンテキストで ACL を理解できません。そのため、Windows VM に対して ACL を公開しないでください。そうしないと、virtiofs デバイスは VM 内で表示されません。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_add_mapping_for_shared_directories">共有ディレクトリのマッピングの追加<a class="headerlink" href="#_add_mapping_for_shared_directories" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>共有ディレクトリのマッピングを追加するには、<a href="qm.1.html#resource_mapping">リソースマッピング</a>セクションで説明されているように<span class="monospaced">pvesh を</span>使用して API を直接使用できます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>pvesh create /cluster/mapping/dir --id dir1 ˶ --map node=node1,path=/path/to/share1 ˶ --map node=node2,path=/path/to/share2 ˶</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_add_virtiofs_to_a_vm">VM への virtiofs の追加<a class="headerlink" href="#_add_virtiofs_to_a_vm" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>virtiofs を使用してディレクトリを共有するには、VM 設定に<span class="monospaced">virtiofs&lt;N&gt;</span>(N は 0 から 9 の間) パラメータを追加し、リソースマッピングで設定されたディレクトリ ID (dirid) を使用します。さらに、要件に応じて<span class="monospaced">キャッシュ</span>オプションを<span class="monospaced">always</span>、<span class="monospaced">never</span>、<span class="monospaced">metadata</span>、<span class="monospaced">auto</span>(デフォルト:<span class="monospaced">auto</span>) のいずれかに設定できます。異なるキャッシュモードがどのように動作するかについては、<a href="https://lwn.net/Articles/774495/">「キャッシュモード」 セクションを</a>参照してください。</p></div>
<div class="paragraph">
<p><span class="monospaced">virtiofsd</span>は ACL と xattr パススルーをサポートし (<span class="monospaced">expose-acl</span>と<span class="monospaced">expose-xattr</span>オプションで有効にできます)、基盤となるホストファイルシステムが ACL と xattrs をサポートしている場合、ゲストが ACL と xattrs にアクセスできるようにします。</p></div>
<div class="paragraph">
<p>つまり、<span class="monospaced">expose-acl が</span> <span class="monospaced">1</span> に設定されている場合、<span class="monospaced">expose-xattr を</span> <span class="monospaced">0</span>に設定しても違いはありません。</p></div>
<div class="paragraph">
<p>virtiofs に<span class="monospaced">O_DIRECT</span>フラグを尊重させたい場合は、<span class="monospaced">direct-io</span>パラメータを<span class="monospaced">1 に</span>設定できます (デフォルト:<span class="monospaced">0</span>)。これはパフォーマンスを低下させますが、アプリケーションが独自のキャッシュを行う場合に便利です。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set &lt;vmid&gt; -virtiofs0 dirid=&lt;dirid&gt;,cache=always,direct-io=1 qm set &lt;vmid&gt; -virtiofs1 &lt;dirid&gt;,cache=never,expose-xattr=1 qm set &lt;vmid&gt; -virtiofs2 &lt;dirid&gt;,expose-acl=1</pre>
</div></div>
<div class="paragraph">
<p>Linux カーネルの virtiofs ドライバーでゲスト VM に virtiofs を一時的にマウントするには、ゲスト内で以下のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>mount -t virtiofs &lt;dirid&gt; &lt;マウントポイント</pre>
</div></div>
<div class="paragraph">
<p>virtiofs を永続的にマウントするには、fstab エントリーを作成します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>&lt;dirid&gt; &lt;マウントポイント&gt; virtiofs rw,relatime 0 0</pre>
</div></div>
<div class="paragraph">
<p>現在のノード上のパスに関連付けられた dirid は、マウントタグ (ゲスト上でデバイスをマウントするために使用される名前) としても使用されます。</p></div>
<div class="paragraph">
<p>利用可能な virtiofsd パラメーターの詳細については、<a href="https://gitlab.com/virtio-fs/virtiofsd">GitLab virtiofsd プロジェクト</a>ページを参照してください。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="qm_bootorder">
<span>デバイスのブート順序</span> <a class="headerlink" href="#qm_bootorder" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>QEMU は、どのデバイスからどの順序でブートすべきかをゲストに指示することができます。 これは、例えば、<span class="monospaced">boot</span>プロパティを通じて config で指定することができます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>boot: order=scsi0;net0;hostpci0 です。</pre>
</div></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-qemu-edit-bootorder.png">
<img src="images/screenshot/gui-qemu-edit-bootorder.png" alt="screenshot/gui-qemu-edit-bootorder.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>このようにすると、ゲストは最初にディスク<span class="monospaced">scsi0</span> からのブートを試み、それが失敗した場合は<span class="monospaced">net0</span> からのネットワークブートを試み、それも失敗した場合は最後に通過した PCIe デバイス (NVMe の場合はディスクとみなされ、そうでない場合はオプション ROM に起動しようとします) からのブートを試みます。</p></div>
<div class="paragraph">
<p>GUI では、ドラッグ・アンド・ドロップ・エディターを使ってブート順序を指定したり、チェックボックスを使って特定のデバイスのブートを有効または無効にしたりできます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">ゲストが OS を起動したりブートローダをロードしたりするために複数のディスクを使用する場合、ゲストが起動できるようにするには、それらのすべてが<em>ブータブルとして</em>マークされている必要があります (つまり、チェックボックスが有効になっているか、設定内のリストに表示されている必要があります)。 これは、最近の SeaBIOS と OVMF のバージョンでは、<em>ブータブルとして</em>マークされている場合にのみディスクを初期化するためです。</td>
</tr></table>
</div>
<div class="paragraph">
<p>いずれにせよ、リストに表示されないデバイスやチェックマークが無効になっているデバイスでも、ゲストのオペレーティングシステムが起動して初期化されれば、ゲストは利用可能になります。<em>ブータブルフラグは</em>ゲスト BIOS とブートローダのみに影響します。</p></div>
</div>
<div class="sect2">
<h3 id="qm_startup_and_shutdown">
<span>仮想マシンの自動起動とシャットダウン</span> <a class="headerlink" href="#qm_startup_and_shutdown" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>VM を作成した後、ホストシステムのブート時に自動的に起動させたいと思うでしょう。そのためには、ウェブインターフェイスのVMの<em>オプション</em>タブから<em>Start at boot</em>オプションを選択するか、以下のコマンドで設定する必要があります：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -onboot 1</pre>
</div></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-qemu-edit-start-order.png">
<img src="images/screenshot/gui-qemu-edit-start-order.png" alt="screenshot/gui-qemu-edit-start-order.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<div class="title">起動とシャットダウンの順序</div><p>VMの1つが他のゲストシステムにファイアウォールやDHCPを提供している場合など、VMの起動順序を微調整できるようにしたい場合があります。  この場合、以下のパラメータを使用できます：</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>開始/シャットダウン順序</strong>：開始順序の優先順位を定義します。例えば、VM を最初に起動させたい場合は 1 に設定します。(シャットダウンには逆の起動順序を使用するため、起動順序が1のマシンは最後にシャットダウンされます）。ホスト上で複数のVMが同じ順序で定義されている場合、それらはさらに<em>VMIDの</em>昇順で並べられます。</p>
</li>
<li>
<p>
<strong>起動遅延</strong>：このVMの起動と後続のVMの起動の間隔を定義します。例えば、240秒待ってから他のVMを起動する場合は240に設定します。</p>
</li>
<li>
<p>
<strong>シャットダウンタイムアウト</strong>：Proxmox VEがシャットダウンコマンドを発行した後、VMがオフラインになるまで待機する時間を秒単位で定義します。デフォルトでは、この値は180に設定されています。これは、Proxmox VEがシャットダウン要求を発行し、マシンがオフラインになるまで180秒待つことを意味します。タイムアウト後もマシンがオンラインの場合、強制的に停止されます。</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">HAスタックによって管理されるVMは、現在のところ<em>ブート時開始と</em><em>ブート順</em>オプションに従いません。これらの VM は、HA マネージャ自身が VM の起動と停止を保証するため、起動とシャットダウンのアルゴリズムによってスキップされます。</td>
</tr></table>
</div>
<div class="paragraph">
<p>Start/Shutdown order パラメータが設定されていないマシンは、常にパラメータが設定されているマシンの後に起動することに注意してください。さらに、このパラメータは同じホスト上で実行されている仮想マシン間でのみ適用され、クラスタ全体では適用されません。</p></div>
<div class="paragraph">
<p>ホストのブートと最初のVMのブートの間に遅延が必要な場合は、Proxmox VE Node Managementのセクションを参照してください。</p></div>
</div>
<div class="sect2">
<h3 id="qm_qemu_agent">
<span>QEMU ゲストエージェント</span> <a class="headerlink" href="#qm_qemu_agent" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>QEMU ゲストエージェントは、VM 内で実行されるサービスで、ホストとゲスト間の通信チャネルを提供します。情報交換に使用され、ホストがゲストにコマンドを発行できるようにします。</p></div>
<div class="paragraph">
<p>例えば、VM サマリーパネルの IP アドレスはゲストエージェント経由で取得されます。</p></div>
<div class="paragraph">
<p>また、バックアップを開始する際、ゲストはゲストエージェントを介して<em>fs-freeze</em>と<em>fs-thaw</em>コマンドで未処理の書き込みを同期するように指示されます。</p></div>
<div class="paragraph">
<p>ゲストエージェントを正しく動作させるには、以下の手順を実行する必要があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
ゲストにエージェントをインストールし、それが実行されていることを確認します。</p>
</li>
<li>
<p>
Proxmox VE でエージェントを介した通信を有効にします。</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_install_guest_agent">ゲストエージェントのインストール<a class="headerlink" href="#_install_guest_agent" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ほとんどの Linux ディストリビューションでは、ゲストエージェントが利用可能です。パッケージの名前は通常<span class="monospaced">qemu-guest-agent</span>です。</p></div>
<div class="paragraph">
<p>Windows では、<a href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso">Fedora VirtIO ドライバ ISO</a> からインストールできます。</p></div>
</div>
<div class="sect3">
<h4 id="qm_qga_enable">ゲストエージェント通信の有効化<a class="headerlink" href="#qm_qga_enable" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>Proxmox VEからゲストエージェントへの通信は、VMの<strong>オプション</strong>パネルで有効にできます。変更を有効にするには、VM の再スタートが必要です。</p></div>
</div>
<div class="sect3">
<h4 id="qm_qga_auto_trim">QGA を使用した自動 TRIM<a class="headerlink" href="#qm_qga_auto_trim" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p><em>Run guest-trim</em>オプションを有効にすることができます。これを有効にすると、Proxmox VE は、ストレージにゼロを書き出す可能性のある以下の操作の後に、ゲストにトリムコマンドを発行します：</p></div>
<div class="ulist"><ul>
<li>
<p>
ディスクの別のストレージへの移動</p>
</li>
<li>
<p>
ローカルストレージを持つ別のノードへの VM のライブマイグレーション</p>
</li>
</ul></div>
<div class="paragraph">
<p>シンプロビジョニングされたストレージでは、これは未使用領域を解放するのに役立ちます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">Linux の ext4 には、重複した TRIM リクエストの発行を避けるためにメモリ内最適化を使用するため、注意点があります。ゲストは基礎となるストレージの変更を知らないので、最初のゲストトリムだけが期待通りに実行されます。それ以降の TRIM は、次回の再起動まで、それ以降に変更されたファイルシステムの一部のみを考慮します。</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="qm_qga_fsfreeze">バックアップ時のファイルシステムのフリーズと解凍<a class="headerlink" href="#qm_qga_fsfreeze" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>デフォルトでは、一貫性を提供するために、バックアップが実行されると、<em>fs-freeze</em>QEMU ゲストエージェントコマンドを介してゲストファイルシステムが同期されます。</p></div>
<div class="paragraph">
<p>Windows ゲストでは、アプリケーションによっては Windows VSS (Volume Shadow Copy Service) レイヤーをフックして一貫性のあるバックアップを処理する場合があります。たとえば、一部の SQL Server で<em>fs-freeze を</em>呼び出すと、VSS が SQL Writer VSS モジュールを呼び出す引き金となり、差分バックアップの SQL Server バックアップチェーンが切断されることが確認されています。</p></div>
<div class="paragraph">
<p>このような状況に対処する方法には2つのオプションがあります。</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
他の VSS ユーザーと干渉しない別の VSS バリアントを使用するように QEMU ゲストエージェントを設定します。<a href="https://pve.proxmox.com/wiki/VM_Backup_Consistency">Proxmox VE wiki</a>に詳細があります。</p>
</li>
<li>
<p>
また、QGAオプションの<span class="monospaced">freeze-fs-on-backupを</span> <span class="monospaced">0に</span>設定することで、バックアップ時にフリーズと解凍のサイクルを発行しないようにProxmox VEを設定することもできます。これは、GUIから<em>Freeze/thaw guest filesystems on backup for consistency</em>オプションを使用して実行することもできます。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションを無効にすると、一貫性のないファイルシステムでバックアップが作成される可能性があります。そのため、ゲストで QEMU ゲストエージェントの設定を適応させることが望ましいオプションです。</td>
</tr></table>
</div>
</li>
</ol></div>
</div>
<div class="sect3">
<h4 id="_troubleshooting">トラブルシューティング<a class="headerlink" href="#_troubleshooting" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<div class="title">VMがシャットダウンしない</div><p>ゲストエージェントがインストールされ、実行されていることを確認します。</p></div>
<div class="paragraph">
<p>ゲストエージェントが有効になると、Proxmox VEはゲストエージェント経由で<em>シャットダウンなどの</em>電源コマンドを送信します。ゲストエージェントが実行されていない場合、コマンドは正しく実行されず、シャットダウンコマンドはタイムアウトになります。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="qm_spice_enhancements">
<span>SPICE の強化</span> <a class="headerlink" href="#qm_spice_enhancements" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>SPICE 機能拡張は、リモートビューワの操作性を向上させるオプション機能です。</p></div>
<div class="paragraph">
<p>GUI で有効にするには、仮想マシンの<strong>オプション</strong>パネルを開きます。CLI 経由で有効にするには、以下のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set &lt;vmid&gt; -spice_enhancements foldersharing=1,videoostreaming=all</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">これらの機能を使用するには、仮想マシンの<a href="qm.1.html#qm_display"><strong>Display</strong></a>を SPICE (qxl) に設定する必要があります。</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="_folder_sharing">フォルダ共有<a class="headerlink" href="#_folder_sharing" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ローカルフォルダをゲストと共有します。<span class="monospaced">spice-webdavd</span>デーモンをゲストにインストールする必要があります。これは、<a href="http://localhost:9843">http://localhost:9843</a> にあるローカルの WebDAV サーバーを通して共有フォルダを利用可能にします<a href="http://localhost:9843">。</a></p></div>
<div class="paragraph">
<p>Windows ゲストの場合、<em>Spice WebDAV デーモンの</em>インストーラは<a href="https://www.spice-space.org/download.html#windows-binaries">公式 SPICE ウェブサイトから</a>ダウンロードできます。</p></div>
<div class="paragraph">
<p>ほとんどの Linux ディストリビューションには、<span class="monospaced">spice-webdavd</span>というパッケージがあります。</p></div>
<div class="paragraph">
<p>Virt-Viewer (Remote Viewer) でフォルダを共有するには、[<em>ファイル]→[環境設定]</em>に進みます。 共有するフォルダを選択し、チェックボックスを有効にします。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">フォルダー共有は現在、Linux バージョンの Virt-Viewer でのみ機能します。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">実験的です！現在、この機能は確実に動作しません。</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_video_streaming">ビデオストリーミング<a class="headerlink" href="#_video_streaming" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>高速リフレッシュエリアはビデオストリームにエンコードされます。2つのオプションがあります：</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>すべて</strong>：すべての高速更新領域がビデオストリームにエンコードされます。</p>
</li>
<li>
<p>
<strong>フィルタ</strong>：ビデオストリーミングを使用するかどうかを決定するために、追加のフィルタが使用されます（現在、小さなウィンドウ面のみがスキップされます）。</p>
</li>
</ul></div>
<div class="paragraph">
<p>ビデオストリーミングを有効にするかどうかと、どのオプションを選択するかについては、一般的な推奨はできません。特定の状況によって異なります。</p></div>
</div>
<div class="sect3">
<h4 id="_troubleshooting_2">トラブルシューティング<a class="headerlink" href="#_troubleshooting_2" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<div class="title">共有フォルダが表示されません</div><p>WebDAV サービスが有効で、ゲストで実行されていることを確認してください。Windows では<em>Spice webdav proxy</em> と呼ばれます。Linux では、名前は<em>spice-webdavd</em>ですが、ディストリビューションによって異なる場合があります。</p></div>
<div class="paragraph">
<p>サービスが実行されている場合、ゲストでブラウザで<a href="http://localhost:9843">http://localhost:9843 を開いて</a>、WebDAV サーバを確認してください。</p></div>
<div class="paragraph">
<p>SPICE セッションを再起動するのに役立ちます。</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_migration">
移行<a class="headerlink" href="#qm_migration" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<a class="image" href="images/screenshot/gui-qemu-migrate.png">
<img src="images/screenshot/gui-qemu-migrate.png" alt="screenshot/gui-qemu-migrate.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>クラスタを使用している場合、VM を別のホストにマイグレートすることができます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm migrate &lt;vmid&gt; &lt;target</pre>
</div></div>
<div class="paragraph">
<p>これには一般に2つのメカニズムがあります。</p></div>
<div class="ulist"><ul>
<li>
<p>
オンラインマイグレーション（別名ライブマイグレーション）</p>
</li>
<li>
<p>
オフラインマイグレーション</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_online_migration">
<span>オンラインマイグレーション</span> <a class="headerlink" href="#_online_migration" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>VMが実行中で、ローカルにバインドされたリソースが設定されていない場合（パススルーされるデバイスなど）、<span class="monospaced">qm migration</span>コマンドの喚起で<span class="monospaced">--online</span>フラグを使用してライブマイグレーションを開始できます。VMが稼動している場合、Webインターフェイスのデフォルトはライブマイグレーションになります。</p></div>
<div class="sect3">
<h4 id="_how_it_works">動作方法<a class="headerlink" href="#_how_it_works" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>オンラインマイグレーションでは、まずターゲットホスト上で新しい QEMU プロセスを<em>着信</em>フラグとともに起動します。このプロセスは、ゲストの vCPU を一時停止したまま基本的な初期化のみを実行し、ソース仮想マシンのゲストメモリとデバイス状態のデータストリームを待ちます。 ディスクなどの他のリソースはすべて、VM の実行時状態移行が始まる前に共有されるか、すでに送信されているため、転送が必要なのはメモリコンテンツとデバイス状態のみです。</p></div>
<div class="paragraph">
<p>この接続が確立されると、ソースは非同期でメモリコンテンツをターゲットに送信し始めます。このループは、実行中のソースVMと受信中のターゲットVMの間のデータ差が数ミリ秒で送信できるほど小さくなるまで繰り返されます。 その後、ソースVMはユーザやプログラムに気づかれることなく完全に一時停止し、残りのデータをターゲットに送信することができます。そして、ターゲットVMのCPUの一時停止を解除し、1秒以内に新しい実行中のVMにします。</p></div>
</div>
<div class="sect3">
<h4 id="_requirements">要件<a class="headerlink" href="#_requirements" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ライブマイグレーションが機能するためには、いくつかのことが必要です：</p></div>
<div class="ulist"><ul>
<li>
<p>
VM には、移行できないローカル・リソースがありません。一方、ローカルディスクは、ターゲットに送信することで問題なく移行できます。</p>
</li>
<li>
<p>
ホストは同じProxmox VEクラスタに配置されています。</p>
</li>
<li>
<p>
ホスト間で動作する（信頼できる）ネットワーク接続があること。</p>
</li>
<li>
<p>
ターゲットホストがProxmox VEパッケージと同じかそれ以上のバージョンを持っていること。逆に動作する場合もありますが、保証できません。</p>
</li>
<li>
<p>
ホストは同じベンダーの同じような機能を持つCPUを持っていること。設定された実際のモデルと VM の CPU タイプによっては、異なるベンダーでも動作する<strong>可能性が</strong>ありますが、保証はできません。</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_conntrack_state_migration">Conntrackステート・マイグレーション<a class="headerlink" href="#_conntrack_state_migration" title="Permalink to this heading"></a></h4>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">Conntrack の状態移行はベストエフォートであり、ネットワークの設定に大きく依存するため、動作しない可能性があります。例えば、ホスト上でソースアドレスのマスカレード(SNAT)を使用するセットアップは、ほとんどの場合動作<strong>しません</strong>。</td>
</tr></table>
</div>
<div class="paragraph">
<p>Conntrackは、個々の接続を追跡することでステートフルファイアウォールを有効にするLinuxカーネルのメカニズムです。実行中のVMをライブマイグレーションする場合、VMがターゲットホスト上で実行を開始すると同時に、アクティブなイン/アウトバウンド接続が中断される<strong>可能性があります</strong>。</p></div>
<div class="paragraph">
<p>Conntrack状態移行は、ライブ移行されたVMのホスト上の全てのConntrackエントリをターゲットノードにコピーし、その後移行元ノードのConntrackテーブルから移行されたエントリをフラッシュします。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_offline_migration">
<span>オフラインマイグレーション</span> <a class="headerlink" href="#_offline_migration" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>ローカルにリソースがある場合でも、両方のホストに定義されたストレージにすべてのディスクがある限り、VMをオフラインでマイグレーションすることができます。 その後、マイグレーションはオンラインマイグレーションと同様に、ネットワーク経由でターゲットホストにディスクをコピーします。ハードウェアパススルーの設定は、ターゲットホストのデバイスの場所に合わせる必要があるかもしれないことに注意してください。</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_copy_and_clone">
コピーとクローン<a class="headerlink" href="#qm_copy_and_clone" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<a class="image" href="images/screenshot/gui-qemu-full-clone.png">
<img src="images/screenshot/gui-qemu-full-clone.png" alt="screenshot/gui-qemu-full-clone.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>VMのインストールは通常、オペレーティングシステムのベンダから提供されるインストー ルメディア（CD-ROM）を使用して行われます。OSによっては、これは避けたい時間のかかる作業です。</p></div>
<div class="paragraph">
<p>同じタイプのVMを多数デプロイする簡単な方法は、既存のVMをコピーすることです。このようなコピーには<em>クローンという</em>用語を使用し、<em>リンククローンと</em> <em>フルクローンを</em>区別します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
フルクローン</dt>
<dd>
<p>
このようなコピーの結果は、独立したVMです。新しいVMは元のVMとストレージリソースを共有しません。</p>
<div class="paragraph">
<p><strong>ターゲットストレージを</strong>選択することができますので、VM を全く別のストレージに移行することができます。ストレージドライバが複数のフォーマットをサポートしている場合は、ディスクイメージの<strong>フォーマットを</strong>変更することもできます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">完全クローンは、すべての VM イメージデータを読み込んでコピーする必要があります。これは通常、リンクされたクローンを作成するよりもはるかに遅いです。</td>
</tr></table>
</div>
<div class="paragraph">
<p>ストレージの種類によっては、特定の<strong>スナップショットを</strong>コピーすることができます。これはまた、最終的なコピーに元のVMからの追加スナップショットが含まれないことを意味します。</p></div>
</dd>
<dt class="hdlist1">
リンククローン</dt>
<dd>
<p>
最近のストレージ・ドライバは、リンクされたクローンを高速に生成する方法をサポートしています。このようなクローンは書き込み可能なコピーで、初期コンテンツは元のデータと同じです。リンクされたクローンの作成はほぼ瞬時に行われ、最初は追加の領域を消費しません。</p>
<div class="paragraph">
<p>新しいイメージはまだオリジナルを参照しているため、これらは<em>リンクされて</em>いると呼ばれます。変更されていないデータ・ブロックは元のイメージから読み込まれますが、変更は新しい場所から書き込まれます（その後、読み込まれます）。この手法は<em>コピー・オン・ライトと</em>呼ばれます。</p></div>
<div class="paragraph">
<p>これには、元のボリュームが読み取り専用であることが必要です。Proxmox VEを使用すると、任意のVMを読み取り専用の<a href="qm.1.html#qm_templates"> テンプレートに</a>変換できます。このようなテンプレートは、後でリンクされたクローンを効率的に作成するために使用できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">リンクされたクローンが存在する間は、元のテンプレートを削除することはできません。</td>
</tr></table>
</div>
<div class="paragraph">
<p>リンクされたクローンの<strong>ターゲットストレージを</strong>変更することはできません。</p></div>
</dd>
</dl></div>
<div class="paragraph">
<p><strong>ターゲット・ノード・</strong>オプションを使用すると、異なるノード上に新しいVMを作成できます。唯一の制限は、VMが共有ストレージ上にあり、そのストレージがターゲット・ノードでも利用可能であることです。</p></div>
<div class="paragraph">
<p>リソースの競合を避けるため、ネットワーク・インターフェイスのMACアドレスはすべてランダム化され、VMのBIOS（smbios1）設定用に新しい<em>UUIDが</em>生成されます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="qm_templates">
仮想マシンテンプレート<a class="headerlink" href="#qm_templates" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>VMをテンプレートに変換することができます。このようなテンプレートは読み取り専用で、リンクされたクローンを作成するために使用できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">ディスクイメージを変更することになるため、テンプレートを起動することはできません。テンプレートを変更したい場合は、リンクされたクローンを作成し、それを変更してください。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vm_generation_id">
VM ジェネレーション ID<a class="headerlink" href="#_vm_generation_id" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Proxmox VEは、仮想マシンのVirtual Machine Generation ID<em>(vmgenid</em>)<span class="footnote"><br>[Official<em>vmgenid</em>Specification<a href="https://docs.microsoft.com/en-us/windows/desktop/hyperv_v2/virtual-machine-generation-identifier">https://docs.microsoft.com/en-us/windows/desktop/hyperv_v2/virtual-machine-generation-identifier]</a><br></span>をサポートしています。これは、ゲストオペレーティングシステムが、バックアップやスナップショットのロールバックなどのタイムシフトイベントを検出するために使用できます。</p></div>
<div class="paragraph">
<p>新しいVMを作成すると、<em>vmgenidが</em>自動的に生成され、設定ファイルに保存されます。</p></div>
<div class="paragraph">
<p>すでに存在するVMに<em>vmgenidを</em>作成して追加するには、特別な値'1'を渡してProxmox VEに自動生成させるか、<em>UUID</em><span class="footnote"><br>[Online GUID generator<a href="http://guid.one/">http://guid.one/]</a><br></span>を値として使用するなどして手動で設定します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -vmgenid 1 # qm set VMID -vmgenid 00000000-0000-0000-000000000000</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">既存のVMに<em>vmgenid</em>デバイスを最初に追加すると、スナップショットのロールバックやバックアップのリストアなどで、VMがこれを世代の変更と解釈するため、変更と同じ効果が生じる可能性があります。</td>
</tr></table>
</div>
<div class="paragraph">
<p><em>vmgenid</em>メカニズムが不要な場合は、VM作成時にその値に'0'を渡すか、またはコンフィギュレーションでそのプロパティを遡及的に削除します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -delete vmgenid</pre>
</div></div>
<div class="paragraph">
<p><em>vmgenidの</em>最も顕著なユースケースは、新しいMicrosoft Windowsオペレーティングシステムで、スナップショットのロールバック、バックアップのリストア、またはVM全体のクローン操作で、時間の影響を受けやすい、またはレプリケートサービス（データベースやドメインコントローラ<span class="footnote"><br>[https://docs.microsoft.com/en-us/windows-server/identity<a href="https://docs.microsoft.com/en-us/windows-server/identity/ad-ds/get-started/virtual-dc/virtualized-domain-controller-architecture">/ad-ds/get-started/virtual-dc/virtualized-domain-controller-architecture]</a><br></span> など）の問題を回避するために使用されます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="qm_import_virtual_machines">
仮想マシンのインポート<a class="headerlink" href="#qm_import_virtual_machines" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>海外のハイパーバイザーや他のProxmox VEクラスタから既存の仮想マシンをインポートするには、さまざまな方法があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
ESXi の特殊ストレージが提供するような<em>インポート・コンテンツ・タイプを</em>利用するネイティブ・インポート・ウィザードの使用。</p>
</li>
<li>
<p>
移行元でバックアップを実行し、移行先でリストアする方法。この方法は、別の Proxmox VE インスタンスから移行する場合に最適です。</p>
</li>
<li>
<p>
<span class="monospaced">qm</span>コマンドラインツールの OVF 専用インポートコマンドを使用します。</p>
</li>
</ul></div>
<div class="paragraph">
<p>他のハイパーバイザーからProxmox VEにVMをインポートする場合は、<a href="https://pve.proxmox.com/wiki/Migrate_to_Proxmox_VE#Concepts">Proxmox VEの概念に</a>慣れることをお勧めします。</p></div>
<div class="sect2">
<h3 id="_import_wizard">
<span>インポートウィザード</span> <a class="headerlink" href="#_import_wizard" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-import-wizard-general.png">
<img src="images/screenshot/gui-import-wizard-general.png" alt="screenshot/gui-import-wizard-general.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>Proxmox VEは、APIとWebベースのユーザーインターフェイスにネイティブに統合するために、ストレージプラグインシステムを使用した統合VMインポーターを提供します。これを使用してVMを全体としてインポートし、そのコンフィグのほとんどをProxmox VEのコンフィグモデルにマッピングし、ダウンタイムを削減することができます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">インポートウィザードはProxmox VE 8.2の開発サイクルで追加されたもので、技術プレビューの状態です。すでに有望で安定して動作していますが、まだアクティブな開発中です。</td>
</tr></table>
</div>
<div class="paragraph">
<p>インポートウィザードを使用するには、まず新しいストレージをインポートソースとして設定する必要があります。</p></div>
<div class="paragraph">
<p>次に、リソースツリーで新しいストレージを選択し、<em>Virtual Guests</em>コンテンツタブを使用して、インポート可能なすべてのゲストを表示できます。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-import-wizard-advanced.png">
<img src="images/screenshot/gui-import-wizard-advanced.png" alt="screenshot/gui-import-wizard-advanced.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>1つを選択し、［<em>インポート］</em>ボタン（またはダブルクリック）を使用してインポートウィザードを開きます。ここで利用可能なオプションのサブセットを変更してから、インポートを開始できます。インポートが完了した後、さらに詳細な修正を行うことができます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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" />
</td>
<td class="content">ESXi インポートウィザードは ESXi バージョン 6.5 から 8.0 でテストされています。vSAN ストレージを使用しているゲストは、直接インポートできないことに注意してください。インポート元として vCenter を使用することは可能ですが、パフォーマンスは劇的に低下します（5 ～ 10 倍遅くなります）。</td>
</tr></table>
</div>
<div class="paragraph">
<p>仮想ゲストを新しいハイパーバイザーに適応させる方法のステップバイステップのガイドとヒントについては、<a href="https://pve.proxmox.com/wiki/Migrate_to_Proxmox_VE#Migration">Proxmox VE へのマイグレーションの wiki 記事を</a>参照してください。</p></div>
<div class="sect3">
<h4 id="_ova_ovf_import">OVA/OVF インポート<a class="headerlink" href="#_ova_ovf_import" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>OVA/OVFファイルをインポートするには、まず、<em>インポートコンテンツタイプを</em>持つファイルベースのストレージが必要です。このストレージには<em>インポートフォルダが</em>あり、OVA ファイルまたは OVF ファイルと対応するイメージをフラット構造で置くことができます。 また、Web UI を使用して OVA ファイルを直接アップロードまたはダウンロードすることもできます。 その後、Web UI を使用してこれらのファイルを選択し、インポートウィザードを使用してゲストをインポートできます。</p></div>
<div class="paragraph">
<p>OVAファイルの場合、一時的にイメージを抽出するために必要な領域が追加されます。これには、<em>イメージの</em>コンテンツタイプが設定されたファイルベースのストレージが必要です。デフォルトでは、このためにソースストレージが選択されていますが、実際のターゲットストレージにインポートする前にイメージを抽出する<em>インポートワーキングストレージを</em>指定することができます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">OVA/OVF ファイル構造とコンテンツは、必ずしも十分に保守または定義されているわけではないため、いくつかのゲスト設定を手動で適合させる必要がある場合があります。例えば、SCSI コントローラタイプは OVA/OVF ファイルではほとんど定義されていませんが、デフォルトでは OVMF (UEFI) で起動できません。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_import_ovf_ova_through_cli">
<span>CLI による OVF/OVA のインポート</span> <a class="headerlink" href="#_import_ovf_ova_through_cli" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>海外のハイパーバイザーからのVMエクスポートは通常、VMの設定（RAM、コア数）を記述した設定ファイルとともに、1つまたは複数のディスクイメージの形式をとります。<br>
ディスク・イメージは、ディスクがVMwareまたはVirtualBoxの場合はvmdk形式、ディスクがKVMハイパーバイザーの場合はqcow2形式になります。 VMエクスポートで最も一般的な設定フォーマットはOVF標準ですが、多くの設定が標準自体で実装されておらず、ハイパーバイザーが非標準の拡張子で補足情報をエクスポートするため、実際には相互運用が制限されます。</p></div>
<div class="paragraph">
<p>フォーマットの問題に加えて、エミュレートされるハードウェアがハイパーバイザーごとに大きく変わると、他のハイパーバイザーからのディスクイメージのインポートに失敗することがあります。WindowsのVMは、OSがハードウェアの変更に非常にうるさいため、この問題を特に懸念しています。この問題は、エクスポート前にインターネットから入手可能なMergeIDE.zipユーティリティをインストールし、インポートしたWindows VMを起動する前にハードディスクのタイプを<strong>IDEに</strong>選択することで解決できます。</p></div>
<div class="paragraph">
<p>最後に、エミュレートされたシステムの速度を向上させ、ハイパーバイザーに特化した準仮想化ドライバーの問題があります。 GNU/Linuxやその他のフリーのUnix OSには、デフォルトで必要なドライバーがすべてインストールされており、VMをインポートした直後に準仮想化ドライバーに切り替えることができます。Windows VMの場合は、Windows準仮想化ドライバを自分でインストールする必要があります。</p></div>
<div class="paragraph">
<p>GNU/Linuxやその他のフリーUnixは通常、問題なくインポートできます。上記の問題があるため、Windows VMのインポート/エクスポートがすべてのケースで成功することを保証するものではありません。</p></div>
<div class="sect3">
<h4 id="_step_by_step_example_of_a_windows_ovf_import">Windows OVFインポートのステップバイステップ例<a class="headerlink" href="#_step_by_step_example_of_a_windows_ovf_import" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>Microsoft 社は、Windows 開発を開始するための<a href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">仮想マシンのダウンロードを</a>提供しています。</p></div>
<div class="sect4">
<h5 id="_download_the_virtual_machine_zip">仮想マシンのzipをダウンロード<a class="headerlink" href="#_download_the_virtual_machine_zip" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>ユーザー同意書について説明を受けた後、VMwareプラットフォーム用の<em>Windows 10 Enterprise（評価版</em>）を選択し、zipをダウンロードします。</p></div>
</div>
<div class="sect4">
<h5 id="_extract_the_disk_image_from_the_zip">zipからディスクイメージを展開します<a class="headerlink" href="#_extract_the_disk_image_from_the_zip" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p><span class="monospaced">unzip</span>ユーティリティまたは任意のアーカイバを使用してzipを解凍し、ssh/scp経由でovfファイルとvmdkファイルをProxmox VEホストにコピーします。</p></div>
</div>
<div class="sect4">
<h5 id="_import_the_virtual_machine">仮想マシンのインポート<a class="headerlink" href="#_import_the_virtual_machine" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>これにより、OVFマニフェストから読み取ったコア、メモリ、VM名を使用して新しい仮想マシンが作成され、ディスクが<span class="monospaced">local-lvm</span>ストレージにインポートされます。ネットワークは手動で設定する必要があります。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm importovf 999 WinDev1709Eval.ovf local-lvm</pre>
</div></div>
<div class="paragraph">
<p>VMを起動する準備ができました。</p></div>
</div>
<div class="sect4">
<h5 id="_adding_an_external_disk_image_to_a_virtual_machine">仮想マシンへの外部ディスクイメージの追加<a class="headerlink" href="#_adding_an_external_disk_image_to_a_virtual_machine" title="Permalink to this heading"></a></h5>
<div class="paragraph">
<p>既存のディスクイメージを VM に追加することもできます。</p></div>
<div class="paragraph">
<p><em>vmdebootstrap</em>ツールで Debian/Ubuntu ディスクイメージを作成したとします：</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>vmdebootstrap --verbose \ --size 10GiB --serial-console ˶ --grub --no-extlinux ˶ --package openssh-server ˶ --package avahi-daemon ˶ --package qemu-guest-agent ˶ --hostname vm600 --enable-dhcp ˶ --customize=./copy_pub_ssh.sh ˶ --sparse --image vm600.raw</pre>
</div></div>
<div class="paragraph">
<p>これで新しいターゲット VM を作成し、イメージをストレージ<span class="monospaced">pvedir</span>にインポートして VM の SCSI コントローラにアタッチすることができます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm create 600 --net0 virtio,bridge=vmbr0 --name vm600 --serial0 socket  \ --boot order=scsi0 --scsihw virtio-scsi-pci --ostype l26 ˶ --scsi0 pvedir:0,import-from=/path/to/dir/vm600.raw</pre>
</div></div>
<div class="paragraph">
<p>VMを起動する準備ができました。</p></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_cloud_init">
クラウドイットサポート<a class="headerlink" href="#qm_cloud_init" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://cloudinit.readthedocs.io">Cloud-Init</a>は仮想マシンインスタンスの初期化を処理する事実上の複数配布パッケージです。Cloud-Init を使用すると、ハイパーバイザー側でネットワークデバイスや ssh キーの設定が可能です。VM が初めて起動すると、VM 内部の Cloud-Init ソフトウェアがこれらの設定を適用します。</p></div>
<div class="paragraph">
<p>多くのLinuxディストリビューションは、すぐに使えるCloud-Initイメージを提供しています。これらのイメージはProxmox VEでも動作します。このようなすぐに使えるイメージを入手するのは便利かもしれませんが、通常は自分でイメージを準備することをお勧めします。その利点は、何をインストールしたかを正確に知ることができ、後で自分のニーズに合わせてイメージを簡単にカスタマイズできることです。</p></div>
<div class="paragraph">
<p>このようなCloud-Initイメージを作成したら、それをVMテンプレートに変換することをお勧めします。VMテンプレートからリンクされたクローンを素早く作成できるので、これは新しいVMインスタンスを展開するための迅速な方法です。新しいVMを起動する前にネットワーク（と多分sshキー）を設定する必要があるだけです。</p></div>
<div class="paragraph">
<p>Cloud-InitによってプロビジョニングされたVMにログインするには、SSHキーベースの認証を使用することをお勧めします。パスワードを設定することも可能ですが、Proxmox VEはCloud-Initデータ内に暗号化されたパスワードを保存する必要があるため、SSHキーベースの認証ほど安全ではありません。</p></div>
<div class="paragraph">
<p>Proxmox VEはCloud-InitデータをVMに渡すためにISOイメージを生成します。通常、シリアルコンソールを追加してディスプレイとして使用します。多くのCloud-Initイメージはこれに依存しており、これはOpenStackの要件です。しかし、他のイメージではこの設定に問題があるかもしれません。シリアルコンソールを使ってもうまくいかない場合は、デフォルトの表示設定に戻してください。</p></div>
<div class="sect2">
<h3 id="_preparing_cloud_init_templates">
<span>Cloud-Init テンプレートの準備</span> <a class="headerlink" href="#_preparing_cloud_init_templates" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>最初のステップはVMの準備です。準備したい<strong>VMに</strong>Cloud-Initパッケージをインストールするだけです。Debian/Ubuntuベースのシステムでは、これはとても簡単です：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>apt-get install cloud-init</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">このコマンドはProxmox VEホスト上で実行する<strong>ものではなく</strong>、VM内部で実行するものです。</td>
</tr></table>
</div>
<div class="paragraph">
<p>すでに多くのディストリビューションがすぐに使えるCloud-Initイメージ（<span class="monospaced">.qcow2</span>ファイルとして提供）を提供しているので、そのようなイメージをダウンロードしてインポートすることもできます。以下の例では、Ubuntu が<a href="https://cloud-images.ubuntu.com">https://cloud-images.ubuntu.com</a> で提供しているクラウドイメージを使用します<a href="https://cloud-images.ubuntu.com">。</a></p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># イメージのダウンロード wget https://cloud-images.ubuntu.com/bionic/current/bionic-server-cloudimg-amd64.img # VirtIO SCSI コントローラで新しい VM を作成 qm create 9000 --memory 2048 --net0 virtio,bridge=vmbr0 --scsihw virtio-scsi-pci # ダウンロードしたディスクを local-lvm ストレージにインポートし、SCSI ドライブとしてアタッチ qm set 9000 --scsi0 local-lvm:0,import-from=/path/to/bionic-server-cloudimg-amd64.img</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">Ubuntu Cloud-Init イメージでは、SCSI ドライブ用に<span class="monospaced">virtio-scsi-pci</span>コントローラタイプが必要です。</td>
</tr></table>
</div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-cloudinit-hardware.png">
<img src="images/screenshot/gui-cloudinit-hardware.png" alt="screenshot/gui-cloudinit-hardware.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<div class="title">Cloud-InitのCD-ROMドライブの追加</div><p>次のステップは、Cloud-InitデータをVMに渡すために使用するCD-ROMドライブを設定することです。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --ide2 local-lvm:cloudinit</pre>
</div></div>
<div class="paragraph">
<p>Cloud-Initイメージから直接ブートできるように、<span class="monospaced">ブートパラメータを</span> <span class="monospaced">order=scsi0に</span>設定して、BIOSがこのディスクからのみブートするように制限します。これにより、VM BIOS はブート可能な CD-ROM のテストをスキップするため、ブートが高速化されます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --boot order=scsi0</pre>
</div></div>
<div class="paragraph">
<p>多くのCloud-Initイメージでは、シリアルコンソールを設定してディスプレイとして使用する必要があります。しかし、その設定が特定のイメージで機能しない場合は、代わりにデフォルトのディスプレイに切り替えてください。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --serial0 socket --vga serial0</pre>
</div></div>
<div class="paragraph">
<p>最後のステップとして、VMをテンプレートに変換しておくと便利です。VMテンプレートからのデプロイは、完全なクローン（コピー）を作成するよりもはるかに高速です。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm テンプレート 9000</pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_deploying_cloud_init_templates">
<span>Cloud-Init テンプレートのデプロイ</span> <a class="headerlink" href="#_deploying_cloud_init_templates" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-cloudinit-config.png">
<img src="images/screenshot/gui-cloudinit-config.png" alt="screenshot/gui-cloudinit-config.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>このようなテンプレートはクローン化することで簡単にデプロイできます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm clone 9000 123 --name ubuntu2</pre>
</div></div>
<div class="paragraph">
<p>次に、認証に使用するSSH公開鍵を設定し、IP設定を行います：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 123 --sshkey ~/.ssh/id_rsa.pub qm set 123 --ipconfig0 ip=10.0.10.123/24,gw=10.0.10.1</pre>
</div></div>
<div class="paragraph">
<p>また、Cloud-Initの全オプションを1つのコマンドだけで設定することもできます。上記の例では、行数を減らすためにコマンドを単純に分割しています。また、特定の環境に IP セットアップを採用するようにしてください。</p></div>
</div>
<div class="sect2">
<h3 id="_custom_cloud_init_configuration">
<span>カスタムCloud-Init構成</span> <a class="headerlink" href="#_custom_cloud_init_configuration" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Cloud-Initの統合では、自動生成された設定の代わりにカスタム設定ファイルを使用することもできます。これはコマンドラインの<span class="monospaced">cicustom</span>オプションで行います：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --cicustom "user=&lt;volume&gt;,network=&lt;volume&gt;,meta=&lt;volume&gt;"</pre>
</div></div>
<div class="paragraph">
<p>カスタム設定ファイルはスニペットをサポートするストレージ上にあり、VMを移行するすべてのノードで利用可能でなければなりません。そうでないと、VMは起動できません：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --cicustom "user=local:snippets/userconfig.yaml"</pre>
</div></div>
<div class="paragraph">
<p>Cloud-Initには3種類のコンフィグがあります。1つ目は上の例にあるように<span class="monospaced">ユーザー</span>設定です。2つ目は<span class="monospaced">ネットワークコンフィグ</span>、3つ目は<span class="monospaced">メタコンフィグ</span>です。カスタムコンフィグファイルが指定されていない場合は、自動生成されたコンフィグが使われます。</p></div>
<div class="paragraph">
<p>生成されたコンフィグはカスタムコンフィグのベースとしてダンプすることができます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm cloudinit dump 9000 user</pre>
</div></div>
<div class="paragraph">
<p>同じコマンドが<span class="monospaced">network</span>と<span class="monospaced">meta</span> にもあります。</p></div>
</div>
<div class="sect2">
<h3 id="_cloud_init_on_windows">
<span>Windows での Cloud-Init</span> <a class="headerlink" href="#_cloud_init_on_windows" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p><a href="https://cloudbase.it/">Cloudbase-initという</a>Windows用のCloud-Initの再実装があります。Cloudbase-Initの全ての機能がCloudbase-Initで利用できるわけではありません。</p></div>
<div class="paragraph">
<p>Cloudbase-Initは<span class="monospaced">ostypeを</span>Windowsのバージョンに設定し、<span class="monospaced">citypeを</span>Windowsの<span class="monospaced">ostypeの</span>デフォルトである<span class="monospaced">configdrive</span>2に設定する必要があります。</p></div>
<div class="paragraph">
<p>Windows用の既製のクラウドイメージは無料で入手できません。Cloudbase-Initを使うにはWindowsゲストを手動でインストールして設定する必要があります。</p></div>
</div>
<div class="sect2">
<h3 id="_preparing_cloudbase_init_templates">
<span>Cloudbase-Initテンプレートの準備</span> <a class="headerlink" href="#_preparing_cloudbase_init_templates" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>最初のステップはVMにWindowsをインストールすることです。Cloudbase-Initをダウンロードしてゲストにインストールします。インストールの最後にSysprepを実行しないでください。代わりにCloudbase-Initを最初に設定します。</p></div>
<div class="paragraph">
<p>いくつかの一般的なオプションを設定します：</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>username</em>: 管理者のユーザー名を設定します。</p>
</li>
<li>
<p>
<em>groups</em>: 管理者のユーザー<em>名を</em>設定します：これにより、ユーザーを<span class="monospaced">Administrators</span>グループに追加できます。</p>
</li>
<li>
<p>
<em>inject_user_password</em>: これを<span class="monospaced">true</span>に設定すると、VM 設定でパスワードを設定できるようになります。</p>
</li>
<li>
<p>
<em>first_logon_behaviour</em>：ログイン時に新しいパスワードを要求しないようにするには<span class="monospaced">noに</span>設定します</p>
</li>
<li>
<p>
<em>rename_admin_user</em>これを<span class="monospaced">trueに</span>設定すると、デフォルトの<span class="monospaced">管理者</span>ユーザーを<span class="monospaced">usernameで</span>指定したユーザー名に変更できます。</p>
</li>
<li>
<p>
<em>metadata_services</em><span class="monospaced">cloudbaseinit.metadata.services.configdrive.ConfigDriveServiceに</span>設定します。そうしないと Cloudbase-Init がブート後にシステムを設定するのに数分かかることがあります。</p>
</li>
</ul></div>
<div class="paragraph">
<p>プラグインの中には、例えば SetHostnamePlugin のように再起動が必要で、自動的に再起動するものもあります。Cloudbase-Initによる自動再起動を無効にするには、<span class="monospaced">allow_rebootを</span> <span class="monospaced">falseに</span>設定します。</p></div>
<div class="paragraph">
<p>設定オプションの完全なセットは<a href="https://cloudbase-init.readthedocs.io/en/latest/config.html">cloudbase-init の公式ドキュメントに</a>あります。</p></div>
<div class="paragraph">
<p>設定後にスナップショットを作成するのは、設定の一部にまだ調整が必要な場合に役立ちます。 Cloudbase-Initの設定後、テンプレートの作成を開始できます。Windowsゲストをシャットダウンし、Cloud-Initディスクを追加してテンプレートにします。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 9000 --ide2 local-lvm:cloudinit qm template 9000</pre>
</div></div>
<div class="paragraph">
<p>テンプレートを新しいVMにクローンします：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm clone 9000 123 --name windows123</pre>
</div></div>
<div class="paragraph">
<p>次にパスワード、ネットワーク設定、SSHキーを設定します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set 123 --cipassword &lt;password&gt; qm set 123 --ipconfig0 ip=10.0.10.123/24,gw=10.0.10.1 qm set 123 --sshkey ~/.ssh/id_rsa.pub</pre>
</div></div>
<div class="paragraph">
<p>パスワードを設定する前に、<span class="monospaced">ostypeが</span>任意のWindowsバージョンに設定されていることを確認してください。そうしないとパスワードが暗号化され、Cloudbase-Initは暗号化されたパスワードを平文パスワードとして使用します。</p></div>
<div class="paragraph">
<p>全ての設定が完了したら、クローンゲストを起動します。最初の起動ではログインは機能せず、変更されたホスト名で自動的に再起動します。 再起動後、新しいパスワードが設定され、ログインが機能するはずです。</p></div>
</div>
<div class="sect2">
<h3 id="_cloudbase_init_and_sysprep">
<span>Cloudbase-Init と Sysprep</span> <a class="headerlink" href="#_cloudbase_init_and_sysprep" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>Sysprep は Windows の設定をリセットして<span class="monospaced">新しい</span>システムを提供する機能です。これはCloudbase-Initと一緒に使ってクリーンなテンプレートを作成することができます。</p></div>
<div class="paragraph">
<p>Sysprepを使う場合、適応させる必要がある設定ファイルが2つあります。 1つ目は通常の設定ファイル、2つ目は<span class="monospaced">-unattend.confで</span>終わるファイルです。</p></div>
<div class="paragraph">
<p>Cloudbase-Initは2つのステップで実行され、最初に<span class="monospaced">-unattend.confを</span>使用するSysprepステップ、次にプライマリ設定ファイルを使用する通常ステップとなります。</p></div>
<div class="paragraph">
<p><span class="monospaced">Windows Serverでは</span>、提供されている<span class="monospaced">Unattend.xml</span>ファイルを使ってSysprepを実行すれば、すぐに動作するはずです。しかし、通常のWindowsバージョンでは、追加の手順が必要です：</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
PowerShellインスタンスを開きます</p>
</li>
<li>
<p>
Administrator ユーザーを有効にします：</p>
<div class="listingblock">
<div class="content monospaced">
<pre>net user Administrator /active:yes`</pre>
</div></div>
</li>
<li>
<p>
Administratorユーザを使ってCloudbase-Initをインストールします。</p>
</li>
<li>
<p>
<span class="monospaced">Unattend.xmlを</span>変更し、sysprepping後の最初のブートでAdministratorユーザーを有効にするコマンドを含めます：</p>
<div class="listingblock">
<div class="content monospaced">
<pre>&lt;RunSynchronousCommand wcm:action="add"&gt; &lt;Path&gt;net user administrator /active:yes&lt;/Path&gt; &lt;Order&gt;1&lt;/Order&gt; &lt;Description&gt;管理者ユーザーを有効にします&lt;/Description&gt; &lt;/RunSynchronousCommand&gt; &lt;RunSynchronousCommand</pre>
</div></div>
<div class="paragraph">
<p><span class="monospaced">&lt;Order</span> <span class="monospaced">&gt;が</span>他の同期コマンドと競合しないことを確認してください。 Cloudbase-Initコマンドの<span class="monospaced">&lt;Order&gt;を</span>このコマンドの後に実行するように変更します。</p></div>
</li>
<li>
<p>
(Windows 11のみ) 競合するMicrosoft.OneDriveSyncパッケージを削除します：</p>
<div class="listingblock">
<div class="content monospaced">
<pre>Get-AppxPackage -AllUsers Microsoft.OneDriveSync | Remove-AppxPackage -AllUsers</pre>
</div></div>
</li>
<li>
<p>
<span class="monospaced">cd で</span>Cloudbase-Init config ディレクトリに移動します：</p>
<div class="listingblock">
<div class="content monospaced">
<pre>cd 'C:¥Program Files¥Cloudbase Solutions¥Cloudbase-Init¥conf</pre>
</div></div>
</li>
<li>
<p>
(オプション)設定ミスに備えて、Sysprep前にVMのスナップショットを作成します。</p>
</li>
<li>
<p>
Sysprepを実行します：</p>
<div class="listingblock">
<div class="content monospaced">
<pre>C:¥Windows¥System32¥Sysprep¥Sysprep.exe /generalize /oobe /unattend:Unattend.xml</pre>
</div></div>
</li>
</ol></div>
<div class="paragraph">
<p>上記の手順を実行すると、SysprepによってVMがシャットダウン状態になるはずです。これで、VMをテンプレート化してクローンし、必要に応じて設定することができます。</p></div>
</div>
<div class="sect2">
<h3 id="_cloud_init_specific_options">
<span>Cloud-Init 固有のオプション</span> <a class="headerlink" href="#_cloud_init_specific_options" title="Permalink to this heading"></a></h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">cicustom</span>[<span class="monospaced">meta=&lt;volume&gt;] [,network=&lt;volume&gt;] [,user=&lt;volume&gt;] [,vendor=&lt;volume&gt;</span>] とします。</dt>
<dd>
<p>
起動時に自動生成されるファイルを置き換えるカスタムファイルを指定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">meta</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
cloud-init経由でVMに渡されるすべてのメタデータを含むカスタムファイルを指定します。これはプロバイダ固有なので、configdrive2とnocloudは異なります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">network</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
すべてのネットワークデータを含むカスタムファイルをcloud-init経由でVMに渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">user</span><span class="monospaced">=&lt;</span><span class="monospaced">ボリューム</span></dt>
<dd>
<p>
すべてのユーザーデータを含むカスタムファイルをcloud-init経由でVMに渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ベンダー</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
すべてのベンダーデータを含むカスタムファイルをcloud-init経由でVMに渡します。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">cipassword</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ユーザに割り当てるパスワード。これを使用することは一般的に推奨されません。代わりにsshキーを使用してください。また、古いバージョンのcloud-initはハッシュ化されたパスワードをサポートしていないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">citype</span>:<span class="monospaced">&lt;configdrive2 | nocloud | opennebula&gt;</span>です。</dt>
<dd>
<p>
cloud-init の設定フォーマットを指定します。デフォルトは設定されているオペレーティングシステムの種類<span class="monospaced">（ostype</span>.Linuxの場合は<span class="monospaced">nocloud</span>形式、Windowsの場合は<span class="monospaced">configdrive2を</span>使います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ciupgrade</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
最初の起動後にパッケージの自動アップグレードを行います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ciuser</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
イメージに設定されているデフォルトユーザーの代わりに、sshキーとパスワードを変更するユーザー名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ipconfig[n]</span>：[<span class="monospaced">gw=&lt;GatewayIPv4&gt;] [,gw6=&lt;GatewayIPv6&gt;] [,ip=&lt;IPv4Format/CIDR&gt;] [,ip6=&lt;IPv6Format/CIDR&gt;</span>] とします。</dt>
<dd>
<p>
対応するインターフェースのIPアドレスとゲートウェイを指定します。</p>
<div class="paragraph">
<p>IPアドレスはCIDR表記を使用し、ゲートウェイはオプションですが、同じタイプのIPを指定する必要があります。</p></div>
<div class="paragraph">
<p>特別な文字列<em>dhcpは</em>DHCPを使用するIPアドレスに使用でき、その場合は明示的なゲートウェイを提供する必要はありません。 IPv6の場合、特別な文字列<em>autoは</em>ステートレス自動設定を使用するために使用できます。これにはcloud-init 19.4以降が必要です。</p></div>
<div class="paragraph">
<p>cloud-initが有効でIPv4アドレスもIPv6アドレスも指定されていない場合、デフォルトではIPv4でdhcpを使用します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">gw=&lt;ゲートウェイ</span><span class="monospaced">IPv</span><span class="monospaced">4</span></dt>
<dd>
<p>
IPv4トラフィックのデフォルトゲートウェイ。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション：<span class="monospaced">ip</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">gw</span><span class="monospaced">6</span><span class="monospaced">=&lt;ゲートウェイIPv6</span></dt>
<dd>
<p>
IPv6トラフィックのデフォルトゲートウェイ。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション：<span class="monospaced">ip6</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">ip=&lt;IPv4Format/CIDR&gt;</span><em>(デフォルト =</em> <span class="monospaced">dhcp</span>)</dt>
<dd>
<p>
CIDR形式のIPv4アドレス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ip6=&lt;IPv6Format/CIDR&gt;</span><em>(デフォルト =</em> <span class="monospaced">dhcp</span>)</dt>
<dd>
<p>
CIDR形式のIPv6アドレス。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">ネームサーバー</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
コンテナの DNS サーバー IP アドレスを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">searchdomain</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
コンテナのDNS検索ドメインを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">sshkeys</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
公開 SSH 鍵を設定します（1 行に 1 つの鍵、OpenSSH 形式）。</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_pci_passthrough">
PCI(e) パススルー<a class="headerlink" href="#qm_pci_passthrough" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>PCI(e)パススルーはホストから仮想マシンにPCIデバイスの制御を与えるメカニズムです。これは、仮想化ハードウェアを使用するよりも、レイテンシが低い、パフォーマンスが高い、機能が多い（オフロードなど）などの利点があります。</p></div>
<div class="paragraph">
<p>しかし、デバイスを仮想マシンにパススルーすると、そのデバイスはホスト上でも他のVMでも使用できなくなります。</p></div>
<div class="paragraph">
<p>PCIパススルーはi440fxおよびq35マシンで利用可能ですが、PCIeパススルーはq35マシンのみで利用可能です。これは、PCIデバイスとしてパススルーされたPCIe対応デバイスがPCI速度でのみ動作することを意味するものではありません。PCIe としてデバイスを通過させることは、デバイスが "本当に高速なレガシー PCI デバイス" ではなく PCIe デバイスであることをゲストに伝えるためのフラグを設定するだけです。一部のゲストアプリケーションはこの恩恵を受けます。</p></div>
<div class="sect2">
<h3 id="_general_requirements">
<span>一般要件</span> <a class="headerlink" href="#_general_requirements" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>パススルーは実際のハードウェア上で実行されるため、いくつかの要件を満たす必要があります。具体的なデバイスの詳細については、<a href="https://pve.proxmox.com/wiki/PCI_Passthrough">PCIパススルーの例を</a>参照してください。</p></div>
<div class="sect3">
<h4 id="_hardware">ハードウェア<a class="headerlink" href="#_hardware" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ハードウェアが<span class="monospaced">IOMMU</span><strong>(</strong><strong>I/O</strong> <strong>Memory</strong> <strong>Management</strong><strong>Unit</strong>) 割り込みリマッピングをサポートしている必要があります。</p></div>
<div class="paragraph">
<p>一般的に、VT-d を搭載した Intel システムや AMD-Vi を搭載した AMD システムはこれをサポートしています。 しかし、ハードウェアの実装が悪かったり、ドライバが不足していたり、品質が低かったりするため、箱から出してすぐにすべてが動くという保証はありません。</p></div>
<div class="paragraph">
<p>さらに、サーバーグレードのハードウェアは、コンシューマーグレードのハードウェアよりもサポートが優れていることが多いのですが、それでも、最近のシステムの多くはこれをサポートしています。</p></div>
<div class="paragraph">
<p>Linuxでこの機能がサポートされているかどうかは、ハードウェアベンダーに問い合わせてください。</p></div>
</div>
<div class="sect3">
<h4 id="_determining_pci_card_address">PCIカードアドレスの決定<a class="headerlink" href="#_determining_pci_card_address" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>最も簡単な方法は、GUI を使用して、VM のハードウェア・タブに "Host PCI" タイプのデバイスを追加することです。または、コマンドラインを使用することもできます。</p></div>
<div class="paragraph">
<p>カードを見つけるには</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>lspci</pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_configuration">設定<a class="headerlink" href="#_configuration" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>ハードウェアがパススルーをサポートしていることを確認したら、PCI(e) パススルーを有効にするための設定を行う必要があります。</p></div>
<div class="paragraph">
<div class="title">IOMMU</div><p>BIOS/UEFI で IOMMU サポートを有効にする必要があります。通常、対応する設定は<span class="monospaced">IOMMU</span>または<span class="monospaced">VT-d</span> と呼ばれますが、正確なオプション名はマザーボードのマニュアルで見つけてください。</p></div>
<div class="paragraph">
<p>AMD CPU では IOMMU はデフォルトで有効になっています。最近のカーネル（6.8以降）では、Intel CPUでも同様です。古いカーネルでは、カーネルコマンドラインに次のコマンドを追加して、Intel CPU で有効にする必要があります：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>intel_iommu=on</pre>
</div></div>
<div class="paragraph">
<div class="title">IOMMU パススルーモード</div><p>ハードウェアが IOMMU パススルーモードをサポートしている場合、このモードを有効にするとパフォーマンスが向上する可能性があります。 これは、VM が通常ハイパーバイザによって実行される（デフォルトの）DMA 変換をバイパスし、代わりに DMA 要求をハードウェア IOMMU に直接渡すためです。これらのオプションを有効にするには、カーネルコマンドラインに</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>iommu=pt</pre>
</div></div>
<div class="paragraph">
<p>をカーネルコマンドラインに追加します。</p></div>
<div class="paragraph">
<div class="title">カーネルモジュール</div><p>以下のモジュールがロードされていることを確認する必要があります。これは、'<em>/etc/modules</em>' に追加することで実現できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">媒介デバイスパススルー</div>
<div class="paragraph">
<p>仲介デバイス（vGPUなど）を通過する場合は、以下は必要ありません。 このような場合、デバイスは適切なホストドライバによって直接所有されます。</p></div>
</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content monospaced">
<pre>vfio vfio_iommu_type1 vfio_pci</pre>
</div></div>
<div class="paragraph" id="qm_pci_passthrough_update_initramfs">
<p>モジュール関連を変更したら、<span class="monospaced">initramfsを</span>リフレッシュする必要があります。Proxmox VEでは、次のコマンドを実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># update-initramfs -u -k all</pre>
</div></div>
<div class="paragraph">
<p>モジュールがロードされているかどうかをチェックするには</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lsmod | grep vfio</pre>
</div></div>
<div class="paragraph">
<p>の出力には上記の4つのモジュールが含まれているはずです。</p></div>
<div class="paragraph">
<div class="title">設定の終了</div><p>最後に再起動して変更を有効にし、実際に有効になっていることを確認します。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># dmesg | grep -e DMAR -e IOMMU -e AMD-Vi</pre>
</div></div>
<div class="paragraph">
<p>ハードウェアやカーネルによっては、正確なメッセージが異なる場合があります。</p></div>
<div class="paragraph">
<p>IOMMUが意図したとおりに動作しているかどうかを確認する方法については、wikiの<a href="https://pve.proxmox.com/wiki/PCI_Passthrough#Verifying_IOMMU_parameters">IOMMUパラメータの検証</a>セクションを参照してください。</p></div>
<div class="paragraph">
<p>また、通過させたいデバイスが<strong>別の</strong> <span class="monospaced">IOMMU</span>グループに属していることも重要です。これは Proxmox VE API を呼び出すことで確認できます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># pvesh get /nodes/{nodename}/hardware/pci --pci-class-blacklist ""</pre>
</div></div>
<div class="paragraph">
<p>デバイスが、その機能（例えば、HDMIオーディオデバイスを持つGPU）またはそのルートポートまたはPCI(e)ブリッジと一緒に<span class="monospaced">IOMMU</span>グループにあれば問題ありません。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">PCI(e)スロット</div>
<div class="paragraph">
<p>プラットフォームによっては、物理的な PCI(e) スロットの扱いが異なります。そのため、希望の<span class="monospaced">IOMMU</span>グループ分離が得られない場合、カードを別の PCI(e) スロットに置くことが役立つことがあります。</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">安全でない割り込み</div>
<div class="paragraph">
<p><strong>etc/modprobe.d/の</strong>'.conf'で終わるファイルに以下の行を追加してください：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>オプション vfio_iommu_type1 allow_unsafe_interrupts=1</pre>
</div></div>
<div class="paragraph">
<p>このオプションはシステムを不安定にする可能性があることに注意してください。</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_gpu_passthrough_notes">GPUパススルーに関する注意事項<a class="headerlink" href="#_gpu_passthrough_notes" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>Proxmox VEのウェブインタフェースでNoVNCやSPICEを使ってGPUのフレームバッファを表示することはできません。</p></div>
<div class="paragraph">
<p>GPU全体またはvGPUを通過し、グラフィック出力が必要な場合は、カードにモニタを物理的に接続するか、ゲスト内でリモートデスクトップソフトウェア（例えば、VNCやRDP）を設定する必要があります。</p></div>
<div class="paragraph">
<p>GPU をハードウェアアクセラレータとして使用したい場合、たとえば OpenCL や CUDA を使用するプログラムでは、この必要はありません。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_host_device_passthrough">
<span>ホストデバイスパススルー</span> <a class="headerlink" href="#_host_device_passthrough" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>PCI(e)パススルーの最も一般的な方法は、GPUやネットワークカードなどのPCI(e)カード全体をパススルーすることです。</p></div>
<div class="sect3">
<h4 id="_host_configuration">ホスト構成<a class="headerlink" href="#_host_configuration" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>Proxmox VEは自動的にPCI(e)デバイスをホストで使用できないようにしようとしますが、これがうまくいかない場合、2つの方法があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>を</em>追加することで、<em>vfio-pci</em>モジュールのオプションにデバイス ID を渡します。</p>
<div class="listingblock">
<div class="content monospaced">
<pre>オプション vfio-pci ids=1234:5678,4321:8765</pre>
</div></div>
<div class="paragraph">
<p>ここで、<span class="monospaced">1234:5678</span>と<span class="monospaced">4321:8765</span>は、<strong>/etc/modprobe.d/</strong>の .conf ファイルで取得したベンダー ID とデバイス ID です：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lspci -nn</pre>
</div></div>
</li>
<li>
<p>
を追加して、デバイス ID を vfio-pci モジュールのオプションに渡します。</p>
<div class="listingblock">
<div class="content monospaced">
<pre>ブラックリスト DRIVERNAME</pre>
</div></div>
<div class="paragraph">
<p>ここで、1234:5678 と 4321:8765 は、<strong>/etc/modprobe.d/</strong> の .conf ファイルで次のようにして取得したベンダーとデバイスの ID です。</p></div>
<div class="paragraph">
<p>ドライバ名を見つけるには</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lspci -k</pre>
</div></div>
<div class="paragraph">
<p>を実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lspci -k | grep -A 3 "VGA"</pre>
</div></div>
<div class="paragraph">
<p>を実行すると、次のようなものが出力されます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>01:00.0 VGA 互換コントローラです：NVIDIA Corporation GP108 [GeForce GT 1030] (rev a1) サブシステム：サブシステム: Micro-Star International Co.[MSI] GP108 [GeForce GT 1030] 使用中のカーネルドライバ: &lt;some-module&gt; カーネルモジュール: &lt;some-module</pre>
</div></div>
<div class="paragraph">
<p>これで、ドライバを.confファイルに書き込んでブラックリスト化することができます：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>echo "blacklist &lt;some-module&gt;" &gt;&gt; /etc/modprobe.d/blacklist.conf</pre>
</div></div>
</li>
</ul></div>
<div class="paragraph">
<p>どちらの方法も、<a href="qm.1.html#qm_pci_passthrough_update_initramfs"> <span class="monospaced">initramfsを</span></a>再度<a href="qm.1.html#qm_pci_passthrough_update_initramfs">更新して</a>再起動する必要があります。</p></div>
<div class="paragraph">
<p>これがうまくいかない場合は、<em>vfio-pciを</em>ロードする前にgpuモジュールをロードするよう、ソフト依存関係を設定する必要があるかもしれません。これは<em>softdep</em>フラグで行えます。詳しくは<em>modprobe.dの</em>マニュアルページも参照してください。</p></div>
<div class="paragraph">
<p>例えば、&lt;some-module&gt;という名前のドライバを使っている場合です：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># echo "softdep &lt;some-module&gt; pre: vfio-pci" &gt;&gt; /etc/modprobe.d/&lt;some-module&gt;.conf。</pre>
</div></div>
<div class="paragraph">
<div class="title">設定の確認</div><p>変更がうまくいったか確認するには</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lspci -nnk</pre>
</div></div>
<div class="paragraph">
<p>を使い、デバイスエントリをチェックしてください。もし</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>使用中のカーネルドライバ: vfio-pci</pre>
</div></div>
<div class="paragraph">
<p>と書かれているか、<em>使用中の</em>行が完全になくなっていれば、そのデバイスはパススルーに使用する準備ができています。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">媒介デバイス</div>
<div class="paragraph">
<p>調停されたデバイスの場合、デバイスは<em>vfio-pci ではなく</em>、直接ホストドライバとして所有されるので、この行は異なります。</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="qm_pci_passthrough_vm_config">VM構成<a class="headerlink" href="#qm_pci_passthrough_vm_config" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>GPU をパススルーする場合、<em>q35</em>をマシンタイプとして使い、SeaBIOS の代わりに<em>OVMF</em><em>(</em>VMs 用<em>UEFI</em>)、PCI の代わりに PCIe を使うと最高の互換性が得られます。GPU パススルーに<em>OVMF を</em>使いたい場合、GPU が UEFI 対応の ROM を持っている必要があることに注意してください。ROM が UEFI に対応しているかチェックするには、<a href="https://pve.proxmox.com/wiki/PCI_Passthrough#How_to_know_if_a_graphics_card_is_UEFI_.28OVMF.29_compatible">PCI Passthrough Examples</a>wiki を見て下さい。</p></div>
<div class="paragraph">
<p>さらに、OVMF を使って vga のアービトレーションを無効にすることで、ブート時に実行するレガシーコードの量を減らすことができます。vgaアービトレーションを無効にするには</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>echo "options vfio-pci ids=&lt;vendor-id&gt;,&lt;device-id&gt; disable_vga=1" &gt; /etc/modprobe.d/vfio.conf</pre>
</div></div>
<div class="paragraph">
<p>を&lt;vendor-id&gt;と&lt;device-id&gt;に置き換えてください：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># lspci -nn</pre>
</div></div>
<div class="paragraph">
<p>PCIデバイスは、VMのハードウェア・セクションにあるウェブ・インターフェイスで追加できます。 また、コマンドラインを使用することもできます。VMコンフィギュレーションで<strong>hostpciX</strong>オプションを設定します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -hostpci0 00:02.0</pre>
</div></div>
<div class="paragraph">
<p>を実行するか、VM コンフィギュレーション・ファイルに行を追加します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>hostpci0: 00:02.0</pre>
</div></div>
<div class="paragraph">
<p>デバイスに複数のファンクション(例えば、'<span class="monospaced">00:02.0</span>'と'<span class="monospaced">00:02.1</span>')がある場合は、`00:02`という短縮構文でまとめて渡すことができます<em>。 これは</em>、ウェブ・インターフェイスの<em>`All Functions`</em>チェックボックスを<em>チェックするのと同じ</em>です。</p></div>
<div class="paragraph">
<p>デバイスとゲスト OS によって、必要なオプションがいくつかあります：</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>x-vga=on|off</strong>は PCI(e) デバイスを VM のプライマリ GPU としてマークします。 これを有効にすると、<strong>vga</strong>設定オプションは無視されます。</p>
</li>
<li>
<p>
<strong>pcie=on|offは</strong>PCIeまたはPCIポートを使用するようProxmox VEに指示します。ゲスト/デバイスの組み合わせによっては、PCIではなくPCIeを必要とします。PCIeは<em>q35</em>マシンタイプでのみ使用できます。</p>
</li>
<li>
<p>
<strong>rombar=on|off</strong>はファームウェア ROM をゲストに見えるようにします。デフォルトは on で、いくつかの PCI(e) デバイスはこれを無効にする必要があります。</p>
</li>
<li>
<p>
<strong>romfile=&lt;path&gt;</strong> は、デバイスが使用する ROM ファイルへのオプションパスです。 これは、<strong>/usr/share/kvm/</strong> 以下の相対パスです。</p>
</li>
</ul></div>
<div class="paragraph">
<div class="title">例</div><p>プライマリに設定された GPU での PCIe パススルーの例です：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -hostpci0 02:00,pcie=on,x-vga=on</pre>
</div></div>
<div class="paragraph">
<div class="title">PCI ID のオーバーライド</div><p>ゲストによって表示される PCI ベンダー ID、デバイス ID、およびサブシステム ID をオーバーライドできます。これは、デバイスがゲストのドライバが認識しない ID を持つバリアントであるにもかかわらず、それらのドライバを強制的にロードしたい場合に便利です (例えば、デバイスがサポートされるバリアントと同じチップセットを共有していることが分かっている場合など)。</p></div>
<div class="paragraph">
<p>利用可能なオプションは<span class="monospaced">vendor-id</span>、<span class="monospaced">device-id</span>、<span class="monospaced">sub-vendor-id</span>、<span class="monospaced">sub-device-id</span> です。デバイスのデフォルト ID を上書きするために、これらのどれか、あるいは全部を設定することができます。</p></div>
<div class="paragraph">
<p>例えば</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -hostpci0 02:00,device-id=0x10f6,sub-vendor-id=0x0000。</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_sr_iov">
<span>SR-IOV</span> <a class="headerlink" href="#_sr_iov" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>PCI(e)デバイスをパススルーするもう1つの方法は、デバイスのハードウェア仮想化機能（利用可能な場合）を使用することです。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">SR-IOVの有効化</div>
<div class="paragraph">
<p>SR-IOV を使うには、プラットフォームのサポートが特に重要です。最初に BIOS/UEFI でこの機能を有効にするか、特定の PCI(e) ポートを使う必要があるかもしれません。不明な場合は、プラットフォームのマニュアルを参照するか、ベンダーに問い合わせてください。</p></div>
</td>
</tr></table>
</div>
<div class="paragraph">
<p><em>SR-IOV</em><strong>(</strong><strong>Single-Root</strong><strong>Input/Output</strong> <strong>Virtualization</strong>) は、1 つのデバイスが複数の<em>VF</em><strong>(Virtual</strong> <strong>Functions</strong>) をシステムに提供することを可能にします。これらの<em>VFは</em>それぞれ異なるVMで使用することができ、完全なハードウェア機能を備え、ソフトウェア仮想化デバイスよりも優れたパフォーマンスと低レイテンシを実現します。</p></div>
<div class="paragraph">
<p>現在、最も一般的なユースケースはSR-IOVをサポートしたNIC<strong>（Network</strong><strong>Interface</strong> <strong>Card</strong>）で、物理ポートごとに複数のVFを提供することができます。これにより、チェックサム・オフロードなどの機能をVM内部で使用できるようになり、（ホストの）CPUオーバーヘッドを削減できます。</p></div>
<div class="sect3">
<h4 id="_host_configuration_2">ホスト構成<a class="headerlink" href="#_host_configuration_2" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>一般的に、デバイスで仮想関数を有効にするには 2 つの方法があります。</p></div>
<div class="ulist"><ul>
<li>
<p>
ドライバモジュールにオプションがある場合もあります。</p>
<div class="listingblock">
<div class="content monospaced">
<pre>max_vfs=4</pre>
</div></div>
<div class="paragraph">
<p><strong>etc/modprobe.d/の</strong>下に<em>.confで</em>終わるファイルを置いてください。</p></div>
<div class="paragraph">
<p>正確なパラメータとオプションについては、ドライバモジュールのドキュメントを参照してください。</p></div>
</li>
<li>
<p>
2つ目の、より一般的な方法は、<span class="monospaced">sysfsを</span>使用することです。 デバイスとドライバがこれをサポートしていれば、VFの数をその場で変更することができます。例えば、デバイス0000:01:00.0に4つのVFをセットアップするには、次のように実行します：</p>
<div class="listingblock">
<div class="content monospaced">
<pre># echo 4 &gt; /sys/bus/pci/devices/0000:01:00.0/sriov_numvfs</pre>
</div></div>
<div class="paragraph">
<p>インストール後に<strong>/etc/sysfs.conf</strong>または<strong>/etc/sysfs.d/</strong> 内の `FILE.conf' で設定します。</p></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_vm_configuration">VMの構成<a class="headerlink" href="#_vm_configuration" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>VF を作成した後、それらを<span class="monospaced">lspci</span> で出力すると、別々の PCI(e) デバイスとして見えるはずです。VFのIDを取得し、<a href="qm.1.html#qm_pci_passthrough_vm_config">通常のPCI(e)デバイスの</a>ように渡します。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_mediated_devices_vgpu_gvt_g">
<span>媒介デバイス (vGPU、GVT-g)</span> <a class="headerlink" href="#_mediated_devices_vgpu_gvt_g" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>媒介デバイスは、物理ハードウェアの機能や性能を仮想化ハードウェアに再利用するもう1つの方法です。これは、IntelのGVT-gやNVIDIAのGRIDテクノロジーで使用されるvGPUのような仮想化GPUセットアップで最もよく見られます。</p></div>
<div class="paragraph">
<p>これによって、物理カードは、SR-IOV と同様に、仮想カードを作成することができます。 違いは、mediated デバイスは、ホストで PCI(e) デバイスとして表示されず、仮想マシンでの使用にのみ適していることです。</p></div>
<div class="sect3">
<h4 id="_host_configuration_3">ホスト構成<a class="headerlink" href="#_host_configuration_3" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>一般的に、あなたのカードのドライバはその機能をサポートしていなければなりません。そのため、互換性のあるドライバとその設定方法については、ベンダを参照してください。</p></div>
<div class="paragraph">
<p>IntelのGVT-g用ドライバはカーネルに統合されており、第5、第6、第7世代のIntel Coreプロセッサ、およびE3 v4、E3 v5、E3 v6のXeonプロセッサで動作するはずです。</p></div>
<div class="paragraph">
<p>Intel Graphicsで有効にするには、モジュール<em>kvmgtを</em>（例えば<span class="monospaced">/etc/modules</span>経由で）ロードし、カーネルコマンドラインで有効にし、以下のパラメータを追加する必要があります：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>i915.enable_gvt=1</pre>
</div></div>
<div class="paragraph">
<p>その後、<a href="qm.1.html#qm_pci_passthrough_update_initramfs"> <span class="monospaced">initramfsを</span>更新</a>し、ホストを再起動することを忘れないでください。</p></div>
</div>
<div class="sect3">
<h4 id="_vm_configuration_2">VMの構成<a class="headerlink" href="#_vm_configuration_2" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>mediatedデバイスを使用するには、<span class="monospaced">hostpciX</span>VMコンフィギュレーション・オプションで<span class="monospaced">mdev</span>プロパティを指定するだけです。</p></div>
<div class="paragraph">
<p>サポートされているデバイスは、<em>sysfs</em>経由で取得できます。例えば、デバイス<em>0000:00:02.</em>0でサポートされているタイプをリストアップするには、次のように実行します：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># ls /sys/bus/pci/devices/0000:00:02.0/mdev_supported_types</pre>
</div></div>
<div class="paragraph">
<p>各エントリは、以下の重要なファイルを含むディレクトリです：</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>available</em><em>_instancesには</em>、このタイプのまだ利用可能なインスタンスの量が入ります。</p>
</li>
<li>
<p>
<em>descriptionには</em>、このタイプの機能に関する短い説明が含まれます。</p>
</li>
<li>
<p>
<em>createは</em>、このようなデバイスを作成するエンドポイントです。<span class="monospaced">mdevの</span> <em>hostpciX</em>オプションが設定されている場合、Proxmox VEが自動的にこれを行います。</p>
</li>
</ul></div>
<div class="paragraph">
<p><span class="monospaced">Intel GVT-g vGPU</span><span class="monospaced">(Intel Skylake 6700k</span>)を使用した設定例：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -hostpci0 00:02.0,mdev=i915-GVTg_V5_4</pre>
</div></div>
<div class="paragraph">
<p>この設定により、Proxmox VEはVM起動時にこのようなデバイスを自動的に作成し、VMが停止すると再びクリーンアップします。</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_use_in_clusters">
<span>クラスタでの使用</span> <a class="headerlink" href="#_use_in_clusters" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>クラスタレベルでデバイスをマッピングすることも可能で、HAで適切に使用でき、ハードウェアの変更が検出され、非rootユーザが設定できるようになります。詳細は<a href="qm.1.html#resource_mapping">リソースマッピングを</a>参照してください。</p></div>
</div>
<div class="sect2">
<h3 id="qm_pci_viommu">
<span>vIOMMU (エミュレートされた IOMMU)</span> <a class="headerlink" href="#qm_pci_viommu" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>vIOMMU は、仮想マシン内のハードウェア IOMMU のエミュレーションで、仮想化 I/O デバイスのメモリアクセス制御とセキュリティを向上させます。vIOMMU オプションを使用すると、<a href="https://pve.proxmox.com/wiki/Nested_Virtualization">ネストされた仮想化によって</a>、PCI(e) デバイスをレベル 1 VM のレベル 2 VM にパススルーすることもできます。 物理 PCI(e) デバイスをホストからネストされた VM にパススルーするには、PCI(e) パススルーの手順に従ってください。</p></div>
<div class="paragraph">
<p>現在、2つのvIOMMU実装が利用可能です：Intel と VirtIO です。</p></div>
<div class="sect3">
<h4 id="_intel_viommu">Intel vIOMMU<a class="headerlink" href="#_intel_viommu" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>Intel vIOMMU固有のVM要件：</p></div>
<div class="ulist"><ul>
<li>
<p>
ホストでIntelまたはAMDのCPUを使用している場合、VMのカーネルパラメータで<span class="monospaced">intel_iommu=onを</span>設定することが重要です。</p>
</li>
<li>
<p>
Intel vIOMMUを使用するには、マシンタイプとして<strong>q35を</strong>設定する必要があります。</p>
</li>
</ul></div>
<div class="paragraph">
<p>すべての要件が満たされている場合、PCIデバイスを通過させるべきVMのコンフィギュレーションのマシンパラメータに<span class="monospaced">viommu=intelを</span>追加できます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -machine q35,viommu=intel</pre>
</div></div>
<div class="paragraph">
<p><a href="https://wiki.qemu.org/Features/VT-d">VT-d に関する QEMU のドキュメント</a></p></div>
</div>
<div class="sect3">
<h4 id="_virtio_viommu">VirtIO vIOMMU<a class="headerlink" href="#_virtio_viommu" title="Permalink to this heading"></a></h4>
<div class="paragraph">
<p>この vIOMMU 実装はより新しく、Intel vIOMMU ほどの制限はありませんが、現在のところ実運用での使用は少なく、ドキュメントもあまりありません。</p></div>
<div class="paragraph">
<p>VirtIO vIOMMU では、カーネルパラメータを設定する必要は<strong>ありません</strong>。また、マシンタイプとしてq35を使用する<strong>必要は</strong>ありませんが、PCIeを使用する場合は使用することをお勧めします。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set VMID -machine q35,viommu=virtio</pre>
</div></div>
<div class="paragraph">
<p><a href="https://web.archive.org/web/20230804075844/https://michael2012z.medium.com/virtio-iommu-789369049443">virtio-iommu についての Michael Zhao のブログ記事</a></p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hookscripts">
フックスクリプト<a class="headerlink" href="#_hookscripts" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>コンフィグプロパティの<span class="monospaced">hookscript</span> を使用すると、VM にフックスクリプトを追加できます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set 100 --hookscript local:snippets/hookscript.pl</pre>
</div></div>
<div class="paragraph">
<p>このスクリプトは、ゲストのライフタイムの様々なフェーズで呼び出されます。 例とドキュメントについては、<span class="monospaced">/usr/share/pve-docs/examples/guest-example-hookscript.pl</span> にあるサンプルスクリプトを参照してください。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="qm_hibernate">
ハイバネーション<a class="headerlink" href="#qm_hibernate" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>VMをディスクにサスペンドするには、GUIオプションの<span class="monospaced">Hibernateを</span>使用します。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm suspend ID --todisk</pre>
</div></div>
<div class="paragraph">
<p>つまり、メモリの現在の内容がディスクに保存され、VMが停止します。次の起動時には、メモリの内容がロードされ、VMは中断したところから続行できます。</p></div>
<div class="paragraph" id="qm_vmstatestorage">
<div class="title">ステート・ストレージの選択</div><p>メモリのターゲット・ストレージが指定されていない場合、最初に自動的に選択されます：</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
VM config からストレージ<span class="monospaced">vmstatestorage</span>。</p>
</li>
<li>
<p>
任意の VM ディスクからの最初の共有ストレージ。</p>
</li>
<li>
<p>
任意の VM ディスクからの最初の非共有ストレージ。</p>
</li>
<li>
<p>
フォールバックとしての<span class="monospaced">ローカル</span>ストレージ。</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="resource_mapping">
リソースマッピング<a class="headerlink" href="#resource_mapping" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-resource-mappings.png">
<img src="images/screenshot/gui-datacenter-resource-mappings.png" alt="screenshot/gui-datacenter-resource-mappings.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>ローカルリソース（例えばpciデバイスのアドレス）を使用したり参照したりする場合、生のアドレスやidを使用するのは問題があります：</p></div>
<div class="ulist"><ul>
<li>
<p>
HAを使用する場合、同じIDやパスを持つ別のデバイスがターゲットノードに存在する可能性があり、そのようなゲストをHAグループに割り当てる際に注意しないと、間違ったデバイスが使用され、設定が壊れる可能性があります。</p>
</li>
<li>
<p>
ハードウェアを変更すると ID やパスが変更される可能性があるため、割り当てられたデバイスをすべてチェックし、パスや ID が正しいかどうかを確認する必要があります。</p>
</li>
</ul></div>
<div class="paragraph">
<p>これをうまく処理するには、クラスタ全体のリソースマッピングを定義して、リソースがクラスタ固有の、ユーザが選択した識別子を持ち、異なるホスト上の異なるデバイスに対応できるようにします。これにより、HAが間違ったデバイスでゲストを起動することはなくなり、ハードウェアの変更も検出できるようになります。</p></div>
<div class="paragraph">
<p>このようなマッピングの作成は、Proxmox VE の Web GUI の<span class="monospaced">[Datacenter]</span>タブの [<span class="monospaced">Resource Mappings]</span>カテゴリで行うことができます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>pvesh create /cluster/mapping/&lt;type&gt; &lt;options&gt; # pvesh create /cluster/mapping/&lt;type&gt; &lt;options&gt;</pre>
</div></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-mapping-pci-edit.png">
<img src="images/screenshot/gui-datacenter-mapping-pci-edit.png" alt="screenshot/gui-datacenter-mapping-pci-edit.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>ここで、<span class="monospaced">&lt;type&gt;は</span>ハードウェアタイプ（現在は<span class="monospaced">pci</span>、<span class="monospaced">usb</span>、<a href="qm.1.html#qm_virtiofs">dirの</a>いずれか）、<span class="monospaced">&lt;options&gt;は</span>デバイスマッピングとその他の設定パラメータです。</p></div>
<div class="paragraph">
<p>オプションには、ハードウェアが変更されずに正しいデバイスが渡されたことを確認できるように、そのハードウェアのすべての識別プロパティを含むマッププロパティが含まれていなければならないことに注意してください。</p></div>
<div class="paragraph">
<p>例えば、デバイスID<span class="monospaced">0001と</span>ベンダーID<span class="monospaced">0002を</span>持つパス<span class="monospaced">0000:01:00.</span>0のPCIデバイスをノード<span class="monospaced">node1</span>上の<span class="monospaced">device1として</span>追加し、<span class="monospaced">ノードnode2</span>上の<span class="monospaced">0000:02:00.0として</span>追加するには、次のようにします：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># pvesh create /cluster/mapping/pci --id device1 ￤ --map node=node1,path=0000:01:00.0,id=0002:0001 ￤ --map node=node2,path=0000:02:00.0,id=0002:0001</pre>
</div></div>
<div class="paragraph">
<p>デバイスがマッピングされるべき各ノードに対して、<span class="monospaced">map</span>パラメータを繰り返す必要があります（現在、1つのマッピングにつき1つのノードにつき1つのUSBデバイスしかマッピングできないことに注意してください）。</p></div>
<div class="paragraph">
<p>GUIを使用すると、正しいプロパティが自動的にピックアップされてAPIに送信されるため、この作業が非常に簡単になります。</p></div>
<div class="paragraph">
<a class="image" href="images/screenshot/gui-datacenter-mapping-usb-edit.png">
<img src="images/screenshot/gui-datacenter-mapping-usb-edit.png" alt="screenshot/gui-datacenter-mapping-usb-edit.png" width=250 style="padding: 0 0 0 10px;float:right;" /></a>
<p>PCIデバイスでは、ノードごとに複数のデバイスを複数のマップ・プロパティで提供することも可能です。このようなデバイスがゲストに割り当てられている場合、ゲストの起動時に最初に空いているものが使用されます。与えられたパスの順序は、試行される順序でもあるため、任意の割り当てポリシーを実装できます。</p></div>
<div class="paragraph">
<p>これは SR-IOV を持つデバイスに便利で、どの正確な仮想関数を通過するかは重要でない場合があるからです。</p></div>
<div class="paragraph">
<p>このようなデバイスをゲストに割り当てるには、GUI または</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>qm set ID -hostpci0 &lt;name&gt; # qm set &lt;vmid</pre>
</div></div>
<div class="paragraph">
<p>で、または</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm set &lt;vmid&gt; -usb0 &lt;name&gt; です。</pre>
</div></div>
<div class="paragraph">
<p>USB デバイスの場合は</p></div>
<div class="paragraph">
<p>ここで、<span class="monospaced">&lt;vmid&gt;</span>はゲストの ID で、<span class="monospaced">&lt;name&gt;</span>は作成されるマッピングの選択された名前です。<span class="monospaced">mdev</span> のような、デバイスを通過するための通常のオプションはすべて許可されています。</p></div>
<div class="paragraph">
<p>マッピングを作成するには、<span class="monospaced">Mapping.Modify</span>on<span class="monospaced">/mapping/&lt;type&gt;/&lt;name&gt;</span>が必要です (<span class="monospaced">&lt;type&gt;</span>はデバイスタイプ、<span class="monospaced">&lt;name&gt;</span>はマッピング名です)。</p></div>
<div class="paragraph">
<p>これらのマッピングを使用するには、<span class="monospaced">/mapping/&lt;type&gt;/&lt;name&gt;</span>上の<span class="monospaced">Mapping.Use</span>が必要です (設定を編集する通常のゲスト権限に加えて)。</p></div>
<div class="paragraph">
<div class="title">追加オプション</div><p>クラスタ全体のリソースマッピングを定義する際には追加のオプションがあります。 現在、以下のオプションがあります：</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">mdev</span>(PCI)：これは、PCI デバイスを、<span class="monospaced">仲介デバイスを</span>提供できるものとしてマークします。これが有効な場合、ゲスト上で設定する際にタイプを選択できます。マッピングに複数の PCI デバイスが選択された場合、仲介デバイスは、選択されたタイプの利用可能なインスタンスがある最初のデバイス上に作成されます。</p>
</li>
<li>
<p>
<span class="monospaced">live-migration-capable</span>(PCI)：これは、PCIデバイスがノード間でライブマイグレーション可能であることを示します。これは、ドライバとハードウェアのサポートが必要です。 最近のカーネルを持つNVIDIA GPUのみがこれをサポートすることが知られています。パススルーされたデバイスのライブマイグレーションは実験的な機能であり、動作しないか、問題が発生する可能性があることに注意してください。</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_managing_virtual_machines_with_span_class_monospaced_qm_span">
<span class="monospaced">qm</span>による仮想マシンの管理<a class="headerlink" href="#_managing_virtual_machines_with_span_class_monospaced_qm_span" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>qmはProxmox VE上のQEMU/KVM仮想マシンを管理するツールです。仮想マシンの作成と破棄、実行の制御(スタート/ストップ/サスペンド/レジューム)ができます。さらに、qm を使用して関連する設定ファイルにパラメータを設定できます。仮想ディスクの作成と削除も可能です。</p></div>
<div class="sect2">
<h3 id="_cli_usage_examples">
<span>CLI 使用例</span> <a class="headerlink" href="#_cli_usage_examples" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p><em>ローカル</em>ストレージにアップロードされたisoファイルを使用して、<em>local-lvm</em>ストレージに4GBのIDEディスクを持つVMを作成します。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm create 300 -ide0 local-lvm:4 -net0 e1000 -cdrom local:iso/proxmox-mailgateway_2.1.iso</pre>
</div></div>
<div class="paragraph">
<p>新しいVMを起動します。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm start 300</pre>
</div></div>
<div class="paragraph">
<p>シャットダウン要求を送信し、VMが停止するまで待機。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm shutdown 300 &amp;&amp; qm wait 300</pre>
</div></div>
<div class="paragraph">
<p>上記と同じですが、40秒だけ待ちます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm shutdown 300 &amp;&amp; qm wait 300 -timeout 40</pre>
</div></div>
<div class="paragraph">
<p>VMがシャットダウンしない場合は、VMを強制停止し、実行中のシャットダウン・タスクを上書きします。VMを停止するとデータが失われる可能性があるため、使用には注意が必要です。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm stop 300 -overrule-shutdown 1</pre>
</div></div>
<div class="paragraph">
<p>VMを破棄すると、そのVMは常にアクセス・コントロール・リストから削除され、そのVMのファイアウォール設定も常に削除されます。レプリケーションジョブ、バックアップジョブ、HAリソース構成からVMを削除する場合は、<em>-purgeを</em>有効にする必要があります。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm destroy 300 --purge</pre>
</div></div>
<div class="paragraph">
<p>ディスクイメージを別のストレージに移動</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm move-disk 300 scsi0 other-storage</pre>
</div></div>
<div class="paragraph">
<p>ディスクイメージを別の VM に割り当て直します。これにより、ディスク<span class="monospaced">scsi1</span>がソース VM から削除され、<span class="monospaced">scsi3</span>としてターゲット VM にアタッチされます。バックグラウンドでは、ディスクイメージの名前が新しい所有者と一致するように変更されます。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm move-disk 300 scsi1 --target-vmid 400 --target-disk scsi3</pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qm_configuration">
コンフィグレーション<a class="headerlink" href="#qm_configuration" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>VM設定ファイルはProxmoxクラスタファイルシステム内に保存され、<span class="monospaced">/etc/pve/qemu-server/&lt;VMID&gt;.confに</span>アクセスできます。<span class="monospaced">/etc/pve/</span>内に保存された他のファイルと同様に、他のすべてのクラスタノードに自動的に複製されます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">VMID &lt; 100 は内部用に予約されており、VMID はクラスタ全体で一意である必要があります。</td>
</tr></table>
</div>
<div class="listingblock">
<div class="title">VM構成の例</div>
<div class="content monospaced">
<pre>boot: order=virtio0;net0 cores：1 ソケット1 メモリ512 name: webmail ostype: l26 net0: e1000=EE:D2:28:5F:B6:3E,bridge=vmbr0 virtio0: local:vm-100-disk-1,size=32G</pre>
</div></div>
<div class="paragraph">
<p>これらの設定ファイルは単純なテキストファイルであり、通常のテキストエディタ<span class="monospaced">（vi</span>、<span class="monospaced">nano</span>、...）を使用して編集できます。これはちょっとした修正に便利な場合もありますが、そのような変更を適用するにはVMを再起動する必要があることに注意してください。</p></div>
<div class="paragraph">
<p>そのため、通常は<span class="monospaced">qm</span>コマンドを使用してファイルを生成・修正するか、GUI を使用してすべての作業を行う方がよいでしょう。 私たちのツールキットは、実行中の VM にほとんどの変更を即座に適用できるように十分に賢くなっています。この機能は「ホットプラグ」と呼ばれ、この場合VMを再起動する必要はありません。</p></div>
<div class="sect2">
<h3 id="_file_format">
<span>ファイルフォーマット</span> <a class="headerlink" href="#_file_format" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>VM設定ファイルは、コロンで区切られた単純なキー/値形式を使用します。各行のフォーマットは以下のとおりです：</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># これはコメントです。</pre>
</div></div>
<div class="paragraph">
<p>これらのファイル内の空白行は無視され、<span class="monospaced">#</span>文字で始まる行はコメントとして扱われ、これも無視されます。</p></div>
</div>
<div class="sect2">
<h3 id="qm_snapshots">
<span>スナップショット</span> <a class="headerlink" href="#qm_snapshots" title="Permalink to this heading"></a></h3>
<div class="paragraph">
<p>スナップショットを作成すると、<span class="monospaced">qm は</span>スナップショット時の設定を同じ設定ファイル内の別のスナップショットセクションに保存します。例えば、"testsnapshot" というスナップショットを作成した後、設定ファイルは以下のようになります：</p></div>
<div class="listingblock">
<div class="title">スナップショット付きVM設定</div>
<div class="content monospaced">
<pre>メモリ512 swap：512 parent: testsnaphot ... [testsnaphot] memory：512 swap：512 snaptime: 1457170803 ...</pre>
</div></div>
<div class="paragraph">
<p><span class="monospaced">parentや</span><span class="monospaced">snaptimeなど</span>、スナップショット関連のプロパティがいくつかあります。<span class="monospaced">parent</span>プロパティはスナップショット間の親子関係を保存するために使用されます。<span class="monospaced">snaptime</span>はスナップショット作成のタイムスタンプ (Unix epoch) です。</p></div>
<div class="paragraph">
<p>オプションの<span class="monospaced">vmstateを</span>使用すると、実行中のVMのメモリを保存できます。 VMの状態に対してターゲット・ストレージがどのように選択されるかの詳細については、「<a href="qm.1.html#qm_hibernate">ハイバネーション</a>」の章の<a href="qm.1.html#qm_vmstatestorage">「状態ストレージの選択</a>」を参照してください。</p></div>
</div>
<div class="sect2">
<h3 id="qm_options">
<span>オプション</span> <a class="headerlink" href="#qm_options" title="Permalink to this heading"></a></h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">acpi</span>:<span class="monospaced">&lt;論理値&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ACPI を有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">affinity</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
ゲストプロセスの実行に使用されるホストコアのリスト (例: 0,5,8-11)</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">agent</span>:<span class="monospaced">[enabled=]&lt;1|0&gt; [,freeze-fs-on-backup=&lt;1|0&gt;] [,fstrim_cloned_disks=&lt;1|0&gt;] [,type=&lt;virtio|isa&gt;] のいずれか</span>。</dt>
<dd>
<p>
QEMU ゲストエージェントとそのプロパティとの通信を有効化/無効化します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">enabled=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VM 内で動作している QEMU ゲストエージェント (QGA) との通信を有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">freeze-fs-on-backup=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
一貫性を保つために、バックアップ時にゲストファイルシステムをフリーズ/解凍します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">fstrim_cloned_disks=&lt;boolean&gt;</span><em>(default =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ディスクの移動やVMの移行後にfstrimを実行します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">type=&lt;isa</span><span class="monospaced">| virtio&gt;</span><em>(default =</em> <span class="monospaced">virtio</span>)</dt>
<dd>
<p>
エージェントタイプの選択</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">amd-sev</span>:<span class="monospaced">[type=]&lt;sev-type&gt;[,allow-smt=&lt;1|0&gt;][,kernel-hashes=&lt;1|0&gt;][,no-debug=&lt;1|0&gt;][,no-key-sharing=&lt;1|0&gt;]。</span></dt>
<dd>
<p>
AMD CPUによる安全な暗号化仮想化（SEV）機能</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">allow-smt=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
同時マルチスレッド (SMT) を許可するポリシービットを設定 (SEV-SNP の場合を除き無視)</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">kernel-hashes=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
linux カーネルの起動を測定するために、ゲスト・ファームウェアにカーネル・ハッシュを追加します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">no-debug=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ゲストのデバッグを許可しないようにポリシービットを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">no-key-sharing=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
他のゲストとの鍵共有を許可しないようにポリシービットを設定します（SEV-SNP の場合は無視されます）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">type=</span><span class="monospaced">&lt;sev</span><span class="monospaced">タイプ</span></dt>
<dd>
<p>
<em>type=std</em>で標準的な SEV を有効にするか、<em>es</em>オプションで実験的な SEV-ES を有効にするか、<em>snp</em>オプションで実験的な SEV-SNP を有効にします。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">arch</span>:<span class="monospaced">&lt;aarch64 | x86_64&gt;</span>です。</dt>
<dd>
<p>
仮想プロセッサーのアーキテクチャ。デフォルトはホスト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">args</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
kvm に渡される任意の引数など：</p>
<div class="paragraph">
<p>args: -no-reboot -smbios<em>type=0,vendor=FOO</em></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションはエキスパート専用です。</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">audio0</span>:<span class="monospaced">device=&lt;ich9-intel-hda|intel-hda|AC97&gt; [,driver=&lt;spice|none&gt;</span>] です。</dt>
<dd>
<p>
オーディオデバイスの設定。QXL/Spice との組み合わせに便利。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">device=&lt;AC97</span><span class="monospaced">| ich9-intel-hda | intel-hda&gt;</span>です。</dt>
<dd>
<p>
オーディオデバイスを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">driver=&lt;none</span><span class="monospaced">| spice&gt;</span><em>(デフォルト =</em> <span class="monospaced">spice</span>)</dt>
<dd>
<p>
オーディオデバイスのドライババックエンド。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">autostart</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
クラッシュ後の自動再起動 (現在は無視)</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">balloon</span>:<span class="monospaced">&lt;整数&gt; (0 - N</span>)</dt>
<dd>
<p>
VM のターゲット RAM の量を MiB 単位で指定します。ゼロを指定するとバロンドライバが無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bios</span>:<span class="monospaced">&lt;ovmf | seabios&gt;</span><em>(デフォルト =</em> <span class="monospaced">seabios</span>)</dt>
<dd>
<p>
BIOS の実装を選択します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">boot</span>：<span class="monospaced">[[legacy=]&lt;[acdn]{1,4}&gt;][,order=&lt;デバイス[;デバイス...]&gt;]]。</span>
</dt>
<dd>
<p>
ゲストのブート順序を指定します。キーなしまたは<em>legacy= での</em>使用は非推奨であるため、<em>order=</em>サブプロパティを使用します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">legacy=</span><span class="monospaced">&lt;[acdn]{1,4}&gt;</span><em>(デフォルト =</em> <span class="monospaced">cdn</span>)</dt>
<dd>
<p>
フロッピー (a)、ハードディスク (c)、CD-ROM (d)、ネットワーク (n) で起動。非推奨。代わりに<em>order=</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">order=&lt;デバイス</span><span class="monospaced">[;デバイス...]&gt;</span><span class="monospaced">(</span>デフォルト =<span class="monospaced">デバイス</span>)</dt>
<dd>
<p>
ゲストは、ここに表示された順序でデバイスからのブートを試みます。</p>
<div class="paragraph">
<p>ディスク、光学ドライブ、およびパススルーされたストレージ USB デバイスは直接起動し、NIC は PXE をロードし、PCIe デバイスはディスクのように動作するか（NVMe など）、オプション ROM をロードします（RAID コントローラ、ハードウェア NIC など）。</p></div>
<div class="paragraph">
<p>このリストにあるデバイスだけがブート可能としてマークされ、ゲストファームウェア (BIOS/UEFI) によってロードされることに注意してください。ブートに複数のディスクが必要な場合 (例: ソフトウェアレイド)、ここで全てを指定する必要があります。</p></div>
<div class="paragraph">
<p>指定された場合、非推奨の<em>legacy=[acdn]*</em>値を上書きします。</p></div>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">bootdisk</span>:<span class="monospaced">(ide|sata|scsi|virtio)◆d+。</span></dt>
<dd>
<p>
指定したディスクからの起動を有効にします。非推奨：代わりに<em>boot: order=foo;bar</em>を使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cdrom</span>:<span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
これは -ide2 オプションのエイリアスです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cicustom</span>：[<span class="monospaced">meta=&lt;volume&gt;] [,network=&lt;volume&gt;] [,user=&lt;volume&gt;] [,vendor=&lt;volume&gt;</span>]。</dt>
<dd>
<p>
cloud-init：起動時に自動生成されるファイルを置き換えるカスタムファイルを指定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">meta</span><span class="monospaced">=&lt;</span><span class="monospaced">ボリューム</span></dt>
<dd>
<p>
." cloud-init 経由で VM に渡されるすべてのメタデータを含むカスタムファイルを指定します。これはプロバイダ固有で、configdrive2 と nocloud は異なります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">network</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
すべてのネットワークデータを含むカスタムファイルをcloud-init経由でVMに渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">user</span><span class="monospaced">=&lt;</span><span class="monospaced">ボリューム</span></dt>
<dd>
<p>
すべてのユーザーデータを含むカスタムファイルをcloud-init経由でVMに渡します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ベンダー</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
すべてのベンダーデータを含むカスタムファイルをcloud-init経由でVMに渡すには。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">cipassword</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：ユーザーに割り当てるパスワード。これを使うことは一般的に推奨されません。代わりに ssh キーを使ってください。また、古いバージョンの cloud-init はハッシュ化されたパスワードをサポートしていないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">citype</span>:<span class="monospaced">&lt;configdrive2 | nocloud | opennebula&gt;</span>です。</dt>
<dd>
<p>
cloud-init 構成フォーマットを指定します。デフォルトは設定されているオペレーティングシステムの種類<span class="monospaced">（ostype</span>.Linuxの場合は<span class="monospaced">nocloud</span>形式、Windowsの場合は<span class="monospaced">configdrive2を</span>使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ciupgrade</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
cloud-init: 最初のブート後にパッケージの自動アップグレードを行います。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ciuser</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：イメージに設定されているデフォルトユーザーの代わりに、sshキーとパスワードを変更するユーザー名。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cores</span>:<span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ソケットあたりのコア数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cpu</span>:<span class="monospaced">[[cputype=]&lt;string&gt;]</span>です。<span class="monospaced">[,flags=&lt;+FLAG[;-FLAG...]&gt;]を指定します。[,hidden=&lt;1|0&gt;] [,hv-vendor-id=&lt;vendor-id&gt;] [,phys-bits=&lt;8-64|host&gt;] [,reported-model=&lt;enum&gt;</span>]。</dt>
<dd>
<p>
エミュレートされる CPU のタイプ。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">cputype=&lt;string&gt;</span><em>(デフォルト =</em> <span class="monospaced">kvm64</span>)</dt>
<dd>
<p>
エミュレートされたCPUタイプ。デフォルトまたはカスタム名（カスタムモデル名の前に<em>custom-を</em>付ける必要があります）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">flags=&lt;+FLAG</span><span class="monospaced">[;-FLAG...]&gt;</span>を指定します。</dt>
<dd>
<p>
<em>で</em>区切られた追加のCPUフラグのリスト。フラグを有効にするには<em>+FLAG を</em>、無効にするには<em>-FLAG を</em>使用します。カスタム CPU モデルは、QEMU/KVM でサポートされる任意のフラグを指定できます。VM 固有のフラグは、セキュリティ上の理由から以下のセットから選択する必要があります: pcid、spec-ctrl、ibpb、ssbd、virt-ssbd、amd-ssbd、amd-no-ssb、pdpe1gb、md-clear、hv-tlbflush、hv-evmcs、aes。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hidden=</span><span class="monospaced">&lt;論理</span><span class="monospaced">値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
KVM仮想マシンとして識別しないでください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hv-</span><span class="monospaced">vendor</span><span class="monospaced">-id=&lt;vendor-id&gt;（ベンダーID</span></dt>
<dd>
<p>
Hyper-V のベンダー ID。Windows ゲスト内の一部のドライバーまたはプログラムは、特定の ID を必要とします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">物理ビット=&lt;8</span><span class="monospaced">-</span><span class="monospaced">64|ホスト</span></dt>
<dd>
<p>
ゲスト OS に報告される物理メモリアドレスのビット。ホストの値より小さいか等しい必要があります。ホスト CPU の値を使用するには<em>ホストに</em>設定しますが、そうすると他の値を持つ CPU へのライブマイグレーションが壊れることに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">reported-model=&lt;486 | Broadwell | Broadwell-IBRS | Broadwell-noTSX | Broadwell-noTSX-IBRS | Cascadelake-Server | Cascadelake-Server-noTSX | Cascadelake-Server-v2 | Cascadelake-Server-v4 | Cascadelake-Server-v5 | Conroe | Cooperlake | Cooperlake-v2 | EPYC | EPYC-Genoa | EPYC-IBPB | EPYC-Milan | EPYC-Milan-EPYC-Rome｜EPYC-Rome-v2｜EPYC-Rome-v3｜EPYC-Rome-v4｜EPYC-v3｜EPYC-v4｜GraniteRapids｜Haswell｜Haswell-IBRS｜Haswell-noTSX｜Haswell-noTSX-IBRS｜Icelake-Client｜Icelake-Client-noTSX｜Icelake-Server｜Icelake-Server-noTSX｜Icelake-Server-v3｜Icelake-Server-v4｜Icelake-Server-v5｜Icelake-Server-v6｜IvyBridge｜IvyBridge-IBRS｜KnightsMill｜Nehalem｜Nehalem-IBRS｜Opteron_G1｜Opteron_G2｜Opteron_G3｜Opteron_G4｜Opteron_G5｜Penryn｜SandyBridge｜SandyBridge-IBRS｜SapphireRapids｜SapphireRapids-v2｜Skylake-Client｜Skylake-Client-IBRS｜Skylake-Skylake-Client｜Skylake-Client-v4｜Skylake-Server｜Skylake-Server-IBRS｜Skylake-Server-noTSX-IBRS｜Skylake-Server-v4｜Skylake-Server-v5｜Westmere｜Westmere-IBRS｜athlon｜core2duo｜coreduo｜host｜kvm32｜kvm64｜max｜pentium｜pentium2｜pentium3｜phenom｜qemu32｜qemu64＞。</span><em>(デフォルト =</em> <span class="monospaced">kvm64</span>)</dt>
<dd>
<p>
ゲストに報告する CPU モデルとベンダー。QEMU/KVM がサポートするモデルである必要があります。カスタム CPU モデル定義に対してのみ有効で、デフォルトモデルは常にゲスト OS に自分自身を報告します。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">cpulimit</span>:<span class="monospaced">&lt;数値&gt; (0 - 128)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
CPU使用量の上限。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">コンピューターに 2 CPU がある場合、合計<em>2</em>CPU の時間があります。値<em>0</em>は、CPU の制限がないことを示します。</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">cpuunits</span>:<span class="monospaced">&lt;integer&gt; (1 - 262144)</span><em>(デフォルト =</em> <span class="monospaced">cgroup v1: 1024、cgroup v2: 100</span>)</dt>
<dd>
<p>
VM の CPU ウェイト。引数はカーネルのフェア・スケジューラで使用されます。この数値が大きいほど、この VM の CPU 使用時間が長くなります。数値は、他のすべての実行中のVMのウェイトに対する相対値です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">説明</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の説明。WebインターフェイスのVMのサマリーに表示されます。これはコンフィギュレーション・ファイルのコメントとして保存されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">efidisk0</span>:<span class="monospaced">[file=]&lt;volume&gt; [,efitype=&lt;2m|4m&gt;] [,format=&lt;enum&gt;] [,pre-enrolled-keys=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] の</span>ように指定します。</dt>
<dd>
<p>
EFIバーを保存するディスクを設定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">efitype=&lt;2m</span><span class="monospaced">| 4m&gt;</span><em>(デフォルト =</em> <span class="monospaced">2m</span>)</dt>
<dd>
<p>
OVMF EFI バーのサイズとタイプ。<em>4m</em>が新しく推奨され、セキュアブートに必要です。後方互換性のため、特に指定がない場合は<em>2mが</em>使用されます。arch=aarch64 (ARM)のVMでは無視されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ファイル</span><span class="monospaced">=&lt;ボリューム</span></dt>
<dd>
<p>
ドライブのバックアップ・ボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">フォーマット=&lt;cloop</span><span class="monospaced">| qcow | qcow2 | qed | raw | vmdk&gt;</span><span class="monospaced">(</span>デフォルト = kvm64<span class="monospaced">)</span></dt>
<dd>
<p>
ドライブのバックアップ・ファイルのデータ形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">pre-</span><span class="monospaced">enrolled</span><span class="monospaced">-keys=&lt;boolean</span><em>&gt;（デフォルト=</em> <span class="monospaced">0）</span></dt>
<dd>
<p>
<em>efitype=4mで</em>使用する場合は、ディストリビューション固有およびMicrosoft Standardキーが登録されたam EFI varsテンプレートを使用します。これはデフォルトでセキュアブートを有効にしますが、VM 内からオフにすることも可能です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">size</span><span class="monospaced">=&lt;ディスクサイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは単なる情報提供であり、何の効果もありません。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">freeze</span>:<span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
起動時のCPUフリーズ（<em>c</em>monitorコマンドで実行開始）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hookscript</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
vms のライフタイムの様々なステップで実行されるスクリプト。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hostpci[n]</span>：<span class="monospaced">[ホスト=]&lt;HOSTPCIID[;HOSTPCIID2...]&gt;] [,デバイスID=&lt;he...[,device-id=&lt;hex id&gt;] [,legacy-igd=&lt;1|0&gt;] [,mapping=&lt;mapping-id&gt;] [,mdev=&lt;string&gt;] [,pcie=&lt;1|0&gt;] [,rombar=&lt;1|0&gt; ] [,romfile=&lt;1|0&gt; ]。] [,romfile=&lt;string&gt;] [,sub-device-id=&lt;hex id&gt;] [,sub-vendor-id=&lt;hex id&gt;] [,vendor-id=&lt;hex id&gt;] [,x-vga=&lt;1|0&gt;</span>] となります。</dt>
<dd>
<p>
ホストの PCI デバイスをゲストにマップします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJhUlEQVRoge2ZWWycVxXHf+fce7/v
m/GaGCde4pI0aQlJC0kRtE1L00JbLIjY4QkeUB9YHhAIJFCExAsKUkE8IAFFPIDUIqhBRSDRBUqC
CimFFBCBpCWx02IaZ3G2SdyxPZ7vHh6+mcnSZnFjKIge6Wj8zYzvPf9z/me5d8TM+F8WfbkNuFx5
BcDLLf/fAEZGRmx4eNh6enqsp6fHhoeHbWRk5D9aFeSlVqHNmzfb6H33sHnT7ZQmD5GfOMax6Sm+
Pl5h1Yc+xpYtW2SBbX1ReUkRGBkZsdH77mHLW95EOv4Ms3ueJh6YYPHUFF9aljJ63z3cf//9/5FI
vKQIDA8P293L2yhVjjH7t51ocDiviFecF46n7XzBreChhx4qNhH5t0XjJUVgx44ddGUZ9b/vIpQD
oRQIWSDJAiFL6B9axo4dO4gxAmANWVDLG+Ln82URMRGhVCqRHxonlAPqFXWKC4r6IhI6OMjMzBN4
/4LlTUQQEZxzZ32QJAlpmrb+p16vU6vVOHXq1AWjN18AnDj0F971vrs4OnmYJVkoDA4FCPUO172I
Cgnt7SV++4vvsGhRJx3tJbIsRVVpsUnOBBABBVFEClKYwbKr7sTM7EIUnBcA7z21k7t49x1X8JXv
bOWra7rw5QRtcN8PLCfvvZJvb9vJycpJpg4/hp/N0I4SMQs4Jw0A5zBXHGiCaIZIKABgpGlKjPEF
0TpT5pUDRXiVt99+Le03r+WzuytM1gO6pB/3+o0cbxvk8yOPMjW6i2iR2lxOjJDHSDMFogmGwzQ7
rRJAUpAENAGXIZq2AFzQpvkACCEQcahP+cRH3sKHn9zHXU+MM7rtGeD33NDXzaZynZU9gcezpUw9
X6OzIyOakkfF4QEpPG6nDRNNEA2FSgKimETSNCXPc0II57VpXhEolUqoOrxPSLOMT330Dv5SqfKD
NR388Y2L+caQsjITNv3pMBs3rOT56ZyZGaM+J0QUxDc0INrWUgggoRGBAOIRAt77hY1AmqaoeJxP
cN645jVDbNn8Hj73o8fZ/af9mEE9j9y2YRXt5YzZWmRmzjj1/BwhTXAKzitOHEbeWlc0AVwDnCv8
KoZzjotV33lTSL1HNKAuEtKM1169jM98/E6mTk3x4Nbd7Bk7TEdHRvAeVY+hmDqmZwx1kIkiqrhz
S2zL+AbNMC6l/80LgHMOEY9oQvBCks5RKpXo7JhFxbhz42pet2aQet1YtLiDJAkIDq8BHwJmwlwO
UaD0ojsrNKuUReIZyb9gABCHcwWFgg+0lTPyvIRToVzKWLpkMfV6REQplYvmZCj1uuBUSdJwTg8A
XBdoCZMOsBkQBeGi/J83gBgjmABC8AlJGsjzFLMyaXDM1etEA0VR50iCx6mSZhkiijpPjEpQD+SF
4WdJrTAewdCFB1CtVlFVVATnhMQnWJqC5aTBk+c5IIgWRoTgSZJAmiZAo1s7hwsppglI+fTiljeY
nyHkLQotKIAYI4igzpFHISQOiwEnKTEG8hhRVZw6YjRQLfJGHcF7jleqTBw8znXr12MABnv37efY
iSnesG4tiUsRUQwD7JIAzKsPqCqiRbVwweM04XdPjhJN+dvTBxgbn6G9q59yZx9/3HWEb33vN+zc
/RzOJ+w/eJLtO8Z5ZNtT7PvHIUQTvvv9X/Lc/mN0d3by3fseRLQwvWh0Fy+h8wbQ2VFG1KM+xfuA
qufo8So/fejPPD/rqJys8pvf7eLAoeNMHqnw2U9+kH3jVQ5MClMzKUla5obr13HliiEMmDx6gltv
uY7Vr1nBQF8PJopQ9AFTt/AROFfMjCW9XTy19xB33Hodb924jr1j+/nDk3/nzTdei4jw3nfeyCOP
bufa1y5jzeoVrcHM8HR3dfHlr/2Q+x94jFtuuh44/9B2PplXDryYLF3STXd3e+t5UXcHY89OsOH6
NS2Qed7wpM1Rm50G4MGHH2P961Zy3bqreXrPP5mrzwLt5y6/cACq1eoLCKm+TN/SAebmfn8aUG83
PYs7+cnPH+eqKwd5as8/edc7bi02847pmVkATk1VWbF8AOcca1Yv59DkqcYK0tCL02deACqVCldc
0YdIwLmEPM9RV6NnUZlPf3wT6oqJcePN6wHhzTeu4/CRCrfctJ4sSxBRli7pYfHEMUSU97/7Th75
1RP8eec+Yp5zzTVXM9DfDyogBvHS6HTJACYmJnjVoq5GFw0454gCEOnoaMfiNGZFFRFxJGkbywZ6
i1NWoy9kWYmbb1gHKCHApuGbisVFGyoYUswa5OR5ftF56JIBjI6OMtDfWwAQ35jnc8AVpRXBohVq
UowECKqK4RBxoE0W6gvGCcEjaOEAwEQWdpgbGxujt7erOLO2mk3R8i0Wz9EiuUGz+qlKEQEUaJbI
4lTHmTVePKgWzpDGJGpc8CDTlEsuo88++wxXDA0UIUbAOP23KGZKjI48KnkuhcbiPbPCOBoeBikO
Lk2VxjqNRilaAEqSZGEAbN261bZt+zW33XY7IAXXm6Ou0YhIMamaaUOl5WRrzg00viuKWWxpQUOH
NAZFQRpD48Xlkig0MTHBB95zG+VSylz1KCbWyDOh2XyK+56IqjWMKigkUnzWnPPFFFRRLZ29SQRU
ELOGY4pZ6LKOlM07mZ07d/KOtw1TcB4sGkTDiDQ9K1IkrKeYmQC08d7pZLSiRBpE5s7aS0XAHFEK
AGY51Wr18g80Zmb33nsvX/z8XdSmj2AWOXhwkrxe46+79jB55Dh/3T2GxUhHextdXW2sXN7PNWtW
IQKDA71FFBoAjIgQkVg/a5+oHrU5zIznDhxk964xKpXKggAoTlWW8+OfPorlOQ//cjsDy1bS2dFO
W+diVly1iL6+Pqanpzl5qsL4pPHwN3/G1InDlMsZ7Z1tDA30cfWqIa5dexV9fb2YnT7UTxw4xsHJ
o4yOjfOP8QOMjx/k4OQx7r777lY0zycXvJ02M4sxMjg4SL1eR0TYsGEDw8PD9PX10d7ejogUN3a1
GqpKCIE8z5mdnUVVqVarbN++nba2Nvbu3csDDzyAqrJ8+atb+zjn6e/vZ/Xq1axatYq1a9fS29tL
lmUMDQ1RKpXOm9EXvV6v1+tWr9eZnp5mZmaGWq1GjLHF62aiNZ+bnPfe45xrvTZzxMyYmZk56+LX
zKjX661DvHOOJElIkoRSqYT3/vLvRlW15eHCa4VxzdvmpjZDfubzuXeb3vuzqCEixBhbo0NTkyS5
PAr9L8j/96+U/w3yCoCXW14B8HLLvwDd67nwZIEPdgAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションは、ホストハードウェアへの直接アクセスを許可します。そのため、このようなマシンのマイグレーションはもはや不可能です。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">特に注意してください！ユーザーからこのオプションに関する問題が報告されています。</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">device-id=&lt;ヘックス</span><span class="monospaced">ID</span></dt>
<dd>
<p>
ゲストに見える PCI デバイス ID を上書き</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">host=&lt;HOSTPCIID</span><span class="monospaced">[;HOSTPCIID2...]&gt;</span>を<span class="monospaced">指定</span>します。</dt>
<dd>
<p>
ホストPCIデバイスのパススルー。ホストの PCI デバイスの PCI ID またはホストの PCI 仮想機能のリスト。HOSTPCIID 構文は次のとおりです：</p>
<div class="paragraph">
<p><em>bus:dev.func</em>(16進数)</p></div>
<div class="paragraph">
<p><em>lspci</em>コマンドを使用して、既存の PCI デバイスを一覧表示できます。</p></div>
<div class="paragraph">
<p>これか<em>マッピング</em>キーのどちらかが設定されている必要があります。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">legacy</span><span class="monospaced">-</span><span class="monospaced">igd=&lt;boolean</span><em>&gt;（デフォルト =</em> <span class="monospaced">0）</span></dt>
<dd>
<p>
このデバイスをレガシー IGD モードでパススルーし、VM のプライマリで排他的なグラフィックデバイスにします。<em>pc-i440fx</em>マシンタイプと VGA が<em>none</em> に設定されている必要があります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mapping=&lt;マッピング</span><span class="monospaced">ID</span></dt>
<dd>
<p>
クラスタワイドマッピングのID。これかdefault-key<em>hostの</em>どちらかを設定する必要があります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mdev</span><span class="monospaced">=&lt;文字列</span></dt>
<dd>
<p>
このタイプのインスタンスは、VM の起動時に作成され、VM の停止時にクリーンアップされます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">pcie=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
PCI-expressバスを選択します（<em>q35</em>マシンモデルが必要）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rombar=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
デバイスの ROM をゲストのメモリマップに表示するかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">romfile</span><span class="monospaced">=&lt;文字列</span></dt>
<dd>
<p>
カスタム pci デバイス ROM ファイル名 (/usr/share/kvm/ にある必要があります)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">サブデバイスID=&lt;16進数</span><span class="monospaced">ID</span></dt>
<dd>
<p>
ゲストに見える PCI サブシステムのデバイス ID を上書きします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">サブベンダーID=&lt;16進数</span><span class="monospaced">ID</span></dt>
<dd>
<p>
ゲストに見えるPCIサブシステムのベンダーIDを上書きします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ベンダーID=&lt;16進数</span><span class="monospaced">ID</span></dt>
<dd>
<p>
ゲストに見える PCI ベンダー ID を上書きします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">x-vga=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
vfio-vga デバイスサポートを有効にします。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">hotplug</span>:<span class="monospaced">&lt;文字列&gt;</span><em>(デフォルト =</em> <span class="monospaced">ネットワーク,ディスク,USB</span>)</dt>
<dd>
<p>
ホットプラグ機能を選択的に有効にします。これは、カンマ区切りのホットプラグ機能のリストです:<em>network</em>、<em>disk</em>、<em>cpu</em>、<em>memory</em>、<em>usb</em>、<em>cloudinit</em>。ホットプラグを完全に無効にするには<em>0 を</em>使用します。値として<em>1 を</em>使用すると、デフォルトの<span class="monospaced">network、disk、usb</span> のエイリアスになります。USB ホットプラグは、マシンのバージョンが &gt;= 7.1 で、ostype l26 または windows &gt; 7 のゲストで可能です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hugepages</span>:<span class="monospaced">&lt;1024 | 2 | 任意&gt;。</span></dt>
<dd>
<p>
hugepages メモリを有効/無効にします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ide[n]</span>：<span class="monospaced">[file=]&lt;volume&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,model=&lt;model&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>]。</dt>
<dd>
<p>
ボリュームをIDEハードディスクまたはCD-ROMとして使用します(nは0～3)。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">aio=&lt;io_uring</span><span class="monospaced">｜ネイティブ｜スレッド</span></dt>
<dd>
<p>
使用する AIO タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">backup</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
バックアップ作成時にドライブを含めるかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps=&lt;bps</span></dt>
<dd>
<p>
最大R/W速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_</span><span class="monospaced">max</span><span class="monospaced">_length=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd=&lt;bps</span></dt>
<dd>
<p>
最大読み取り速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr=&lt;bps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（バイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cache=&lt;directsync</span><span class="monospaced">｜none｜unsafe｜writeback｜writethrough&gt;と</span><span class="monospaced">なります</span>。</dt>
<dd>
<p>
ドライブのキャッシュ・モード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">detect_</span><span class="monospaced">zeroes</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
ゼロの書き込みを検出し、最適化を試みるかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">discard=&lt;無視</span><span class="monospaced">｜オン</span></dt>
<dd>
<p>
破棄/トリム要求を基礎となるストレージに渡すかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ファイル=</span><span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
ドライブのバッキング・ボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">フォーマット=&lt;cloop</span><span class="monospaced">｜qcow｜qcow2｜qed｜raw｜vmdk&gt;。</span></dt>
<dd>
<p>
ドライブのバックアップ・ファイルのデータ形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops=&lt;iops</span></dt>
<dd>
<p>
最大r/w I/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていないr/w I/Oプールの最大値（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd=&lt;iops</span></dt>
<dd>
<p>
最大読み取りI/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていない最大読み取りI/Oプール（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr=&lt;iops&gt;</span></dt>
<dd>
<p>
最大書き込みI/O（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max=&lt;iops&gt;</span></dt>
<dd>
<p>
スロットルされていない最大書き込みI/Oプール（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大R/W速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_max=&lt;mbps&gt;</span></dt>
<dd>
<p>
スロットルされていない最大R/Wプール（毎秒メガバイト）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd=&lt;mbps</span></dt>
<dd>
<p>
最大読み取り速度（メガバイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd_max=&lt;mbps&gt;</span><span class="monospaced">mbps_wr=&lt;mbps</span></dt>
<dd>
<p>
最大スロットルなし読み取りプール（メガバイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr=&lt;mbps</span></dt>
<dd>
<p>
最大書き込み速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr_max=&lt;mbps</span></dt>
<dd>
<p>
スロットルなしの最大書き込みプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">media=&lt;cdrom</span><span class="monospaced">| disk&gt;</span><em>(デフォルト=</em> <span class="monospaced">ディスク</span>)</dt>
<dd>
<p>
ドライブのメディア・タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">model</span><span class="monospaced">=&lt;モデル</span></dt>
<dd>
<p>
ドライブのモデル名（URLエンコード、最大40バイト）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">replicate=</span><span class="monospaced">&lt;boolean</span><em>&gt;（デフォルト=</em> <span class="monospaced">1）</span></dt>
<dd>
<p>
ドライブがレプリケーション・ジョブに考慮されるべきかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rerror=&lt;ignore</span><span class="monospaced">| report | stop&gt;</span><span class="monospaced">(無視</span><span class="monospaced">| 報告 | 停止)</span></dt>
<dd>
<p>
読み取りエラー・アクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial=</span><span class="monospaced">&lt;シリアル</span></dt>
<dd>
<p>
報告されたドライブのシリアル番号。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">shared=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このローカル管理ボリュームをすべてのノードで使用可能としてマークします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションはボリュームを自動的に共有しません！</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">size=</span><span class="monospaced">&lt;ディスク</span><span class="monospaced">サイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは純粋に情報提供であり、何の効果もありません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">snapshot</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
qemu のスナップショットモード機能を制御します。この機能が有効な場合、ディスクに加えられた変更は一時的なものであり、VM がシャットダウンされると破棄されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ssd</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このドライブを回転ハードディスクではなくSSDとして公開するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">werror=&lt;enospc</span><span class="monospaced">｜無視｜報告｜停止</span></dt>
<dd>
<p>
書き込みエラーアクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">wwn=&lt;wwn&gt;</span></dt>
<dd>
<p>
ドライブのワールドワイド名。16 バイトの 16 進文字列としてエンコードされ、先頭に<em>0x</em> が付きます。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">ipconfig[n]</span>：<span class="monospaced">[gw=&lt;GatewayIPv4&gt;][,gw6=&lt;GatewayIPv6&gt;][,ip=&lt;IPv4Format/CIDR&gt;][,ip6=&lt;IPv6Format/CIDR&gt;</span>]。</dt>
<dd>
<p>
cloud-init：対応するインターフェースのIPアドレスとゲートウェイを指定します。</p>
<div class="paragraph">
<p>IPアドレスはCIDR表記を使用し、ゲートウェイはオプションですが、同じタイプのIPを指定する必要があります。</p></div>
<div class="paragraph">
<p>特別な文字列<em>dhcpは</em>、DHCPを使用するIPアドレスに使用することができ、その場合、明示的なゲートウェイを提供する必要はありません。 IPv6では、特別な文字列<em>autoは</em>、ステートレス自動設定を使用するために使用することができます。これにはcloud-init 19.4以降が必要です。</p></div>
<div class="paragraph">
<p>cloud-initが有効でIPv4アドレスもIPv6アドレスも指定されていない場合、デフォルトではIPv4でdhcpを使用します。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">gw=&lt;ゲートウェイ</span><span class="monospaced">IPv</span><span class="monospaced">4</span></dt>
<dd>
<p>
IPv4 トラフィックのデフォルト・ゲートウェイ。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">必要なオプション(複数可):<span class="monospaced">ip</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">gw</span><span class="monospaced">6</span><span class="monospaced">=&lt;ゲートウェイIPv6</span></dt>
<dd>
<p>
IPv6 トラフィックのデフォルト・ゲートウェイ。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">オプション(複数可):<span class="monospaced">ip6</span></td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">ip=&lt;IPv4Format/CIDR&gt;</span><em>(デフォルト =</em> <span class="monospaced">dhcp</span>)</dt>
<dd>
<p>
CIDR形式のIPv4アドレス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ip6=&lt;IPv6Format/CIDR&gt;</span><em>(デフォルト =</em> <span class="monospaced">dhcp</span>)</dt>
<dd>
<p>
CIDR形式のIPv6アドレス。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">ivshmem</span>:<span class="monospaced">size=&lt;整数&gt; [,name=&lt;文字列&gt;</span>] です。</dt>
<dd>
<p>
VM間共有メモリ。VM間やホストとの直接通信に便利です。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">name</span><span class="monospaced">=&lt;文字列</span></dt>
<dd>
<p>
ファイル名。先頭に<em>pve-shm-</em> が付きます。デフォルトは VMID です。VM の停止時に削除されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">size=&lt;整数&gt;</span><span class="monospaced">(1 - N</span>)</dt>
<dd>
<p>
MB 単位のファイルサイズ。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">keephugepages</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
hugepages と一緒に使用します。有効にすると、VMシャットダウン後もhugepagesは削除されず、その後の起動に使用できます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">keyboard</span>:<span class="monospaced">&lt;da | de | de-ch | en-gb | en-us | es | fi | fr | fr-be | fr-ca | fr-ch | hu | is | it | ja | lt | mk | nl | no | pl | pt | pt-br | sl | sv | tr&gt;</span>.</dt>
<dd>
<p>
VNCサーバーのキーボードレイアウト。このオプションは通常必要なく、ゲスト OS 内から処理する方が良い場合が多いです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">kvm</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
KVM ハードウェア仮想化の有効化/無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">localtime</span>:<span class="monospaced">&lt;ブール値</span></dt>
<dd>
<p>
リアルタイムクロック (RTC) をローカル時間に設定します。これは、<span class="monospaced">ostype</span>が Microsoft Windows OS の場合、デフォルトで有効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">lock</span>:<span class="monospaced">&lt;バックアップ｜クローン｜作成｜マイグレーション｜ロールバック｜スナップショット｜スナップショット削除｜サスペンド｜一時停止&gt;。</span></dt>
<dd>
<p>
VM のロック/ロック解除。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">マシン</span>：<span class="monospaced">[type=]&lt;マシンタイプ&gt;] [,enable-s3=&lt;1[,enable-s3=&lt;1|0&gt;] [,enable-s4=&lt;1|0&gt;] [,viommu=&lt;intel|virtio&gt;</span>] とします。</dt>
<dd>
<p>
QEMU マシンの指定。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">enable-s</span><span class="monospaced">3</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
S3 電源状態を有効にします。デフォルトは、マシン タイプ 9.2+pve1 以降で false、それ以前は true です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">enable-s</span><span class="monospaced">4</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
S4 電源状態を有効にします。マシンタイプ 9.2+pve1 ではデフォルトは false、それ以前は true です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">type=&lt;マシン</span><span class="monospaced">タイプ</span></dt>
<dd>
<p>
QEMU マシンタイプを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">viommu=&lt;インテル</span><span class="monospaced">｜ヴィルティオ</span></dt>
<dd>
<p>
ゲストの vIOMMU バリアントを有効にして設定します (Intel vIOMMU は、マシンタイプとして q35 を設定する必要があります)。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">メモリを</span>使用します：<span class="monospaced">[current=]&lt;整数</span></dt>
<dd>
<p>
メモリのプロパティ。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">current=&lt;integer&gt;</span><span class="monospaced">(16 - N)</span><em>(デフォルト =</em> <span class="monospaced">512</span>)</dt>
<dd>
<p>
VM の現在のオンライン RAM 量を MiB で指定します。これは、バルーンデバイスを使用する際に利用可能な最大メモリです。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">migrate_downtime</span>:<span class="monospaced">&lt;number&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0.1</span>)</dt>
<dd>
<p>
マイグレーションの最大許容ダウンタイム（秒）を設定します。新しく汚れた RAM を転送する必要があるため、マイグレーションが最後まで収束しない場合、マイグレーションが収束するまで、この制限を段階的に自動的に増やします。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">migrate_speed</span>:<span class="monospaced">&lt;整数&gt; (0 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
マイグレーションの最大速度(MB/s)を設定します。値 0 は制限なしです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">名前</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM の名前を設定します。設定のWebインターフェイスでのみ使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ネームサーバー</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNSサーバーIPアドレスを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">net[n]</span>：<span class="monospaced">[model=]&lt;enum&gt; [,bridge=&lt;bridge&gt;] [,firewall=&lt;1|0&gt;] [,link_down=&lt;1|0&gt;] [,macaddr=&lt;XX:XX:XX:XX:XX：XX&gt;] [,mtu=&lt;integer&gt;] [,queues=&lt;integer&gt;] [,rate=&lt;number&gt;] [,tag=&lt;integer&gt;] [,trunks=&lt;vlanid[;vlanid...]&gt;][,&lt;model&gt;=&lt;macaddr&gt;] [,&lt;model&gt;=&lt;macaddr&gt;] [,&lt;model&gt;=&lt;macaddr</span></dt>
<dd>
<p>
ネットワークデバイスを指定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">bridge</span><span class="monospaced">=&lt;</span><span class="monospaced">ブリッジ</span></dt>
<dd>
<p>
ネットワークデバイスを接続するブリッジ。Proxmox VEの標準ブリッジは<em>vmbr0と</em>呼ばれます。</p>
<div class="paragraph">
<p>ブリッジを指定しない場合は、DHCP と DNS サービスを提供する kvm ユーザー (NAT) ネットワークデバイスを作成します。以下のアドレスが使用されます：</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>10.0.2.2 ゲートウェイ 10.0.2.3 DNSサーバ 10.0.2.4 SMBサーバ</pre>
</div></div>
<div class="paragraph">
<p>DHCP サーバーは、10.0.2.15 から始まるアドレスをゲストに割り当てます。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">firewall</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このインターフェイスをファイアウォールで保護するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">link_</span><span class="monospaced">down</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このインターフェイスを切断するかどうか（プラグを抜くようなもの）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">macaddr=&lt;XX</span><span class="monospaced">:XX:XX:XX:XX&gt;と</span><span class="monospaced">なります</span><span class="monospaced">。</span></dt>
<dd>
<p>
I/G (Individual/Group) ビットが設定されていない共通の MAC アドレス。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">model=&lt;e1000</span><span class="monospaced">| e1000-82540em | e1000-82544gc | e1000-82545em | e1000e | i82551 | i82557b | i82559er | ne2k_isa | ne2k_pci | pcnet | rtl8139 | virtio | vmxnet3&gt; です。</span></dt>
<dd>
<p>
ネットワークカードモデル。<em>virtio</em>モデルは、非常に低い CPU オーバーヘッドで最高のパフォーマンスを提供します。ゲストがこのドライバーをサポートしていない場合、通常は<em>e1000</em> を使用するのが最善です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mtu=&lt;整数&gt;</span><span class="monospaced">(1 - 65520</span>)</dt>
<dd>
<p>
Force MTU of network device (VirtIO のみ)。<em>1</em>または空に設定すると、ブリッジ MTU が使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">queues=&lt;integer&gt;</span><span class="monospaced">(0 - 64</span>)</dt>
<dd>
<p>
デバイスで使用するパケットキューの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rate=&lt;number&gt;</span><span class="monospaced">(0 - N</span>)</dt>
<dd>
<p>
mbps (メガバイト/秒) 単位のレート制限を浮動小数点数で指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">tag=&lt;integer&gt;</span><span class="monospaced">(1 - 4094</span>)</dt>
<dd>
<p>
このインターフェイスのパケットに適用する VLAN タグ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">trunks=&lt;vlanid</span><span class="monospaced">[;vlanid...]&gt;</span>とします。</dt>
<dd>
<p>
このインターフェイスを通過するVLANトランク。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">numa</span>:<span class="monospaced">&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
NUMAの有効化／無効化。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">numa[n]</span>:<span class="monospaced">cpus=&lt;id[-id];...&gt; [,hostnodes=&lt;id[-id];...&gt;]</span>。<span class="monospaced">[,memory=&lt;number&gt;] [,policy=&lt;preferred|bind|interleave&gt;</span>] の<span class="monospaced">ように</span>指定します。</dt>
<dd>
<p>
NUMAトポロジ。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">cpus=&lt;id</span><span class="monospaced">[-id];...&gt;</span>と<span class="monospaced">します</span>。</dt>
<dd>
<p>
このNUMAノードにアクセスするCPU。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">hostnodes=&lt;id</span><span class="monospaced">[-id];...&gt;</span>とします。</dt>
<dd>
<p>
使用するホストNUMAノード。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">メモリ</span><span class="monospaced">=&lt;</span><span class="monospaced">数</span></dt>
<dd>
<p>
このNUMAノードが提供するメモリ量。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">policy=&lt;bind</span><span class="monospaced">| interleave | preferred&gt; (</span><span class="monospaced">バインド</span><span class="monospaced">| インターリーブ | 優先)</span></dt>
<dd>
<p>
NUMA割り当てポリシー。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">onboot</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
システム起動時にVMを起動するかどうかを指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ostype</span>:<span class="monospaced">&lt;l24 | l26 | その他 | solaris | w2k | w2k3 | w2k8 | win10 | win11 | win7 | win8 | wvista | wxp&gt;</span>.</dt>
<dd>
<p>
ゲストオペレーティングシステムを指定します。これは、特定のオペレーティングシステム用の特別な最適化/機能を有効にするために使用されます：</p>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
その他<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
不特定OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
wxp<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows XP</p>
</td>
</tr>
<tr>
<td class="hdlist1">
w2k<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 2000</p>
</td>
</tr>
<tr>
<td class="hdlist1">
w2k3<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 2003</p>
</td>
</tr>
<tr>
<td class="hdlist1">
w2k8<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 2008</p>
</td>
</tr>
<tr>
<td class="hdlist1">
wvista<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
マイクロソフト Windows Vista</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ウインセブン<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
マイクロソフト Windows 7</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ウィンエイト<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 8/2012/2012r2</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ウインテン<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 10/2016/2019</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ウインイチ<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Microsoft Windows 11/2022/2025</p>
</td>
</tr>
<tr>
<td class="hdlist1">
l24<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Linux 2.4 カーネル</p>
</td>
</tr>
<tr>
<td class="hdlist1">
l26<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Linux 2.6 - 6.X カーネル</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ソラリス<br>
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Solaris/OpenSolaris/OpenIndian カーネル</p>
</td>
</tr>
</table></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">parallel[n]</span>：/<span class="monospaced">dev/parportd+|/dev/usb/lpd+</span></dt>
<dd>
<p>
ホストパラレルデバイスをマップします (n は 0 ～ 2)。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">このオプションは、ホスト・ハードウェアへの直接アクセスを可能にします。そのため、このようなマシンの移行はもはや不可能です。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">実験的です！ユーザーからこのオプションに関する問題が報告されています。</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">protection</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
VM の保護フラグを設定します。これにより、VM の削除およびディスクの削除操作が無効になります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">reboot</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
再起動を許可します。<em>0</em>に設定すると、再起動時に VM が終了します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rng0</span>:<span class="monospaced">[source=]&lt;/dev/urandom|/dev/random|/dev/hwrng&gt; [,max_bytes=&lt;integer&gt;] [,period=&lt;integer&gt;&gt;]</span>です。</dt>
<dd>
<p>
VirtIOベースの乱数生成器を設定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">max_bytes=&lt;integer&gt;</span><em>(デフォルト=</em> <span class="monospaced">1024</span>)</dt>
<dd>
<p>
<em>周期</em>ミリ秒ごとにゲストに注入されるエントロピーの最大バイト数。制限を無効にするには<span class="monospaced">0 を</span>使用します (潜在的に危険です!)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">period=&lt;integer&gt;</span><em>(デフォルト=</em> <span class="monospaced">1000</span>)</dt>
<dd>
<p>
<em>期間</em>ミリ秒ごとにエントロピー注入クォータはリセットされ、ゲストは別の<em>max_bytes</em>のエントロピーを取得できるようになります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ソース=&lt;/dev/hwrng</span><span class="monospaced">｜/dev/random｜/dev/urandom&gt;。</span></dt>
<dd>
<p>
エントロピーを収集するホスト上のファイル。urandomを使用しても、実際のエントロピーのシードであり、提供されるバイトはゲスト上の実際のエントロピーと混合される可能性が高いので、意味のある方法でセキュリティを低下させる<strong>ことは</strong>ありません。/<em>dev/hwrng</em>は、ホストからハードウェア RNG を渡すために使用できます。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">sata[n]</span>：<span class="monospaced">[ファイル=]&lt;ボリューム&gt; [,aio=&lt;ネイティブ|スレッド|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒数&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,mbps=&lt;mbps] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSATAハードディスクまたはCD-ROMとして使用します（nは0～5）。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">aio=&lt;io_uring</span><span class="monospaced">｜ネイティブ｜スレッド&gt;。</span></dt>
<dd>
<p>
使用する AIO タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">backup=&lt;boolean&gt;</span></dt>
<dd>
<p>
バックアップを作成する際にドライブを含めるかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps=&lt;bps&gt;</span></dt>
<dd>
<p>
最大 r/w 速度 (バイト/秒)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_</span><span class="monospaced">max</span><span class="monospaced">_length=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd=&lt;bps</span></dt>
<dd>
<p>
最大読み取り速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr=&lt;bps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cache=&lt;directsync</span><span class="monospaced">｜none｜unsafe｜writeback｜writethrough&gt;と</span><span class="monospaced">なります</span>。</dt>
<dd>
<p>
ドライブのキャッシュ・モード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">detect_</span><span class="monospaced">zeroes</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
ゼロの書き込みを検出し、最適化を試みるかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">discard=&lt;無視</span><span class="monospaced">｜オン</span></dt>
<dd>
<p>
破棄/トリム要求を基礎となるストレージに渡すかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ファイル=</span><span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
ドライブのバッキング・ボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">フォーマット=&lt;cloop</span><span class="monospaced">｜qcow｜qcow2｜qed｜raw｜vmdk&gt;。</span></dt>
<dd>
<p>
ドライブのバックアップ・ファイルのデータ形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops=&lt;iops</span></dt>
<dd>
<p>
最大r/w I/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていないr/w I/Oプールの最大値（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd=&lt;iops</span></dt>
<dd>
<p>
最大読み取りI/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていない最大読み取りI/Oプール（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr=&lt;iops&gt;</span></dt>
<dd>
<p>
最大書き込みI/O（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max=&lt;iops&gt;</span></dt>
<dd>
<p>
スロットルされていない最大書き込みI/Oプール（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大R/W速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_max=&lt;mbps&gt;</span></dt>
<dd>
<p>
スロットルされていない最大R/Wプール（毎秒メガバイト）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd=&lt;mbps</span></dt>
<dd>
<p>
最大読み取り速度（メガバイト／秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd_max=&lt;mbps&gt;</span><span class="monospaced">mbps_wr=&lt;mbps</span></dt>
<dd>
<p>
最大スロットルなし読み取りプール（メガバイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr=&lt;mbps</span></dt>
<dd>
<p>
最大書き込み速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr_max=&lt;mbps</span></dt>
<dd>
<p>
スロットルなしの最大書き込みプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">media=&lt;cdrom</span><span class="monospaced">| disk&gt;</span><em>(デフォルト =</em> <span class="monospaced">disk</span>)</dt>
<dd>
<p>
ドライブのメディア・タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">replicate=&lt;boolean&gt;</span><em>(デフォルト=</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ドライブをレプリケーション・ジョブに使用するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rerror=&lt;ignore</span><span class="monospaced">| report | stop&gt;</span><span class="monospaced">(無視</span><span class="monospaced">| 報告 | 停止)</span></dt>
<dd>
<p>
読み取りエラー・アクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial=</span><span class="monospaced">&lt;シリアル</span></dt>
<dd>
<p>
ドライブのシリアル番号（最大20バイトのURLエンコード）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">shared=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このローカル管理ボリュームをすべてのノードで使用可能としてマークします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションはボリュームを自動的に共有しません！</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">size=</span><span class="monospaced">&lt;ディスク</span><span class="monospaced">サイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは純粋に情報提供であり、何の効果もありません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">snapshot</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
qemu のスナップショットモード機能を制御します。この機能が有効な場合、ディスクに加えられた変更は一時的なものであり、VM がシャットダウンされると破棄されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ssd</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このドライブを回転ハードディスクではなくSSDとして公開するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">werror=&lt;enospc</span><span class="monospaced">｜無視｜報告｜停止</span></dt>
<dd>
<p>
書き込みエラーアクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">wwn=&lt;wwn&gt;</span></dt>
<dd>
<p>
16バイトの16進文字列としてエンコードされたドライブのワールドワイド名。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">scsi[n]</span>：<span class="monospaced">[ファイル=]&lt;ボリューム&gt; [,aio=&lt;native|threads|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;seconds&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt; ] [,iops_rd=&lt;iops] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;seconds&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt;] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps&gt;] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,product=&lt;product&gt;] [,queues=&lt;integer&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,scsiblock=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,ssd=&lt;1|0&gt;] [,vendor=&lt;vendor&gt;] [,werror=&lt;enum&gt;] [,wwn=&lt;wwn&gt;</span>] となります。</dt>
<dd>
<p>
ボリュームをSCSIハードディスクまたはCD-ROMとして使用します（nは0～30）。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">aio=&lt;io_uring</span><span class="monospaced">｜ネイティブ｜スレッド</span></dt>
<dd>
<p>
使用するAIOタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">バックアップ</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
バックアップ作成時にドライブを含めるかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps=&lt;bps</span></dt>
<dd>
<p>
最大R/W速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_</span><span class="monospaced">max</span><span class="monospaced">_length=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd=&lt;bps</span></dt>
<dd>
<p>
最大読み取り速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr=&lt;bps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（バイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cache=&lt;directsync</span><span class="monospaced">｜none｜unsafe｜writeback｜writethrough&gt;と</span><span class="monospaced">なります</span>。</dt>
<dd>
<p>
ドライブのキャッシュ・モード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">detect_</span><span class="monospaced">zeroes</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
ゼロの書き込みを検出し、最適化を試みるかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">discard=&lt;無視</span><span class="monospaced">｜オン</span></dt>
<dd>
<p>
破棄/トリム要求を基礎となるストレージに渡すかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ファイル</span><span class="monospaced">=&lt;</span><span class="monospaced">ボリューム</span></dt>
<dd>
<p>
ドライブのバッキング・ボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">フォーマット=&lt;cloop</span><span class="monospaced">｜qcow｜qcow2｜qed｜raw｜vmdk&gt;。</span></dt>
<dd>
<p>
ドライブのバックアップ・ファイルのデータ形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
最大r/w I/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_max=&lt;iops&gt;</span></dt>
<dd>
<p>
スロットルされていないr/w I/Oプールの最大値（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd=&lt;iops&gt;</span></dt>
<dd>
<p>
最大読み取りI/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていない最大読み取りI/Oプール（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr=&lt;iops&gt;</span></dt>
<dd>
<p>
最大書き込みI/O（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max=&lt;iops&gt;</span></dt>
<dd>
<p>
スロットルされていない最大書き込みI/Oプール（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iothread</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このドライブでiothreadsを使用するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大R/W速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_max=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大スロットルなしR/Wプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd=&lt;mbps</span></dt>
<dd>
<p>
最大読み取り速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd</span><span class="monospaced">_</span><span class="monospaced">max=&lt;mbps&gt;（最大値</span></dt>
<dd>
<p>
スロットルなしの最大読み取りプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr_max=&lt;mbps</span></dt>
<dd>
<p>
スロットルなしの最大書き込みプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">media=&lt;cdrom</span><span class="monospaced">| disk&gt;</span><em>(デフォルトは</em> <span class="monospaced">ディスク</span>)</dt>
<dd>
<p>
ドライブのメディア・タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">プロダクト=</span><span class="monospaced">&lt;プロダクト</span></dt>
<dd>
<p>
ドライブの製品名（最大16バイト）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">キュー=&lt;整数&gt;</span><span class="monospaced">(2 - N</span>)</dt>
<dd>
<p>
キューの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">replicate=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ドライブがレプリケーション・ジョブを考慮すべきかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rerror=&lt;ignore</span><span class="monospaced">| report | stop&gt;</span><span class="monospaced">(無視</span><span class="monospaced">| 報告 | 停止)</span></dt>
<dd>
<p>
読み取りエラー・アクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ro</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
ドライブが読み取り専用かどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">scsiblock=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ホスト・ブロック・デバイスのフル・パススルーにscsi-blockを使用するかどうか。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">ホストの低メモリまたは高メモリフラグメンテーションとの組み合わせでは、I/O エラーにつながる可能性があります。</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial=</span><span class="monospaced">&lt;シリアル</span></dt>
<dd>
<p>
ドライブのシリアル番号（最大 20 バイトの URL エンコード）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">shared=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このローカル管理ボリュームをすべてのノードで使用可能としてマークします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションはボリュームを自動的に共有しません！</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">size=</span><span class="monospaced">&lt;ディスク</span><span class="monospaced">サイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは純粋に情報提供であり、何の効果もありません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">snapshot</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
qemu のスナップショットモード機能を制御します。この機能が有効な場合、ディスクに加えられた変更は一時的なものであり、VM がシャットダウンされると破棄されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ssd</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このドライブを回転ハードディスクではなく SSD として公開するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">vendor=</span><span class="monospaced">&lt;ベンダー</span></dt>
<dd>
<p>
ドライブのベンダー名（最大 8 バイト）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">werror=&lt;enospc</span><span class="monospaced">｜無視｜報告｜停止</span></dt>
<dd>
<p>
書き込みエラー・アクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">wwn=&lt;wwn&gt;</span></dt>
<dd>
<p>
16バイトの16進文字列としてエンコードされたドライブのワールドワイド名。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">scsihw</span>:<span class="monospaced">&lt;lsi | lsi53c810 | megasas | pvscsi | virtio-scsi-pci | virtio-scsi-single&gt;</span><em>(default =</em> <span class="monospaced">lsi</span>)</dt>
<dd>
<p>
SCSIコントローラモデル</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">searchdomain</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：コンテナのDNS検索ドメインを設定します。searchdomainもnameserverも設定されていない場合、Createはホストからの設定を自動的に使用します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial[n]</span>:<span class="monospaced">(/dev/.+|socket)</span></dt>
<dd>
<p>
VM内にシリアルデバイスを作成し（nは0～3）、ホストのシリアルデバイス（例：/dev/ttyS0）を通すか、ホスト側にunixソケットを作成します（<em>qm terminalを</em>使用してターミナル接続を開きます）。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">ホストシリアルデバイスを経由する場合、そのようなマシンの移行はもはや不可能です。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">特に注意してください！ユーザーからこのオプションに関する問題が報告されています。</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">shares</span>:<span class="monospaced">&lt;integer&gt; (0 - 50000)</span><em>(デフォルト =</em> <span class="monospaced">1000</span>)</dt>
<dd>
<p>
自動バルーン用のメモリ共有量。この数値が大きいほど、この VM はより多くのメモリを取得します。数値は、他のすべての実行中の VM の重みに対する相対値です。ゼロを使用すると、オートバルーニングは無効になります。オートバルーニングはpvestatdによって実行されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">smbios1</span>：[<span class="monospaced">base64=&lt;1|0&gt;] [,family=&lt;Base64エンコードされた文字列&gt;] [,manufacturer=&lt;Base64エンコードされた文字列&gt;] [,product=&lt;Base64エンコードされた文字列&gt;] [,serial=&lt;Base64エンコードされた文字列&gt;] [,sku=&lt;Base64エンコードされた文字列&gt;] [,uuid=&lt;UUID&gt;] [,version=&lt;Base64エンコードされた文字列&gt;</span>].</dt>
<dd>
<p>
SMBIOS タイプ 1 フィールドを指定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">base</span><span class="monospaced">64=&lt;ブール値</span></dt>
<dd>
<p>
SMBIOS値がbase64エンコードされていることを示すフラグ</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">family=&lt;Base64</span><span class="monospaced">エンコードされた文字列</span></dt>
<dd>
<p>
SMBIOS1ファミリ文字列を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">manufacturer=&lt;Base64</span><span class="monospaced">エンコードされた文字列</span></dt>
<dd>
<p>
SMBIOS1の製造元を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">product=&lt;Base64</span><span class="monospaced">エンコードされた文字列</span></dt>
<dd>
<p>
SMBIOS1のプロダクトIDを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial=&lt;Base64</span><span class="monospaced">エンコードされた文字列</span></dt>
<dd>
<p>
SMBIOS1のシリアル番号を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">sku=&lt;Base64</span><span class="monospaced">エンコードされた文字列</span></dt>
<dd>
<p>
SMBIOS1 SKU文字列を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">uuid=&lt;UUID</span></dt>
<dd>
<p>
SMBIOS1のUUIDを設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">バージョン=&lt;Base64</span><span class="monospaced">エンコード文字列</span></dt>
<dd>
<p>
SMBIOS1のバージョンを設定します。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">smp</span>:<span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPU 数。代わりに -sockets オプションを使用してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">sockets</span>:<span class="monospaced">&lt;integer&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
CPUソケット数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">spice_enhancements</span>：<span class="monospaced">[フォルダ共有=&lt;1|0&gt;] [,ビデオストリーミング=&lt;off|all|filter&gt;</span>]。</dt>
<dd>
<p>
SPICE用の追加機能拡張を設定します。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">foldersharing</span><span class="monospaced">=&lt;boolean</span><em>&gt;（デフォルト =</em> <span class="monospaced">0）</span></dt>
<dd>
<p>
SPICEによるフォルダ共有を有効にします。VMにSpice-WebDAVデーモンがインストールされている必要があります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">videoostreaming=&lt;all</span><span class="monospaced">| filter | off&gt;</span><em>(default =</em> <span class="monospaced">off</span>)</dt>
<dd>
<p>
ビデオストリーミングの有効化検出されたビデオストリームに圧縮を使用します。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">sshkeys</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
cloud-init：公開SSH鍵の設定（1行に1つの鍵、OpenSSH形式）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">startdate</span>:<span class="monospaced">(現在 | YYYY-MM-DD | YYYY-MM-DDTHH:MM:SS)</span><em>(デフォルト =</em> <span class="monospaced">現在</span>)</dt>
<dd>
<p>
リアルタイムクロックの初期日付を設定します。有効な日付のフォーマットは、'now' または<em>2006-06-17T16:01:21</em>または<em>2006-06-17</em> です。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">startup</span>：[[order=]￤d+] [,up=d+] [,down=d+] ``タブレット: (&lt;oolean&gt;)</dt>
<dd>
<p>
スタートアップとシャットダウンの動作。Orderは、一般的な起動順序を定義する非負の数値です。シャットダウンは逆の順序で行われます。さらに、次のVMが起動または<em>停止</em>するまでの待ち時間を秒単位で設定できます<em>。</em></p>
</dd>
<dt class="hdlist1">
<span class="monospaced">tablet</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
USBタブレット・デバイスの有効/無効を設定します。このデバイスは通常、VNC で絶対的なマウスポジショニングを可能にするために必要です。そうしないと、マウスは通常の VNC クライアントと同期しません。1つのホスト上で多くのコンソールオンリーゲストを実行している場合、コンテキストスイッチのいくつかを節約するためにこれを無効にすることを検討することができます。spice<span class="monospaced">(qm set &lt;vmid&gt; --vga qxl</span>) を使用すると、デフォルトでオフになります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">tags</span>:<span class="monospaced">&lt;文字列</span></dt>
<dd>
<p>
VM のタグ。これはメタ情報のみです。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">tdf</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
タイムドリフト修正の有効/無効を設定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">template</span>:<span class="monospaced">&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
テンプレートの有効/無効。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">tpmstate0</span>:<span class="monospaced">[file=]&lt;volume&gt; [,size=&lt;DiskSize&gt;] [,version=&lt;v1.2|v2.0&gt;].</span></dt>
<dd>
<p>
TPMの状態を保存するDiskの設定。フォーマットは<em>raw</em> 固定。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">ファイル=</span><span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
ドライブのバックボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">サイズ=</span><span class="monospaced">&lt;ディスク</span><span class="monospaced">サイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは単なる情報であり、何の効果もありません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">バージョン=&lt;v1</span><span class="monospaced">.2 | v2.0&gt;</span><em>(デフォルト =</em> <span class="monospaced">v1.2</span>)</dt>
<dd>
<p>
TPMインターフェースのバージョン。これは後で変更できないことに注意してください。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">未使用[n]：</span> <span class="monospaced">[ファイル=]&lt;ボリューム</span></dt>
<dd>
<p>
未使用ボリュームの参照。これは内部的に使用されるので、手動で変更しないでください。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">ファイル</span><span class="monospaced">=&lt;</span><span class="monospaced">ボリューム</span></dt>
<dd>
<p>
ドライブのバックボリューム。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">usb[n]：</span> <span class="monospaced">[[ホスト=]&lt;HOSTUSBDEVICE|スパイス］[,mapping=&lt;mapping-id&gt;] [,usb3=&lt;1|0&gt;</span>] となります。</dt>
<dd>
<p>
USB デバイスの設定（n は 0～4 で、マシンのバージョン &gt;= 7.1 および ostype l26 または Windows &gt; 7 の場合、n は最大 14 まで可能）。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">ホスト=</span><span class="monospaced">&lt;HOSTUSBDEVICE</span><span class="monospaced">|spice&gt;。</span></dt>
<dd>
<p>
ホスト USB デバイスまたはポート、または値の<em>スパイス</em>。HOSTUSBDEVICEの構文は次のとおり：</p>
<div class="literalblock">
<div class="content monospaced">
<pre>'bus-port(.port)*'(10進数)または'vendor_id:product_id'(16進数)または'spice'</pre>
</div></div>
<div class="paragraph">
<p><em>lsusb -t</em>コマンドを使用すると、既存のusbデバイスを一覧表示できます。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">このオプションは、ホストハードウェアへの直接アクセスを許可します。そのため、このようなマシンのマイグレーションはもはや不可能です。</td>
</tr></table>
</div>
<div class="paragraph">
<p><em>spiceという</em>値を使うと、spice用のusbリダイレクトデバイスを追加できます。</p></div>
<div class="paragraph">
<p>これか<em>マッピング</em>キーのどちらかが設定されている必要があります。</p></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">マッピング=</span><span class="monospaced">&lt;マッピング</span><span class="monospaced">ID</span></dt>
<dd>
<p>
クラスタ・ワイド・マッピングのID。これかデフォルトキーの<em>hostの</em>どちらかを設定する必要があります。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">usb3=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
指定されたホストオプションがUSB3デバイスまたはポートであるかどうかを指定します。最近のゲスト (マシンバージョン &gt;= 7.1 および ostype l26 と windows &gt; 7) では、このフラグは関係ありません (すべてのデバイスは xhci コントローラに接続されています)。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">vcpus</span>:<span class="monospaced">&lt;整数&gt; (1 - N)</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ホットプラグされたVCPUの数。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">vga</span>:<span class="monospaced">[[type=]&lt;enum&gt;] [,</span>クリップボード<span class="monospaced">=&lt;</span>vn<span class="monospaced">[クリップボード=&lt;vnc&gt;] [,メモリ=&lt;整数］</span></dt>
<dd>
<p>
VGAハードウェアの設定。高解像度モード（&gt;= 1280x1024x16）を使用する場合は、VGA メモリオプションを増やす必要があります。QEMU 2.9以降、デフォルトのVGAディスプレイタイプは、<em>cirrusを</em>使用する一部のWindowsバージョン（XPおよびそれ以前）以外のすべてのOSタイプで<em>標準となって</em>います。<em>qxl</em>オプションは SPICE ディスプレイサーバーを有効にします。また、シリアルデバイスを端末として使用し、グラフィックカードなしで実行することもできます。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">クリップボード=</span><span class="monospaced">&lt;vnc</span></dt>
<dd>
<p>
特定のクリップボードを有効にします。設定されていない場合、ディスプレイの種類に応じて SPICE のものが追加されます。VNC クリップボードとの移行はまだサポートされていません！</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">メモリ=&lt;整数&gt;</span><span class="monospaced">(4 - 512</span>)</dt>
<dd>
<p>
VGA メモリを設定します (MiB 単位)。シリアル表示には影響しません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">type=&lt;cirrus</span><span class="monospaced">| none | qxl | qxl2 | qxl3 | qxl4 | serial0 | serial1 | serial2 | serial3 | std | virtio | virtio-gl | vmware&gt;</span><em>(default =</em> <span class="monospaced">std</span>)</dt>
<dd>
<p>
VGA タイプを選択します。<em>cirrus</em>タイプの使用はお勧めしません。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">virtio[n]：</span> <span class="monospaced">[ファイル=]&lt;ボリューム&gt; [,aio=&lt;ネイティブ|スレッド|io_uring&gt;] [,backup=&lt;1|0&gt;] [,bps=&lt;bps&gt;] [,bps_max_length=&lt;秒&gt;] [,bps_rd=&lt;bps&gt;] [,bps_rd_max_length=&lt;seconds&gt;] [,bps_wr=&lt;bps&gt;] [,bps_wr_max_length=&lt;seconds&gt;] [,cache=&lt;enum&gt;] [,detect_zeroes=&lt;1|0&gt;] [,discard=&lt;ignore|on&gt;] [,format=&lt;enum&gt;] [,iops=&lt;iops&gt;] [,iops_max=&lt;iops&gt;] [,iops_max_length=&lt;seconds&gt;] [,iops_rd=&lt;iops&gt;] [,iops_rd_max=&lt;iops&gt;] [,iops_rd_max_length=&lt;秒&gt;] [,iops_wr=&lt;iops&gt;] [,iops_wr_max=&lt;iops&gt;] [,iops_wr_max_length=&lt;seconds&gt;] [,iothread=&lt;1|0&gt; ]。] [,mbps=&lt;mbps&gt;] [,mbps_max=&lt;mbps&gt;] [,mbps_rd=&lt;mbps&gt;] [,mbps_rd_max=&lt;mbps&gt;] [,mbps_wr=&lt;mbps] [,mbps_wr_max=&lt;mbps&gt;] [,media=&lt;cdrom|disk&gt;] [,replicate=&lt;1|0&gt;] [,rerror=&lt;ignore|report|stop&gt;] [,ro=&lt;1|0&gt;] [,serial=&lt;serial&gt;] [,shared=&lt;1|0&gt;] [,size=&lt;DiskSize&gt;] [,snapshot=&lt;1|0&gt;] [,werror=&lt;enum&gt;]</span>となります。</dt>
<dd>
<p>
ボリュームをVIRTIOハードディスクとして使用します(nは0〜15)。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">aio=&lt;io_uring</span><span class="monospaced">| ネイティブ | スレッド&gt;。</span></dt>
<dd>
<p>
使用するAIOタイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">backup=&lt;boolean&gt;</span></dt>
<dd>
<p>
バックアップ作成時にドライブを含めるかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps=&lt;bps&gt;</span></dt>
<dd>
<p>
最大R/W速度をバイト/秒で指定します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_max_length=&lt;seconds&gt;</span><span class="monospaced">です</span>。</dt>
<dd>
<p>
I/Oバーストの最大長（秒</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd=&lt;bps</span></dt>
<dd>
<p>
最大読み取り速度（バイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_rd</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr=&lt;bps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（バイト毎秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">bps_wr</span><span class="monospaced">_</span><span class="monospaced">max_length=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">cache=&lt;directsync</span><span class="monospaced">｜none｜unsafe｜writeback｜writethrough&gt;と</span><span class="monospaced">なります</span>。</dt>
<dd>
<p>
ドライブのキャッシュ・モード</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">detect_</span><span class="monospaced">zeroes</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
ゼロの書き込みを検出し、最適化を試みるかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">discard=&lt;無視</span><span class="monospaced">｜オン</span></dt>
<dd>
<p>
破棄/トリム要求を基礎となるストレージに渡すかどうかを制御します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ファイル=</span><span class="monospaced">&lt;ボリューム</span></dt>
<dd>
<p>
ドライブのバッキング・ボリューム。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">フォーマット=&lt;cloop</span><span class="monospaced">｜qcow｜qcow2｜qed｜raw｜vmdk&gt;。</span></dt>
<dd>
<p>
ドライブのバックアップ・ファイルのデータ形式。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops=&lt;iops</span></dt>
<dd>
<p>
最大r/w I/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていないr/w I/Oプールの最大値（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_max_length=&lt;seconds&gt;</span><span class="monospaced">です。</span></dt>
<dd>
<p>
I/Oバーストの最大長（秒単位）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd=&lt;iops&gt;</span></dt>
<dd>
<p>
最大読み取りI/O（1秒あたりの操作数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_</span><span class="monospaced">max</span><span class="monospaced">=&lt;アイオプス</span></dt>
<dd>
<p>
スロットルされていない最大読み取りI/Oプール（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_rd_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
読み取りI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr=&lt;iops&gt;</span></dt>
<dd>
<p>
最大書き込みI/O（1秒あたりの動作）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max=&lt;iops&gt;</span></dt>
<dd>
<p>
スロットルされていない最大書き込みI/Oプール（1秒あたりの処理数）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iops_wr_max_</span><span class="monospaced">length</span><span class="monospaced">=&lt;秒</span></dt>
<dd>
<p>
書き込みI/Oバーストの最大長（秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">iothread</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
このドライブでiothreadsを使用するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大R/W速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_max=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大スロットルなしR/Wプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd=&lt;mbps</span></dt>
<dd>
<p>
最大読み取り速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_rd</span><span class="monospaced">_</span><span class="monospaced">max=&lt;mbps&gt;（最大値</span></dt>
<dd>
<p>
スロットルなしの最大読み取りプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr=&lt;mbps&gt;</span></dt>
<dd>
<p>
最大書き込み速度（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">mbps_wr_max=&lt;mbps</span></dt>
<dd>
<p>
スロットルなしの最大書き込みプール（メガバイト/秒）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">media=&lt;cdrom</span><span class="monospaced">| disk&gt;</span><em>(デフォルト =</em> <span class="monospaced">disk</span>)</dt>
<dd>
<p>
ドライブのメディア・タイプ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">replicate=&lt;boolean&gt;</span><em>(デフォルト=</em> <span class="monospaced">1</span>)</dt>
<dd>
<p>
ドライブをレプリケーション・ジョブに使用するかどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">rerror=&lt;ignore</span><span class="monospaced">| report | stop&gt;</span><span class="monospaced">(無視</span><span class="monospaced">| 報告 | 停止)</span></dt>
<dd>
<p>
読み取りエラー・アクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">ro</span><span class="monospaced">=&lt;</span><span class="monospaced">ブール値</span></dt>
<dd>
<p>
ドライブが読み取り専用かどうか。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">serial=</span><span class="monospaced">&lt;シリアル</span></dt>
<dd>
<p>
ドライブのシリアル番号（最大20バイトのURLエンコード）。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">shared=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このローカル管理ボリュームをすべてのノードで使用可能としてマークします。</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">このオプションは、ボリュームを自動的に共有しません！</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<span class="monospaced">size=</span><span class="monospaced">&lt;ディスク</span><span class="monospaced">サイズ</span></dt>
<dd>
<p>
ディスクサイズ。これは純粋に情報提供であり、何の効果もありません。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">snapshot</span><span class="monospaced">=&lt;ブール値</span></dt>
<dd>
<p>
qemu のスナップショットモード機能を制御します。有効な場合、ディスクに加えられた変更は一時的なものであり、VM がシャットダウンされると破棄されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">werror=&lt;enospc</span><span class="monospaced">｜無視｜報告｜停止</span></dt>
<dd>
<p>
書き込みエラーアクション。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">virtiofs[n]</span>：[<span class="monospaced">dirid=]&lt;mapping-id&gt; [,cache=&lt;enum&gt;] [,direct-io=&lt;1|0&gt;] [,expose-acl=&lt;1|0&gt;] [,expose-xattr=&lt;1|0&gt;</span>].</dt>
<dd>
<p>
Virtio-fs を使ってホストとゲストでディレクトリを共有する設定。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">cache=&lt;always</span><span class="monospaced">| auto | metadata | never&gt;</span><em>(default =</em> <span class="monospaced">auto</span>)</dt>
<dd>
<p>
ファイルシステムが使用するキャッシュポリシー (auto、always、metadata、never)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">direct-io=&lt;boolean&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
ゲスト・アプリケーションから渡された O_DIRECT フラグを尊重します。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">dirid=</span><span class="monospaced">&lt;マッピング</span><span class="monospaced">ID</span></dt>
<dd>
<p>
ゲストと共有するディレクトリマッピングのマッピング識別子。VM 内のマウントタグとしても使用されます。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">expose</span><span class="monospaced">-</span><span class="monospaced">acl=&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このマウントで POSIX ACL のサポートを有効にします (有効な ACL は xattr を意味します)。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">expose-</span><span class="monospaced">xattr</span><span class="monospaced">=&lt;ブール値&gt;</span><em>(デフォルト =</em> <span class="monospaced">0</span>)</dt>
<dd>
<p>
このマウントの拡張属性のサポートを有効にします。</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<span class="monospaced">vmgenid</span>:<span class="monospaced">&lt;UUID&gt;</span><em>(デフォルト =</em> <span class="monospaced">1 (自動生成)</span>)</dt>
<dd>
<p>
VM generation ID (vmgenid) デバイスは、ゲスト OS に 128 ビットの整数値識別子を公開します。これにより、仮想マシンが異なる構成で実行された場合（スナップショットの実行やテンプレートからの作成など）、ゲストオペレーティングシステムに通知できます。ゲスト OS はこの変更に気付き、分散データベースのコピーをダーティとしてマークしたり、乱数ジェネレーターを再初期化したりするなど、適切な対応を取ることができます。自動作成は API/CLI の作成または更新メソッドによって実行される場合にのみ機能し、設定ファイルを手動で編集する場合には機能しないことに注意してください。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">vmstatestorage</span>:<span class="monospaced">&lt;ストレージID</span></dt>
<dd>
<p>
VM ステートボリューム/ファイルのデフォルトストレージ。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">watchdog</span>:<span class="monospaced">[[model=]&lt;i6300esb|ib700&gt;][action=&lt;enum&gt;］</span></dt>
<dd>
<p>
仮想ハードウェアウォッチドッグデバイスの作成。(ゲストのアクションによって) 有効化されると、ウォッチドッグはゲスト内のエージェントによって定期的にポーリングされる必要があります。</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">action=&lt;デバッグ</span><span class="monospaced">｜なし｜一時停止｜電源オフ｜リセット｜シャットダウン</span></dt>
<dd>
<p>
起動後にゲストが時間内にウォッチドッグのポーリングに失敗した場合に実行するアクション。</p>
</dd>
<dt class="hdlist1">
<span class="monospaced">model=&lt;i6300esb</span><span class="monospaced">| ib700&gt;</span><em>(デフォルト =</em> <span class="monospaced">i6300esb</span>)</dt>
<dd>
<p>
エミュレートするウォッチドッグタイプ。</p>
</dd>
</dl></div>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_locks">
ロック<a class="headerlink" href="#_locks" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>オンライン移行、スナップショット、およびバックアップ<span class="monospaced">（vzdump</span>）は、影響を受けるVM上で互換性のない同時アクションを防ぐためにロックを設定します。このようなロックを手動で削除する必要がある場合があります(電源障害後など)。</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre># qm unlock &lt;vmid&gt;</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Caution" src="data:image/png;base64,
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" />
</td>
<td class="content">ロックを設定したアクションがもう実行されていないことを確認している場合にのみ、これを実行してください。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_files">
ファイル<a class="headerlink" href="#_files" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<span class="monospaced">/etc/pve/qemu-server/&lt;vmid&gt;.conf。</span></dt>
<dd>
<p>
VM<em>&lt;VMID&gt;</em> の設定ファイル<em>。</em></p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_copyright_and_disclaimer">
著作権と免責事項<a class="headerlink" href="#_copyright_and_disclaimer" title="Permalink to this heading"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>著作権 © 2007-2022 Proxmox Server Solutions GmbH</p></div>
<div class="paragraph">
<p>このプログラムはフリー・ソフトウェアです。フリー・ソフトウェア財団が発行したGNU Affero General Public Licenseのバージョン3、またはそれ以降のバージョンのいずれかに従って、再配布および/または変更を行うことができます。</p></div>
<div class="paragraph">
<p>このプログラムは有用であることを期待して配布されていますが、商品性や特定目的への適合性についての暗黙の保証もなく、いかなる保証もありません。詳細はGNU Affero General Public Licenseをご覧ください。</p></div>
<div class="paragraph">
<p>あなたはこのプログラムとともにGNU Affero General Public Licenseのコピーを受け取っているはずです。  そうでない場合は、<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>を参照してください。</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
バージョン 9.0.8<br>
最終更新 Tue Aug 5 16:04:45 CEST 2025</div>
</div>
</body>
</html>

<!-- ***** END FILE ***** -->

